(self.webpackChunkpage=self.webpackChunkpage||[]).push([[792],{523:(At,Mt,$e)=>{"use strict";var zt=$e(958),yt=$e.n(zt),on=$e(458),gn=$e.n(on),tn=$e(51),mn=$e.n(tn),nn=$e(428),_n=$e.n(nn);let ze=null,be=1;const Ot=Symbol("SIGNAL");function fe(e){const t=ze;return ze=e,t}const yn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ar(e){if((!Un(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==be)){if(!e.producerMustRecompute(e)&&!po(e))return e.dirty=!1,void(e.lastCleanEpoch=be);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=be}}function sn(e){return e&&(e.nextProducerIndex=0),fe(e)}function po(e){Hn(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ar(n),r!==n.version))return!0}return!1}function Tn(e){if(Hn(e),Un(e))for(let t=0;t<e.producerNode.length;t++)lr(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function lr(e,t){if(function Et(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),1===e.liveConsumerNode.length&&function Wt(e){return void 0!==e.producerNode}(e))for(let r=0;r<e.producerNode.length;r++)lr(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Hn(o),o.producerIndexOfThis[r]=t}}function Un(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Hn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let aa=null;function ht(e){return"function"==typeof e}function Lo(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const qi=Lo(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function jo(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class T{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ht(r))try{r()}catch(i){t=i instanceof qi?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Ve(i)}catch(s){t=t??[],s instanceof qi?t=[...t,...s.errors]:t.push(s)}}if(t)throw new qi(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Ve(t);else{if(t instanceof T){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&jo(n,t)}remove(t){const{_finalizers:n}=this;n&&jo(n,t),t instanceof T&&t._removeParent(this)}}T.EMPTY=(()=>{const e=new T;return e.closed=!0,e})();const B=T.EMPTY;function X(e){return e instanceof T||e&&"closed"in e&&ht(e.remove)&&ht(e.add)&&ht(e.unsubscribe)}function Ve(e){ht(e)?e():e.unsubscribe()}const je={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ge={setTimeout(e,t,...n){const{delegate:r}=Ge;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Ge;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function cn(e){Ge.setTimeout(()=>{const{onUnhandledError:t}=je;if(!t)throw e;t(e)})}function W(){}const Ee=b("C",void 0,void 0);function b(e,t,n){return{kind:e,value:t,error:n}}let R=null;function w(e){if(je.useDeprecatedSynchronousErrorHandling){const t=!R;if(t&&(R={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=R;if(R=null,n)throw r}}else e()}class $ extends T{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,X(t)&&t.add(this)):this.destination=ot}static create(t,n,r){return new Ce(t,n,r)}next(t){this.isStopped?Le(function v(e){return b("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Le(function ae(e){return b("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Le(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ce=Function.prototype.bind;function se(e,t){return ce.call(e,t)}class he{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ne(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ne(r)}else ne(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ne(n)}}}class Ce extends ${constructor(t,n,r){let o;if(super(),ht(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&je.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&se(t.next,i),error:t.error&&se(t.error,i),complete:t.complete&&se(t.complete,i)}):o=t}this.destination=new he(o)}}function ne(e){je.useDeprecatedSynchronousErrorHandling?function N(e){je.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=e)}(e):cn(e)}function Le(e,t){const{onStoppedNotification:n}=je;n&&Ge.setTimeout(()=>n(e,t))}const ot={closed:!0,next:W,error:function Ie(e){throw e},complete:W},dt="function"==typeof Symbol&&Symbol.observable||"@@observable";function it(e){return e}function vt(e){return 0===e.length?it:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let ee=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function F(e){return e&&e instanceof $||function et(e){return e&&ht(e.next)&&ht(e.error)&&ht(e.complete)}(e)&&X(e)}(n)?n:new Ce(n,r,o);return w(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=J(r))((o,i)=>{const s=new Ce({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[dt](){return this}pipe(...n){return vt(n)(this)}toPromise(n){return new(n=J(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function J(e){var t;return null!==(t=e??je.Promise)&&void 0!==t?t:Promise}const ie=Lo(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let K=(()=>{class e extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new q(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ie}next(n){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?B:(this.currentObservers=null,i.push(n),new T(()=>{this.currentObservers=null,jo(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new ee;return n.source=this,n}}return e.create=(t,n)=>new q(t,n),e})();class q extends K{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:B}}class Q extends K{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function pe(e){return ht(e?.lift)}function re(e){return t=>{if(pe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(e,t,n,r,o){return new Te(e,t,n,r,o)}class Te extends ${constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Me(e,t){return re((n,r)=>{let o=0;n.subscribe(te(r,i=>{r.next(e.call(t,i,o++))}))})}const ke="https://g.co/ng/security#xss";class C extends Error{constructor(t,n){super(function D(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function kt(e){return{toString:e}.toString()}const qt="__parameters__";function I(e,t,n){return kt(()=>{const r=function U(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,l,h){const p=c.hasOwnProperty(qt)?c[qt]:Object.defineProperty(c,qt,{value:[]})[qt];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const Z=globalThis;function O(e){for(let t in e)if(e[t]===O)return t;throw Error("Could not find renamed property on target object.")}function Y(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Y).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ke(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const $r=O({__forward_ref__:O});function $n(e){return e.__forward_ref__=$n,e.toString=function(){return Y(this())},e}function ye(e){return Vo(e)?e():e}function Vo(e){return"function"==typeof e&&e.hasOwnProperty($r)&&e.__forward_ref__===$n}function ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ai(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qc(e){return pm(e,Xc)||pm(e,gm)}function pm(e,t){return e.hasOwnProperty(t)?e[t]:null}function Jc(e){return e&&(e.hasOwnProperty(Vd)||e.hasOwnProperty(RS))?e[Vd]:null}const Xc=O({\u0275prov:O}),Vd=O({\u0275inj:O}),gm=O({ngInjectableDef:O}),RS=O({ngInjectorDef:O});class oe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zd(e){return e&&!!e.\u0275providers}const ga=O({\u0275cmp:O}),Gd=O({\u0275dir:O}),Wd=O({\u0275pipe:O}),ym=O({\u0275mod:O}),mo=O({\u0275fac:O}),ma=O({__NG_ELEMENT_ID__:O}),vm=O({__NG_ENV_ID__:O});function Oe(e){return"string"==typeof e?e:null==e?"":String(e)}function qd(e,t){throw new C(-201,!1)}var Ze=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ze||{});let Zd;function bm(){return Zd}function zn(e){const t=Zd;return Zd=e,t}function wm(e,t,n){const r=Qc(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ze.Optional?null:void 0!==t?t:void qd()}const ya={},Yd="__NG_DI_FLAG__",el="ngTempTokenPath",LS=/\n/gm,Dm="__source";let Zi;function Bo(e){const t=Zi;return Zi=e,t}function BS(e,t=Ze.Default){if(void 0===Zi)throw new C(-203,!1);return null===Zi?wm(e,void 0,t):Zi.get(e,t&Ze.Optional?null:void 0,t)}function Se(e,t=Ze.Default){return(bm()||BS)(ye(e),t)}function P(e,t=Ze.Default){return Se(e,tl(t))}function tl(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Kd(e){const t=[];for(let n=0;n<e.length;n++){const r=ye(e[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let o,i=Ze.Default;for(let s=0;s<r.length;s++){const a=r[s],c=US(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}t.push(Se(o,i))}else t.push(Se(r))}return t}function va(e,t){return e[Yd]=t,e.prototype[Yd]=t,e}function US(e){return e[Yd]}const nl=va(I("Optional"),8),rl=va(I("SkipSelf"),4);function ci(e,t){return e.hasOwnProperty(mo)?e[mo]:null}function Yi(e,t){e.forEach(n=>Array.isArray(n)?Yi(n,t):t(n))}function Cm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ol(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const zr={},nt=[],Gr=new oe(""),Sm=new oe("",-1),Xd=new oe("");class sl{get(t,n=ya){if(n===ya){const r=new Error(`NullInjectorError: No provider for ${Y(t)}!`);throw r.name="NullInjectorError",r}return n}}var al=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(al||{}),_r=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(_r||{}),Uo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Uo||{});function ZS(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function ef(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{const i=o,s=n[++r];Mm(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Tm(e){return 3===e||4===e||6===e}function Mm(e){return 64===e.charCodeAt(0)}function ba(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||xm(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function xm(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const Nm="ng-template";function YS(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==ZS(t[o+1].toLowerCase(),n,0))return!0}else if(tf(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function tf(e){return 4===e.type&&e.value!==Nm}function KS(e,t,n){return t===(4!==e.type||n?e.value:Nm)}function QS(e,t,n){let r=4;const o=e.attrs,i=null!==o?function eT(e){for(let t=0;t<e.length;t++)if(Tm(e[t]))return t;return e.length}(o):0;let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!KS(e,c,n)||""===c&&1===t.length){if(Ir(r))return!1;s=!0}}else if(8&r){if(null===o||!YS(e,o,c,n)){if(Ir(r))return!1;s=!0}}else{const l=t[++a],h=JS(c,o,tf(e),n);if(-1===h){if(Ir(r))return!1;s=!0;continue}if(""!==l){let p;if(p=h>i?"":o[h+1].toLowerCase(),2&r&&l!==p){if(Ir(r))return!1;s=!0}}}}else{if(!s&&!Ir(r)&&!Ir(c))return!1;if(s&&Ir(c))continue;s=!1,r=c|1&r}}return Ir(r)||s}function Ir(e){return!(1&e)}function JS(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function tT(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Rm(e,t,n=!1){for(let r=0;r<t.length;r++)if(QS(e,t[r],n))return!0;return!1}function Am(e,t){return e?":not("+t.trim()+")":t}function rT(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Ir(s)&&(t+=Am(i,o),o=""),r=s,i=i||!Ir(r);n++}return""!==o&&(t+=Am(i,o)),t}function Qe(e){return kt(()=>{const t=Om(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===al.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||_r.Emulated,styles:e.styles||nt,_:null,schemas:e.schemas||null,tView:null,id:""};Pm(n);const r=e.dependencies;return n.directiveDefs=cl(r,!1),n.pipeDefs=cl(r,!0),n.id=function lT(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function sT(e){return qe(e)||Zt(e)}function aT(e){return null!==e}function Qi(e){return kt(()=>({type:e.type,bootstrap:e.bootstrap||nt,declarations:e.declarations||nt,imports:e.imports||nt,exports:e.exports||nt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function km(e,t){if(null==e)return zr;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,s,a=Uo.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),t?(n[i]=a!==Uo.None?[r,a]:r,t[i]=s):n[i]=r}return n}function Nn(e){return kt(()=>{const t=Om(e);return Pm(t),t})}function qe(e){return e[ga]||null}function Zt(e){return e[Gd]||null}function ln(e){return e[Wd]||null}function bn(e,t){const n=e[ym]||null;if(!n&&!0===t)throw new Error(`Type ${Y(e)} does not have '\u0275mod' property.`);return n}function Om(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||zr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||nt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:km(e.inputs,t),outputs:km(e.outputs),debugInfo:null}}function Pm(e){e.features?.forEach(t=>t(e))}function cl(e,t){if(!e)return null;const n=t?ln:sT;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(aT)}function Fm(...e){return{\u0275providers:nf(0,e),\u0275fromNgModule:!0}}function nf(e,...t){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return Yi(t,s=>{const a=s;ul(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&Lm(o,i),n}function Lm(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];rf(o,i=>{t(i,r)})}}function ul(e,t,n,r){if(!(e=ye(e)))return!1;let o=null,i=Jc(e);const s=!i&&qe(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const c=e.ngModule;if(i=Jc(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)ul(l,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let l;r.add(o);try{Yi(i.imports,h=>{ul(h,t,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&Lm(l,t)}if(!a){const l=ci(o)||(()=>new o);t({provide:o,useFactory:l,deps:nt},o),t({provide:Xd,useValue:o,multi:!0},o),t({provide:Gr,useValue:()=>Se(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const l=e;rf(c,h=>{t(h,l)})}}}return o!==e&&void 0!==e.providers}function rf(e,t){for(let n of e)zd(n)&&(n=n.\u0275providers),Array.isArray(n)?rf(n,t):t(n)}const uT=O({provide:String,useValue:O});function sf(e){return null!==e&&"object"==typeof e&&uT in e}function li(e){return"function"==typeof e}const af=new oe(""),dl={},fT={};let cf;function fl(){return void 0===cf&&(cf=new sl),cf}class qn{}class Ji extends qn{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uf(t,s=>this.processProvider(s)),this.records.set(Sm,Xi(void 0,this)),o.has("environment")&&this.records.set(qn,Xi(void 0,this));const i=this.records.get(af);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Xd,nt,Ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=fe(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Bo(this),r=zn(void 0);try{return t()}finally{Bo(n),zn(r)}}get(t,n=ya,r=Ze.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(vm))return t[vm](this);r=tl(r);const i=Bo(this),s=zn(void 0);try{if(!(r&Ze.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function yT(e){return"function"==typeof e||"object"==typeof e&&e instanceof oe}(t)&&Qc(t);c=l&&this.injectableDefInScope(l)?Xi(lf(t),dl):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&Ze.Self?fl():this.parent).get(t,n=r&Ze.Optional&&n===ya?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[el]=a[el]||[]).unshift(Y(t)),i)throw a;return function HS(e,t,n,r){const o=e[el];throw t[Dm]&&o.unshift(t[Dm]),e.message=function $S(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Y(t);if(Array.isArray(t))o=t.map(Y).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Y(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(LS,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[el]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{zn(s),Bo(i)}}resolveInjectorInitializers(){const t=fe(null),n=Bo(this),r=zn(void 0);try{const i=this.get(Gr,nt,Ze.Self);for(const s of i)s()}finally{Bo(n),zn(r),fe(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Y(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(t){let n=li(t=ye(t))?t:ye(t&&t.provide);const r=function pT(e){return sf(e)?Xi(void 0,e.useValue):Xi(function Bm(e,t,n){let r;if(li(e)){const o=ye(e);return ci(o)||lf(o)}if(sf(e))r=()=>ye(e.useValue);else if(function Vm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Kd(e.deps||[]));else if(function jm(e){return!(!e||!e.useExisting)}(e))r=()=>Se(ye(e.useExisting));else{const o=ye(e&&(e.useClass||e.provide));if(!function gT(e){return!!e.deps}(e))return ci(o)||lf(o);r=()=>new o(...Kd(e.deps))}return r}(e),dl)}(t);if(!li(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Xi(void 0,dl,!0),o.factory=()=>Kd(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=fe(null);try{return n.value===dl&&(n.value=fT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function mT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ye(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function lf(e){const t=Qc(e),n=null!==t?t.factory:ci(e);if(null!==n)return n;if(e instanceof oe)throw new C(204,!1);if(e instanceof Function)return function hT(e){if(e.length>0)throw new C(204,!1);const n=function NS(e){return e&&(e[Xc]||e[gm])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new C(204,!1)}function Xi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function uf(e,t){for(const n of e)Array.isArray(n)?uf(n,t):n&&zd(n)?uf(n.\u0275providers,t):t(n)}function yo(e,t){e instanceof Ji&&e.assertNotDestroyed();const r=Bo(e),o=zn(void 0);try{return t()}finally{Bo(r),zn(o)}}function Um(){return void 0!==bm()||null!=function VS(){return Zi}()}const Nt=0,H=1,ve=2,Bt=3,Sr=4,un=5,Rn=6,ts=7,_t=8,Ut=9,Wr=10,xe=11,Da=12,$m=13,ns=14,Rt=15,ui=16,rs=17,vo=18,os=19,zm=20,$o=21,pl=22,hr=23,de=25,hf=1,qr=7,is=9,Ft=10;var ml=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ml||{});function Kt(e){return Array.isArray(e)&&"object"==typeof e[hf]}function wn(e){return Array.isArray(e)&&!0===e[hf]}function pf(e){return!!(4&e.flags)}function di(e){return e.componentOffset>-1}function yl(e){return!(1&~e.flags)}function Tr(e){return!!e.template}function Ca(e){return!!(512&e[ve])}class xT{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ym(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function fi(){return Km}function Km(e){return e.type.prototype.ngOnChanges&&(e.setInput=RT),NT}function NT(){const e=Jm(this),t=e?.current;if(t){const n=e.previous;if(n===zr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function RT(e,t,n,r,o){const i=this.declaredInputs[r],s=Jm(e)||function AT(e,t){return e[Qm]=t}(e,{previous:zr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new xT(l&&l.currentValue,n,c===zr),Ym(e,t,o,n)}fi.ngInherit=!0;const Qm="__ngSimpleChanges__";function Jm(e){return e[Qm]||null}const Zr=function(e,t,n){};function rt(e){for(;Array.isArray(e);)e=e[Nt];return e}function An(e,t){return rt(t[e.index])}function Ia(e,t){return e.data[t]}function tr(e,t){const n=t[e];return Kt(n)?n:n[Nt]}function bf(e){return!(128&~e[ve])}function pr(e,t){return null==t?null:e[t]}function ty(e){e[rs]=0}function ny(e){1024&e[ve]||(e[ve]|=1024,bf(e)&&bl(e))}function vl(e){return!!(9216&e[ve]||e[hr]?.dirty)}function wf(e){e[Wr].changeDetectionScheduler?.notify(8),64&e[ve]&&(e[ve]|=1024),vl(e)&&bl(e)}function bl(e){e[Wr].changeDetectionScheduler?.notify(0);let t=bo(e);for(;null!==t&&!(8192&t[ve])&&(t[ve]|=8192,bf(t));)t=bo(t)}function wl(e,t){if(!(256&~e[ve]))throw new C(911,!1);null===e[$o]&&(e[$o]=[]),e[$o].push(t)}function bo(e){const t=e[Bt];return wn(t)?t[Bt]:t}const Ne={lFrame:gy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let oy=!1;function iy(){return Ne.bindingsEnabled}function M(){return Ne.lFrame.lView}function He(){return Ne.lFrame.tView}function wo(e){return Ne.lFrame.contextLView=e,e[_t]}function Do(e){return Ne.lFrame.contextLView=null,e}function pt(){let e=sy();for(;null!==e&&64===e.type;)e=e.parent;return e}function sy(){return Ne.lFrame.currentTNode}function Mr(e,t){const n=Ne.lFrame;n.currentTNode=e,n.isParent=t}function Cf(){return Ne.lFrame.isParent}function ly(){return oy}function uy(e){oy=e}function Eo(){return Ne.lFrame.bindingIndex}function dy(e){return Ne.lFrame.bindingIndex=e}function xr(){return Ne.lFrame.bindingIndex++}function Co(e){const t=Ne.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function WT(e,t){const n=Ne.lFrame;n.bindingIndex=n.bindingRootIndex=e,If(t)}function If(e){Ne.lFrame.currentDirectiveIndex=e}function Tf(){return Ne.lFrame.currentQueryIndex}function El(e){Ne.lFrame.currentQueryIndex=e}function ZT(e){const t=e[H];return 2===t.type?t.declTNode:1===t.type?e[un]:null}function hy(e,t,n){if(n&Ze.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&Ze.Host||(o=ZT(i),null===o||(i=i[ns],10&o.type))););if(null===o)return!1;t=o,e=i}const r=Ne.lFrame=py();return r.currentTNode=t,r.lView=e,!0}function Mf(e){const t=py(),n=e[H];Ne.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function py(){const e=Ne.lFrame,t=null===e?null:e.child;return null===t?gy(e):t}function gy(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function my(){const e=Ne.lFrame;return Ne.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const yy=my;function xf(){const e=my();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dn(){return Ne.lFrame.selectedIndex}function gi(e){Ne.lFrame.selectedIndex=e}function It(){const e=Ne.lFrame;return Ia(e.tView,e.selectedIndex)}let by=!0;function Ta(){return by}function Yr(e){by=e}function Cl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=h&&(e.destroyHooks??=[]).push(n,h)}}function _l(e,t,n){wy(e,t,3,n)}function Il(e,t,n,r){(3&e[ve])===n&&wy(e,t,n,r)}function Nf(e,t){let n=e[ve];(3&n)===t&&(n&=16383,n+=1,e[ve]=n)}function wy(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[rs]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[rs]+=65536),(a<i||-1==i)&&(t0(e,n,t,c),e[rs]=(4294901760&e[rs])+c+2),c++}function Dy(e,t){Zr(4,e,t);const n=fe(null);try{t.call(e)}finally{fe(n),Zr(5,e,t)}}function t0(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];o?e[ve]>>14<e[rs]>>16&&(3&e[ve])===t&&(e[ve]+=16384,Dy(a,i)):Dy(a,i)}const ss=-1;class Ma{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const Af={};class mi{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=tl(r);const o=this.injector.get(t,Af,r);return o!==Af||n===Af?o:this.parentInjector.get(t,n,r)}}function kf(e){return e!==ss}function xa(e){return 32767&e}function Na(e,t){let n=function a0(e){return e>>16}(e),r=t;for(;n>0;)r=r[ns],n--;return r}let Of=!0;function Sl(e){const t=Of;return Of=e,t}const Cy=255,_y=5;let l0=0;const Kr={};function Tl(e,t){const n=Iy(e,t);if(-1!==n)return n;const r=t[H];r.firstCreatePass&&(e.injectorIndex=t.length,Pf(r.data,e),Pf(t,null),Pf(r.blueprint,null));const o=Ml(e,t),i=e.injectorIndex;if(kf(o)){const s=xa(o),a=Na(o,t),c=a[H].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function Pf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Iy(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ml(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Ay(o),null===r)return ss;if(n++,o=o[ns],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ss}function Ff(e,t,n){!function u0(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ma)&&(r=n[ma]),null==r&&(r=n[ma]=l0++);const o=r&Cy;t.data[e+(o>>_y)]|=1<<o}(e,t,n)}function Sy(e,t,n){if(n&Ze.Optional||void 0!==e)return e;qd()}function Ty(e,t,n,r){if(n&Ze.Optional&&void 0===r&&(r=null),!(n&(Ze.Self|Ze.Host))){const o=e[Ut],i=zn(void 0);try{return o?o.get(t,r,n&Ze.Optional):wm(t,r,n&Ze.Optional)}finally{zn(i)}}return Sy(r,0,n)}function My(e,t,n,r=Ze.Default,o){if(null!==e){if(2048&t[ve]&&!(r&Ze.Self)){const s=function g0(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[ve]&&!(512&s[ve]);){const a=xy(i,s,n,r|Ze.Self,Kr);if(a!==Kr)return a;let c=i.parent;if(!c){const l=s[zm];if(l){const h=l.get(n,Kr,r);if(h!==Kr)return h}c=Ay(s),s=s[ns]}i=c}return o}(e,t,n,r,Kr);if(s!==Kr)return s}const i=xy(e,t,n,r,Kr);if(i!==Kr)return i}return Ty(t,n,r,o)}function xy(e,t,n,r,o){const i=function h0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ma)?e[ma]:void 0;return"number"==typeof t?t>=0?t&Cy:p0:t}(n);if("function"==typeof i){if(!hy(t,e,r))return r&Ze.Host?Sy(o,0,r):Ty(t,n,r,o);try{let s;if(s=i(r),null!=s||r&Ze.Optional)return s;qd()}finally{yy()}}else if("number"==typeof i){let s=null,a=Iy(e,t),c=ss,l=r&Ze.Host?t[Rt][un]:null;for((-1===a||r&Ze.SkipSelf)&&(c=-1===a?Ml(e,t):t[a+8],c!==ss&&Ry(r,!1)?(s=t[H],a=xa(c),t=Na(c,t)):a=-1);-1!==a;){const h=t[H];if(Ny(i,a,h.data)){const p=f0(a,t,n,s,r,l);if(p!==Kr)return p}c=t[a+8],c!==ss&&Ry(r,t[H].data[a+8]===l)&&Ny(i,a,t)?(s=h,a=xa(c),t=Na(c,t)):a=-1}}return o}function f0(e,t,n,r,o,i){const s=t[H],a=s.data[e+8],h=xl(a,s,n,null==r?di(a)&&Of:r!=s&&!!(3&a.type),o&Ze.Host&&i===a);return null!==h?yi(t,s,h,a):Kr}function xl(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,c=e.directiveStart,h=i>>20,g=o?a+h:e.directiveEnd;for(let m=r?a:a+h;m<g;m++){const y=s[m];if(m<c&&n===y||m>=c&&y.type===n)return m}if(o){const m=s[c];if(m&&Tr(m)&&m.type===n)return c}return null}function yi(e,t,n,r){let o=e[n];const i=t.data;if(function n0(e){return e instanceof Ma}(o)){const s=o;s.resolving&&function OS(e,t){throw t&&t.join(" > "),new C(-200,e)}(function st(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Oe(e)}(i[n]));const a=Sl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?zn(s.injectImpl):null;hy(e,r,Ze.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function e0(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=Km(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==l&&zn(l),Sl(a),s.resolving=!1,yy()}}return o}function Ny(e,t,n){return!!(n[t+(e>>_y)]&1<<e)}function Ry(e,t){return!(e&Ze.Self||e&Ze.Host&&t)}class Qt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return My(this._tNode,this._lView,t,tl(r),n)}}function p0(){return new Qt(pt(),M())}function Lf(e){return kt(()=>{const t=e.prototype.constructor,n=t[mo]||jf(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[mo]||jf(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function jf(e){return Vo(e)?()=>{const t=jf(ye(e));return t&&t()}:ci(e)}function Ay(e){const t=e[H],n=t.type;return 2===n?t.declTNode:1===n?e[un]:null}function Ly(e,t=null,n=null,r){const o=jy(e,t,n,r);return o.resolveInjectorInitializers(),o}function jy(e,t=null,n=null,r,o=new Set){const i=[n||nt,Fm(e)];return r=r||("object"==typeof e?void 0:Y(e)),new Ji(i,t||fl(),r||null,o)}class fn{static{this.THROW_IF_NOT_FOUND=ya}static{this.NULL=new sl}static create(t,n){if(Array.isArray(t))return Ly({name:""},n,t,"");{const r=t.name??"";return Ly({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=ge({token:fn,providedIn:"any",factory:()=>Se(Sm)})}static{this.__NG_ELEMENT_ID__=-1}}new oe("").__NG_ELEMENT_ID__=e=>{const t=pt();if(null===t)throw new C(204,!1);if(2&t.type)return t.value;if(e&Ze.Optional)return null;throw new C(204,!1)};function Bf(e){return e.ngOriginalError}const By=!0;let Aa=(()=>{class e{static{this.__NG_ELEMENT_ID__=I0}static{this.__NG_ENV_ID__=n=>n}}return e})();class _0 extends Aa{constructor(t){super(),this._lView=t}onDestroy(t){return wl(this._lView,t),()=>function Df(e,t){if(null===e[$o])return;const n=e[$o].indexOf(t);-1!==n&&e[$o].splice(n,1)}(this._lView,t)}}function I0(){return new _0(M())}let vi=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Q(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ge({token:e,providedIn:"root",factory:()=>new e})}}return e})();const On=class S0 extends K{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Um()&&(this.destroyRef=P(Aa,{optional:!0})??void 0,this.pendingTasks=P(vi,{optional:!0})??void 0)}emit(t){const n=fe(null);try{super.next(t)}finally{fe(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof T&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function Rl(...e){}function Uy(e){let t,n;function r(){e=Rl;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Hy(e){return queueMicrotask(()=>e()),()=>{e=Rl}}const Uf="isAngularZone",Al=Uf+"_ID";let T0=0;class ft{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new On(!1),this.onMicrotaskEmpty=new On(!1),this.onStable=new On(!1),this.onError=new On(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=By}=t;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function N0(e){const t=()=>{!function x0(e){function t(){Uy(()=>{e.callbackScheduled=!1,$f(e),e.isCheckStableRunning=!0,Hf(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),$f(e))}(e)},n=T0++;e._inner=e._inner.fork({name:"angular",properties:{[Uf]:!0,[Al]:n,[Al+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(function R0(e){return Gy(e,"__ignore_ng_zone__")}(c))return r.invokeTask(i,s,a,c);try{return $y(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),zy(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return $y(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function A0(e){return Gy(e,"__scheduler_tick__")}(c)&&t(),zy(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,$f(e),Hf(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Uf)}static assertInAngularZone(){if(!ft.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new C(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,M0,Rl,Rl);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const M0={};function Hf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $f(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function $y(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zy(e){e._nesting--,Hf(e)}class zf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new On,this.onMicrotaskEmpty=new On,this.onStable=new On,this.onError=new On}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function Gy(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Qr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Bf(t);for(;n&&Bf(n);)n=Bf(n);return n||null}}const O0=new oe("",{providedIn:"root",factory:()=>{const e=P(ft),t=P(Qr);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function P0(){return ls(pt(),M())}function ls(e,t){return new zo(An(e,t))}let zo=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=P0}}return e})();function qy(e){return e instanceof zo?e.nativeElement:e}function F0(){return this._results[Symbol.iterator]()}class Gf{get changes(){return this._changes??=new On}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Gf.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=F0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function Gn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function qS(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Oa(e){return!(128&~e.flags)}const qf=new Map;let j0=0;function Zf(e){qf.delete(e[os])}const kl="__ngContext__";function Dn(e,t){Kt(t)?(e[kl]=t[os],function B0(e){qf.set(e[os],e)}(t)):e[kl]=t}function rv(e){return iv(e[Da])}function ov(e){return iv(e[Sr])}function iv(e){for(;null!==e&&!wn(e);)e=e[Sr];return e}let Kf;const ds=new oe("",{providedIn:"root",factory:()=>rM}),rM="ng",hv=new oe(""),Wo=new oe("",{providedIn:"platform",factory:()=>"unknown"}),pv=new oe("",{providedIn:"root",factory:()=>function Go(){if(void 0!==Kf)return Kf;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gv=()=>null;function rh(e,t,n=!1){return gv(e,t,n)}const Cv=new oe("",{providedIn:"root",factory:()=>!1});let Hl;function Mv(e){return function lh(){if(void 0===Hl&&(Hl=null,Z.trustedTypes))try{Hl=Z.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hl}()?.createScriptURL(e)||e}class xv{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ke})`}}function qo(e){return e instanceof xv?e.changingThisBreaksApplicationSecurity:e}function Ua(e,t){const n=function EM(e){return e instanceof xv&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ke})`)}return n===t}const SM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(gs||{});function gr(e){const t=$a();return t?t.sanitize(gs.URL,e)||"":Ua(e,"URL")?qo(e):function uh(e){return(e=String(e)).match(SM)?e:"unsafe:"+e}(Oe(e))}function jv(e){const t=$a();if(t)return Mv(t.sanitize(gs.RESOURCE_URL,e)||"");if(Ua(e,"ResourceURL"))return Mv(qo(e));throw new C(904,!1)}function $a(){const e=M();return e&&e[Wr].sanitizer}function nr(e){return e instanceof Function?e():e}var Zo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zo||{});let mh;function yh(e,t){return mh(e,t)}function ys(e,t,n,r,o){if(null!=r){let i,s=!1;wn(r)?i=r:Kt(r)&&(s=!0,r=r[Nt]);const a=rt(r);0===e&&null!==n?null==o?Jv(t,n,a):wi(t,n,a,o||null,!0):1===e&&null!==n?wi(t,n,a,o||null,!0):2===e?function Ga(e,t,n){e.removeChild(null,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function u1(e,t,n,r,o){const i=n[qr];i!==rt(n)&&ys(t,e,r,i,o);for(let a=Ft;a<n.length;a++){const c=n[a];Yl(c[H],c,e,t,r,i)}}(t,e,i,n,o)}}function Wl(e,t,n){return e.createElement(t,n)}function Yv(e,t){t[Wr].changeDetectionScheduler?.notify(9),Yl(e,t,t[xe],2,null,null)}function Kv(e,t){const n=e[is],r=t[Bt];(Kt(r)||t[Rt]!==r[Bt][Rt])&&(e[ve]|=ml.HasTransplantedViews),null===n?e[is]=[t]:n.push(t)}function wh(e,t){const n=e[is],r=n.indexOf(t);n.splice(r,1)}function za(e,t){if(e.length<=Ft)return;const n=Ft+t,r=e[n];if(r){const o=r[ui];null!==o&&o!==e&&wh(o,r),t>0&&(e[n-1][Sr]=r[Sr]);const i=ol(e,Ft+t);!function n1(e,t){Yv(e,t),t[Nt]=null,t[un]=null}(r[H],r);const s=i[vo];null!==s&&s.detachView(i[H]),r[Bt]=null,r[Sr]=null,r[ve]&=-129}return r}function ql(e,t){if(!(256&t[ve])){const n=t[xe];n.destroyNode&&Yl(e,t,n,3,null,null),function o1(e){let t=e[Da];if(!t)return Dh(e[H],e);for(;t;){let n=null;if(Kt(t))n=t[Da];else{const r=t[Ft];r&&(n=r)}if(!n){for(;t&&!t[Sr]&&t!==e;)Kt(t)&&Dh(t[H],t),t=t[Bt];null===t&&(t=e),Kt(t)&&Dh(t[H],t),n=t&&t[Sr]}t=n}}(t)}}function Dh(e,t){if(256&t[ve])return;const n=fe(null);try{t[ve]&=-129,t[ve]|=256,t[hr]&&Tn(t[hr]),function a1(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ma)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];Zr(4,a,c);try{c.call(a)}finally{Zr(5,a,c)}}else{Zr(4,o,i);try{i.call(o)}finally{Zr(5,o,i)}}}}}(e,t),function s1(e,t){const n=e.cleanup,r=t[ts];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[ts]=null);const o=t[$o];if(null!==o){t[$o]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[H].type&&t[xe].destroy();const r=t[ui];if(null!==r&&wn(t[Bt])){r!==t[Bt]&&wh(r,t);const o=t[vo];null!==o&&o.detachView(e)}Zf(t)}finally{fe(n)}}function Eh(e,t,n){return function Qv(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[Nt];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===_r.None||i===_r.Emulated)return null}return An(r,n)}}(e,t.parent,n)}function wi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Jv(e,t,n){e.appendChild(t,n)}function Xv(e,t,n,r,o){null!==r?wi(e,t,n,r,o):Jv(e,t,n)}function Ch(e,t){return e.parentNode(t)}let _h,nb=function tb(e,t,n){return 40&e.type?An(e,n):null};function Zl(e,t,n,r){const o=Eh(e,r,t),i=t[xe],a=function eb(e,t,n){return nb(e,t,n)}(r.parent||t[un],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)Xv(i,o,n[c],a,!1);else Xv(i,o,n,a,!1);void 0!==_h&&_h(i,r,t,n,o)}function Di(e,t){if(null!==t){const n=t.type;if(3&n)return An(t,e);if(4&n)return Ih(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Di(e,r);{const o=e[t.index];return wn(o)?Ih(-1,o):rt(o)}}if(128&n)return Di(e,t.next);if(32&n)return yh(t,e)()||rt(e[t.index]);{const r=ob(e,t);return null!==r?Array.isArray(r)?r[0]:Di(bo(e[Rt]),r):Di(e,t.next)}}return null}function ob(e,t){return null!==t?e[Rt][un].projection[t.projection]:null}function Ih(e,t){const n=Ft+e+1;if(n<t.length){const r=t[n],o=r[H].firstChild;if(null!==o)return Di(r,o)}return t[qr]}function Sh(e,t,n,r,o,i,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Dn(rt(a),r),n.flags|=2),32&~n.flags)if(8&c)Sh(e,t,n.child,r,o,i,!1),ys(t,e,o,a,i);else if(32&c){const l=yh(n,r);let h;for(;h=l();)ys(t,e,o,h,i);ys(t,e,o,a,i)}else 16&c?sb(e,t,r,n,o,i):ys(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Yl(e,t,n,r,o,i){Sh(n,r,e.firstChild,t,o,i,!1)}function sb(e,t,n,r,o,i){const s=n[Rt],c=s[un].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ys(t,e,o,c[l],i);else{let l=c;const h=s[Bt];Oa(r)&&(l.flags|=128),Sh(e,t,l,h,o,i,!0)}}function ab(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function cb(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&ef(e,t,r),null!==o&&ab(e,t,o),null!==i&&function f1(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}const Pe={};function G(e=1){lb(He(),M(),dn()+e,!1)}function lb(e,t,n,r){if(!r)if(3&~t[ve]){const i=e.preOrderHooks;null!==i&&Il(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&_l(t,i,n)}gi(n)}function Re(e,t=Ze.Default){const n=M();return null===n?Se(e,t):My(pt(),n,ye(e),t)}function db(e,t,n,r,o,i){const s=fe(null);try{let a=null;o&Uo.SignalBased&&(a=t[r][Ot]),null!==a&&void 0!==a.transformFn&&(i=a.transformFn(i)),o&Uo.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),null!==e.setInput?e.setInput(t,a,i,n,r):Ym(t,a,r,i)}finally{fe(s)}}function Kl(e,t,n,r,o,i,s,a,c,l,h){const p=t.blueprint.slice();return p[Nt]=o,p[ve]=204|r,(null!==l||e&&2048&e[ve])&&(p[ve]|=2048),ty(p),p[Bt]=p[ns]=e,p[_t]=n,p[Wr]=s||e&&e[Wr],p[xe]=a||e&&e[xe],p[Ut]=c||e&&e[Ut]||null,p[un]=i,p[os]=function V0(){return j0++}(),p[Rn]=h,p[zm]=l,p[Rt]=2==t.type?e[Rt]:p,p}function Ei(e,t,n,r,o){let i=e.data[t];if(null===i)i=function Th(e,t,n,r,o){const i=sy(),s=Cf(),c=e.data[t]=function w1(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return function pi(){return null!==Ne.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(e,t,n,r,o),function GT(){return Ne.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function Sa(){const e=Ne.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Mr(i,!0),i}function Wa(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function fb(e,t,n,r,o){const i=dn(),s=2&r;try{gi(-1),s&&t.length>de&&lb(e,t,de,!1),Zr(s?2:0,o),n(r,o)}finally{gi(i),Zr(s?3:1,o)}}function Mh(e,t,n){if(pf(t)){const r=fe(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{fe(r)}}}function xh(e,t,n){iy()&&(function T1(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;di(n)&&function O1(e,t,n){const r=An(t,e),o=hb(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Ql(e,Kl(e,o,null,s,r,t,null,e[Wr].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Tl(n,t),Dn(r,t);const s=n.initialInputs;for(let a=o;a<i;a++){const c=e.data[a],l=yi(t,e,a,n);Dn(l,t),null!==s&&P1(0,a-o,l,c,0,s),Tr(c)&&(tr(n.index,t)[_t]=yi(t,e,a,n))}}(e,t,n,An(n,t)),!(64&~n.flags)&&vb(e,t,n))}function Nh(e,t,n=An){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}function hb(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Rh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Rh(e,t,n,r,o,i,s,a,c,l,h){const p=de+r,g=p+o,m=function p1(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Pe);return n}(p,g),y="function"==typeof l?l():l;return m[H]={type:e,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:h}}let pb=()=>null;function gb(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;const s=t[i];if(void 0===s)continue;r??={};let a,c=Uo.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=i;if(null!==o){if(!o.hasOwnProperty(i))continue;l=o[i]}0===e?mb(r,n,l,a,c):mb(r,n,l,a)}return r}function mb(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],void 0!==o&&i.push(o)}function Yn(e,t,n,r,o,i,s,a){const c=An(t,n);let h,l=t.inputs;!a&&null!=l&&(h=l[r])?(Fh(e,n,h,r,o),di(t)&&function C1(e,t){const n=tr(t,e);16&n[ve]||(n[ve]|=64)}(n,t.index)):3&t.type&&(r=function E1(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=s?s(o,t.value||"",r):o,i.setProperty(c,r,o))}function Ah(e,t,n,r){if(iy()){const o=null===r?null:{"":-1},i=function x1(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(Rm(t,s.selectors,!1))if(r||(r=[]),Tr(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),kh(e,t,a.length)}else r.unshift(s),kh(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(e,n);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&yb(e,t,n,s,o,a),o&&function N1(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new C(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=ba(n.mergedAttrs,n.attrs)}function yb(e,t,n,r,o,i){for(let l=0;l<r.length;l++)Ff(Tl(n,t),e,r[l].type);!function A1(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=Wa(e,t,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=ba(n.mergedAttrs,h.hostAttrs),k1(e,n,t,c,h),R1(c,h,o),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function D1(e,t,n){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let c=null,l=null;for(let h=t.directiveStart;h<o;h++){const p=i[h],g=n?n.get(p):null,y=g?g.outputs:null;c=gb(0,p.inputs,h,c,g?g.inputs:null),l=gb(1,p.outputs,h,l,y);const _=null===c||null===s||tf(t)?null:F1(c,h,s);a.push(_)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,i)}function vb(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function qT(){return Ne.lFrame.currentDirectiveIndex}();try{gi(i);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];If(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&M1(c,l)}}finally{gi(-1),If(s)}}function M1(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function kh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function R1(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Tr(t)&&(n[""]=e)}}function k1(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=ci(o.type)),s=new Ma(i,Tr(o),Re);e.blueprint[r]=s,n[r]=s,function I1(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function S1(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(e,t,r,Wa(e,n,o.hostVars,Pe),o)}function Jr(e,t,n,r,o,i){const s=An(e,t);!function Oh(e,t,n,r,o,i,s){if(null==i)e.removeAttribute(t,o,n);else{const a=null==s?Oe(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}(t[xe],s,i,e.value,n,r,o)}function P1(e,t,n,r,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)db(r,n,s[a++],s[a++],s[a++],s[a++])}function F1(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const s=e[i];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function bb(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function wb(e,t){const n=e.contentQueries;if(null!==n){const r=fe(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=e.data[s];El(n[o]),a.contentQueries(2,t[s],s)}}}finally{fe(r)}}}function Ql(e,t){return e[Da]?e[$m][Sr]=t:e[Da]=t,e[$m]=t,t}function Ph(e,t,n){El(0);const r=fe(null);try{t(e,n)}finally{fe(r)}}function Db(e){return e[ts]??=[]}function Eb(e){return e.cleanup??=[]}function Jl(e,t){const n=e[Ut],r=n?n.get(Qr,null):null;r&&r.handleError(t)}function Fh(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],c=n[i++];db(e.data[s],t[s],r,a,c,o)}}function Io(e,t,n){const r=function _a(e,t){return rt(t[e])}(t,e);!function Zv(e,t,n){e.setValue(t,n)}(e[xe],r,n)}function L1(e,t){const n=tr(t,e),r=n[H];!function j1(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Nt];null!==o&&null===n[Rn]&&(n[Rn]=rh(o,n[Ut])),Lh(r,n,n[_t])}function Lh(e,t,n){Mf(t);try{const r=e.viewQuery;null!==r&&Ph(1,r,n);const o=e.template;null!==o&&fb(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[vo]?.finishViewCreation(e),e.staticContentQueries&&wb(e,t),e.staticViewQueries&&Ph(2,e.viewQuery,n);const i=e.components;null!==i&&function V1(e,t){for(let n=0;n<t.length;n++)L1(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ve]&=-5,xf()}}function vs(e,t,n,r){const o=fe(null);try{const i=t.tView,c=Kl(e,i,n,4096&e[ve]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[ui]=e[t.index];const h=e[vo];return null!==h&&(c[vo]=h.createEmbeddedView(i)),Lh(i,c,n),c}finally{fe(o)}}function _b(e,t){const n=Ft+t;if(n<e.length)return e[n]}function Ci(e,t){return!t||null===t.firstChild||Oa(e)}function bs(e,t,n,r=!0){const o=t[H];if(function i1(e,t,n,r){const o=Ft+r,i=n.length;r>0&&(n[o-1][Sr]=t),r<i-Ft?(t[Sr]=n[o],Cm(n,Ft+r,t)):(n.push(t),t[Sr]=null),t[Bt]=n;const s=t[ui];null!==s&&n!==s&&Kv(s,t);const a=t[vo];null!==a&&a.insertView(e),wf(t),t[ve]|=128}(o,t,e,n),r){const s=Ih(n,e),a=t[xe],c=Ch(a,e[qr]);null!==c&&function r1(e,t,n,r,o,i){r[Nt]=o,r[un]=t,Yl(e,r,n,1,o,i)}(o,e[un],a,t,c,s)}const i=t[Rn];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function jh(e,t){const n=za(e,t);return void 0!==n&&ql(n[H],n),n}function qa(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(rt(i)),wn(i)&&Ib(i,r);const s=n.type;if(8&s)qa(e,t,n.child,r);else if(32&s){const a=yh(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=ob(t,n);if(Array.isArray(a))r.push(...a);else{const c=bo(t[Rt]);qa(c[H],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Ib(e,t){for(let n=Ft;n<e.length;n++){const r=e[n],o=r[H].firstChild;null!==o&&qa(r[H],r,o,t)}e[qr]!==e[Nt]&&t.push(e[qr])}let Sb=[];const $1={...yn,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{bl(e.lView)},consumerOnSignalRead(){this.lView[hr]=this}},G1={...yn,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=bo(e.lView);for(;t&&!Tb(t[H]);)t=bo(t);t&&ny(t)},consumerOnSignalRead(){this.lView[hr]=this}};function Tb(e){return 2!==e.type}const W1=100;function Xl(e,t=!0,n=0){const r=e[Wr],o=r.rendererFactory;o.begin?.();try{!function q1(e,t){const n=ly();try{uy(!0),Vh(e,t);let r=0;for(;vl(e);){if(r===W1)throw new C(103,!1);r++,Vh(e,1)}}finally{uy(n)}}(e,n)}catch(s){throw t&&Jl(e,s),s}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function Z1(e,t,n,r){const o=t[ve];if(!(256&~o))return;t[Wr].inlineEffectRunner?.flush(),Mf(t);let a=!0,c=null,l=null;Tb(e)?(l=function B1(e){return e[hr]??function U1(e){const t=Sb.pop()??Object.create($1);return t.lView=e,t}(e)}(t),c=sn(l)):null===function Dr(){return ze}()?(a=!1,l=function z1(e){const t=e[hr]??Object.create(G1);return t.lView=e,t}(t),c=sn(l)):t[hr]&&(Tn(t[hr]),t[hr]=null);try{ty(t),dy(e.bindingStartIndex),null!==n&&fb(e,t,n,2,r);const h=!(3&~o);if(h){const m=e.preOrderCheckHooks;null!==m&&_l(t,m,null)}else{const m=e.preOrderHooks;null!==m&&Il(t,m,0,null),Nf(t,0)}if(function Y1(e){for(let t=rv(e);null!==t;t=ov(t)){if(!(t[ve]&ml.HasTransplantedViews))continue;const n=t[is];for(let r=0;r<n.length;r++)ny(n[r])}}(t),xb(t,0),null!==e.contentQueries&&wb(e,t),h){const m=e.contentCheckHooks;null!==m&&_l(t,m)}else{const m=e.contentHooks;null!==m&&Il(t,m,1),Nf(t,1)}!function h1(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)gi(~o);else{const i=o,s=n[++r],a=n[++r];WT(s,i),a(2,t[i])}}}finally{gi(-1)}}(e,t);const p=e.components;null!==p&&Rb(t,p,0);const g=e.viewQuery;if(null!==g&&Ph(2,g,r),h){const m=e.viewCheckHooks;null!==m&&_l(t,m)}else{const m=e.viewHooks;null!==m&&Il(t,m,2),Nf(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[pl]){for(const m of t[pl])m();t[pl]=null}t[ve]&=-73}catch(h){throw bl(t),h}finally{null!==l&&(function Cr(e,t){if(fe(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Un(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)lr(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(l,c),a&&function H1(e){e.lView[hr]!==e&&(e.lView=null,Sb.push(e))}(l)),xf()}}function xb(e,t){for(let n=rv(e);null!==n;n=ov(n))for(let r=Ft;r<n.length;r++)Nb(n[r],t)}function K1(e,t,n){Nb(tr(t,e),n)}function Nb(e,t){bf(e)&&Vh(e,t)}function Vh(e,t){const r=e[H],o=e[ve],i=e[hr];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!po(i)),s||=!1,i&&(i.dirty=!1),e[ve]&=-9217,s)Z1(r,e,r.template,e[_t]);else if(8192&o){xb(e,1);const a=r.components;null!==a&&Rb(e,a,1)}}function Rb(e,t,n){for(let r=0;r<t.length;r++)K1(e,t[r],n)}function Za(e,t){const n=ly()?64:1088;for(e[Wr].changeDetectionScheduler?.notify(t);e;){e[ve]|=n;const r=bo(e);if(Ca(e)&&!r)return e;e=r}return null}class Ya{get rootNodes(){const t=this._lView,n=t[H];return qa(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_t]}set context(t){this._lView[_t]=t}get destroyed(){return!(256&~this._lView[ve])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Bt];if(wn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(za(t,r),ol(n,r))}this._attachedToViewContainer=!1}ql(this._lView[H],this._lView)}onDestroy(t){wl(this._lView,t)}markForCheck(){Za(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ve]&=-129}reattach(){wf(this._lView),this._lView[ve]|=128}detectChanges(){this._lView[ve]|=1024,Xl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ca(this._lView),n=this._lView[ui];null!==n&&!t&&wh(n,this._lView),Yv(this._lView[H],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t;const n=Ca(this._lView),r=this._lView[ui];null!==r&&!n&&Kv(r,this._lView),wf(this._lView)}}let So=(()=>{class e{static{this.__NG_ELEMENT_ID__=X1}}return e})();const Q1=So,J1=class extends Q1{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=vs(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ya(o)}};function X1(){return eu(pt(),M())}function eu(e,t){return 4&e.type?new J1(t,e,ls(e,t)):null}let Jb=()=>null;function Ii(e,t){return Jb(e,t)}class Ds{}const rc=new oe("",{providedIn:"root",factory:()=>!1}),Xb=new oe(""),Kh=new oe("");class Gx{}class ew{}class qx{resolveComponentFactory(t){throw function Wx(e){const t=Error(`No component factory found for ${Y(e)}.`);return t.ngComponent=e,t}(t)}}class su{static{this.NULL=new qx}}class Qh{}let au=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Zx(){const e=M(),n=tr(pt().index,e);return(Kt(n)?n:e)[xe]}()}}return e})(),Yx=(()=>{class e{static{this.\u0275prov=ge({token:e,providedIn:"root",factory:()=>null})}}return e})();function lu(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ke(o,a):2==i&&(r=Ke(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class ow extends su{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=qe(t);return new sc(n,this.ngModule)}}function iw(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;const i=Array.isArray(o),s=i?o[0]:o;n.push(t?{propName:s,templateName:r,isSignal:!!((i?o[1]:Uo.None)&Uo.SignalBased)}:{propName:s,templateName:r})}return n}class sc extends ew{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=iw(t.inputs,!0);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return iw(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function oT(e){return e.map(rT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const i=fe(null);try{let s=(o=o||this.ngModule)instanceof qn?o:o?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new mi(t,s):t,c=a.get(Qh,null);if(null===c)throw new C(407,!1);const p={rendererFactory:c,sanitizer:a.get(Yx,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(Ds,null)},g=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function g1(e,t,n,r){const i=r.get(Cv,!1)||n===_r.ShadowDom,s=e.selectRootElement(t,i);return function m1(e){pb(e)}(s),s}(g,r,this.componentDef.encapsulation,a):Wl(g,m,function Jx(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m));let _=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let x=null;null!==y&&(x=rh(y,a,!0));const k=Rh(0,null,null,1,0,null,null,null,null,null,null),S=Kl(null,k,null,_,null,null,p,g,a,null,x);Mf(S);let me,Fe,Ye=null;try{const xt=this.componentDef;let rn,sa=null;xt.findHostDirectiveDefs?(rn=[],sa=new Map,xt.findHostDirectiveDefs(xt,rn,sa),rn.push(xt)):rn=[xt];const MS=function eN(e,t){const n=e[H],r=de;return e[r]=t,Ei(n,r,2,"#host",null)}(S,y);Ye=function tN(e,t,n,r,o,i,s){const a=o[H];!function nN(e,t,n,r){for(const o of e)t.mergedAttrs=ba(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(lu(t,t.mergedAttrs,!0),null!==n&&cb(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=rh(t,o[Ut]));const l=i.rendererFactory.createRenderer(t,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const p=Kl(o,hb(n),null,h,o[e.index],e,i,l,null,null,c);return a.firstCreatePass&&kh(a,e,r.length-1),Ql(o,p),o[e.index]=p}(MS,y,xt,rn,S,p,g),Fe=Ia(k,de),y&&function oN(e,t,n,r){if(r)ef(e,n,["ng-version","18.2.13"]);else{const{attrs:o,classes:i}=function iT(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Ir(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&ef(e,n,o),i&&i.length>0&&ab(e,n,i.join(" "))}}(g,xt,y,r),void 0!==n&&function iN(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(Fe,this.ngContentSelectors,n),me=function rN(e,t,n,r,o,i){const s=pt(),a=o[H],c=An(s,o);yb(a,o,s,n,null,r);for(let h=0;h<n.length;h++)Dn(yi(o,a,s.directiveStart+h,s),o);vb(a,o,s),c&&Dn(c,o);const l=yi(o,a,s.directiveStart+s.componentOffset,s);if(e[_t]=o[_t]=l,null!==i)for(const h of i)h(l,t);return Mh(a,s,o),l}(Ye,xt,rn,sa,S,[sN]),Lh(k,S,null)}catch(xt){throw null!==Ye&&Zf(Ye),Zf(S),xt}finally{xf()}return new Xx(this.componentType,me,ls(Fe,S),S,Fe)}finally{fe(i)}}}class Xx extends Gx{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ya(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;Fh(i[H],i,o,t,n),this.previousInputValues.set(t,n),Za(tr(this._tNode.index,i),1)}}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function sN(){const e=pt();Cl(M()[H],e)}let Nr=(()=>{class e{static{this.__NG_ELEMENT_ID__=aN}}return e})();function aN(){return cw(pt(),M())}const cN=Nr,sw=class extends cN{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ls(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ml(this._hostTNode,this._hostLView);if(kf(t)){const n=Na(t,this._hostLView),r=xa(t);return new Qt(n[H].data[r+8],n)}return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=aw(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=Ii(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Ci(this._hostTNode,s)),a}createComponent(t,n,r,o,i){const s=t&&!function wa(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,o=y.projectableNodes,i=y.environmentInjector||y.ngModuleRef}const c=s?t:new sc(qe(t)),l=r||this.parentInjector;if(!i&&null==c.ngModule){const _=(s?l:this.parentInjector).get(qn,null);_&&(i=_)}const h=qe(c.componentType??{}),p=Ii(this._lContainer,h?.id??null),m=c.create(l,o,p?.firstChild??null,i);return this.insertImpl(m.hostView,a,Ci(this._hostTNode,p)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function FT(e){return wn(e[Bt])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[Bt],l=new sw(c,c[un],c[Bt]);l.detach(l.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;return bs(s,o,i,r),t.attachToViewContainerRef(),Cm(ep(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=aw(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=za(this._lContainer,n);r&&(ol(ep(this._lContainer),n),ql(r[H],r))}detach(t){const n=this._adjustIndex(t,-1),r=za(this._lContainer,n);return r&&null!=ol(ep(this._lContainer),n)?new Ya(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function aw(e){return e[8]}function ep(e){return e[8]||(e[8]=[])}function cw(e,t){let n;const r=t[e.index];return wn(r)?n=r:(n=bb(r,t,null,e),t[e.index]=n,Ql(t,n)),lw(n,t,e,r),new sw(n,e,t)}let lw=function dw(e,t,n,r){if(e[qr])return;let o;o=8&n.type?rt(r):function lN(e,t){const n=e[xe],r=n.createComment(""),o=An(t,e);return wi(n,Ch(n,o),r,function c1(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[qr]=o},tp=()=>!1;class np{constructor(t){this.queryList=t,this.matches=null}clone(){return new np(this.queryList)}setDirty(){this.queryList.setDirty()}}class rp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new rp(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==cp(t,n).matches&&this.queries[n].setDirty()}}class fw{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function yN(e){return e.split(",").map(t=>t.trim())}(t):t}}class op{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new op(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ip{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ip(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,hN(n,i)),this.matchTNodeWithReadOption(t,n,xl(n,t,i,!1,!1))}else r===So?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,xl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===zo||o===Nr||o===So&&4&n.type)this.addMatch(n.index,-2);else{const i=xl(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function hN(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function gN(e,t,n,r){return-1===n?function pN(e,t){return 11&e.type?ls(e,t):4&e.type?eu(e,t):null}(t,e):-2===n?function mN(e,t,n){return n===zo?ls(t,e):n===So?eu(t,e):n===Nr?cw(t,e):void 0}(e,t,r):yi(e,e[H],n,t)}function hw(e,t,n,r){const o=t[vo].queries[r];if(null===o.matches){const i=e.data,s=n.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:gN(t,i[l],s[c+1],n.metadata.read))}o.matches=a}return o.matches}function sp(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=hw(e,t,o,n);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const l=i[a+1],h=t[-c];for(let p=Ft;p<h.length;p++){const g=h[p];g[ui]===g[Bt]&&sp(g[H],g,l,r)}if(null!==h[is]){const p=h[is];for(let g=0;g<p.length;g++){const m=p[g];sp(m[H],m,l,r)}}}}}return r}function gw(e,t,n){const r=He();return r.firstCreatePass&&(function yw(e,t,n){null===e.queries&&(e.queries=new op),e.queries.track(new ip(t,n))}(r,new fw(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),function pw(e,t,n){const r=new Gf(!(4&~n));return function b1(e,t,n,r){const o=Db(t);o.push(n),e.firstCreatePass&&Eb(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[vo]??=new rp).queries.push(new np(r))-1}(r,M(),t)}function cp(e,t){return e.queries.getByIndex(t)}function vw(e,t){const n=e[H],r=cp(n,t);return r.crossesNgTemplate?sp(n,e,t,[]):hw(n,e,r,t)}const bw=new Set;function Pn(e){bw.has(e)||(bw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Vw(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}class Si{}class Bw{}class dp extends Si{constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ow(this);const i=bn(t);this._bootstrapComponents=nr(i.bootstrap),this._r3Injector=jy(t,n,[{provide:Si,useValue:this},{provide:su,useValue:this.componentFactoryResolver},...r],Y(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fp extends Bw{constructor(t){super(),this.moduleType=t}create(t){return new dp(this.moduleType,t,[])}}class Uw extends Si{constructor(t){super(),this.componentFactoryResolver=new ow(this),this.instance=null;const n=new Ji([...t.providers,{provide:Si,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],t.parent||fl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function fu(e,t,n=null){return new Uw({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Lt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ti(e,t,n,r){const o=Lt(e,t,n);return Lt(e,t+1,r)||o}function mr(e,t,n,r,o,i){const s=Ti(e,t,n,r);return Ti(e,t+2,o,i)||s}function lc(e,t,n,r,o,i,s,a,c,l){const h=n+de,p=t.firstCreatePass?function GN(e,t,n,r,o,i,s,a,c){const l=t.consts,h=Ei(t,e,4,s||null,a||null);Ah(t,n,h,pr(l,c)),Cl(t,h);const p=h.tView=Rh(2,h,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,h),p.queries=t.queries.embeddedTView(h)),h}(h,t,e,r,o,i,s,a,c):t.data[h];Mr(p,!1);const g=Hw(t,e,p,n);Ta()&&Zl(t,e,g,p),Dn(g,e);const m=bb(g,e,g,p);return e[h]=m,Ql(e,m),function uw(e,t,n){return tp(e,t,n)}(m,p,e),yl(p)&&xh(t,e,p),null!=c&&Nh(e,p,l),p}function _s(e,t,n,r,o,i,s,a){const c=M(),l=He();return lc(c,l,e,t,n,r,o,pr(l.consts,i),s,a),_s}let Hw=function $w(e,t,n,r){return Yr(!0),t[xe].createComment("")};var Ss=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ss||{});let Yw=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ge({token:e,providedIn:"root",factory:()=>new e})}}return e})();class fc{constructor(){this.ngZone=P(ft),this.scheduler=P(Ds),this.errorHandler=P(Qr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ss.EarlyRead,Ss.Write,Ss.MixedReadWrite,Ss.Read]}execute(){this.executing=!0;for(const t of fc.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=ge({token:fc,providedIn:"root",factory:()=>new fc})}}class YN{constructor(t,n,r,o){this.impl=t,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function vu(e,t){!t?.injector&&function df(e){if(!Um())throw new C(-203,!1)}();const n=t?.injector??P(fn);return function rr(e){return"browser"===(e??P(fn)).get(Wo)}(n)?(Pn("NgAfterNextRender"),function Kw(e,t,n,r){const o=t.get(Yw);o.impl??=t.get(fc);const i=n?.phase??Ss.MixedReadWrite,s=!0!==n?.manualCleanup?t.get(Aa):null,a=new YN(o.impl,function QN(e,t){if(e instanceof Function){const n=[void 0,void 0,void 0,void 0];return n[t]=e,n}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,i),r,s);return o.impl.register(a),a}(e,n,t,!0)):Qw}const Qw={destroy(){}};function _p(e,t,n,r){const o=M();return Lt(o,xr(),t)&&(He(),Jr(It(),o,e,t,n,r)),_p}function ks(e,t,n,r){return Lt(e,xr(),n)?t+Oe(n)+r:Pe}function Mp(e,t,n){const r=M();return Lt(r,xr(),t)&&Yn(He(),It(),r,e,t,r[xe],n,!1),Mp}function xp(e,t,n,r,o){const s=o?"class":"style";Fh(e,n,t.inputs[s],s,r)}class sA{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){const s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}}function Rp(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function Ap(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function jD(e,t,n,r,o){if(Ap(e,t,r,n(r,o)))e.updateValue(r,o);else{const i=e.create(r,o);e.attach(r,i)}}function VD(e,t,n,r){const o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}class BD{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}}function Xo(e,t){Pn("NgControlFlow");const n=M(),r=xr(),o=n[r]!==Pe?n[r]:-1,i=-1!==o?Cu(n,de+o):void 0;if(Lt(n,r,e)){const a=fe(null);try{if(void 0!==i&&jh(i,0),-1!==e){const c=de+e,l=Cu(n,c),h=kp(n[H],c),p=Ii(l,h.tView.ssrId);bs(l,vs(n,h,t,{dehydratedView:p}),0,Ci(h,p))}}finally{fe(a)}}else if(void 0!==i){const a=_b(i,0);void 0!==a&&(a[_t]=t)}}class cA{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ft}}function Ni(e,t){return t}class uA{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}function Ri(e,t,n,r,o,i,s,a,c,l,h,p,g){Pn("NgControlFlow");const m=M(),y=He(),_=void 0!==c,x=M(),k=a?s.bind(x[Rt][_t]):s,S=new uA(_,k);x[de+e]=S,lc(m,y,e+1,t,n,r,o,pr(y.consts,i)),_&&lc(m,y,e+2,c,l,h,p,pr(y.consts,g))}class dA extends sA{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ft}at(t){return this.getLView(t)[_t].$implicit}attach(t,n){const r=n[Rn];this.needsIndexUpdate||=t!==this.length,bs(this.lContainer,n,t,Ci(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function fA(e,t){return za(e,t)}(this.lContainer,t)}create(t,n){const r=Ii(this.lContainer,this.templateTNode.tView.ssrId),o=vs(this.hostLView,this.templateTNode,new cA(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(t){ql(t[H],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[_t].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[_t].$index=t}getLView(t){return function hA(e,t){return _b(e,t)}(this.lContainer,t)}}function Ai(e){const t=fe(null),n=dn();try{const r=M(),o=r[H],i=r[n],s=n+1,a=Cu(r,s);if(void 0===i.liveCollection){const l=kp(o,s);i.liveCollection=new dA(a,r,l)}else i.liveCollection.reset();const c=i.liveCollection;if(function aA(e,t,n){let r,o,i=0,s=e.length-1;if(Array.isArray(t)){let c=t.length-1;for(;i<=s&&i<=c;){const l=e.at(i),h=t[i],p=Rp(i,l,i,h,n);if(0!==p){p<0&&e.updateValue(i,h),i++;continue}const g=e.at(s),m=t[c],y=Rp(s,g,c,m,n);if(0!==y){y<0&&e.updateValue(s,m),s--,c--;continue}const _=n(i,l),x=n(s,g),k=n(i,h);if(Object.is(k,x)){const S=n(c,m);Object.is(S,_)?(e.swap(i,s),e.updateValue(s,m),c--,s--):e.move(s,i),e.updateValue(i,h),i++}else if(r??=new BD,o??=VD(e,i,s,n),Ap(e,r,i,k))e.updateValue(i,h),i++,s++;else if(o.has(k))r.set(_,e.detach(i)),s--;else{const S=e.create(i,t[i]);e.attach(i,S),i++,s++}}for(;i<=c;)jD(e,r,n,i,t[i]),i++}else if(null!=t){const c=t[Symbol.iterator]();let l=c.next();for(;!l.done&&i<=s;){const h=e.at(i),p=l.value,g=Rp(i,h,i,p,n);if(0!==g)g<0&&e.updateValue(i,p),i++,l=c.next();else{r??=new BD,o??=VD(e,i,s,n);const m=n(i,p);if(Ap(e,r,i,m))e.updateValue(i,p),i++,s++,l=c.next();else if(o.has(m)){const y=n(i,h);r.set(y,e.detach(i)),s--}else e.attach(i,e.create(i,p)),i++,s++,l=c.next()}}for(;!l.done;)jD(e,r,n,e.length,l.value),l=c.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}(c,e,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){const l=xr(),h=0===c.length;if(Lt(r,l,h)){const p=n+2,g=Cu(r,p);if(h){const m=kp(o,p),y=Ii(g,m.tView.ssrId);bs(g,vs(r,m,void 0,{dehydratedView:y}),0,Ci(m,y))}else jh(g,0)}}}finally{fe(t)}}function Cu(e,t){return e[t]}function kp(e,t){return Ia(e,t)}function f(e,t,n,r){const o=M(),i=He(),s=de+e,a=o[xe],c=i.firstCreatePass?function pA(e,t,n,r,o,i){const s=t.consts,c=Ei(t,e,2,r,pr(s,o));return Ah(t,n,c,pr(s,i)),null!==c.attrs&&lu(c,c.attrs,!1),null!==c.mergedAttrs&&lu(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,i,o,t,n,r):i.data[s],l=UD(i,o,c,a,t,e);o[s]=l;const h=yl(c);return Mr(c,!0),cb(a,l,c),!function Cs(e){return!(32&~e.flags)}(c)&&Ta()&&Zl(i,o,l,c),0===function LT(){return Ne.lFrame.elementDepthCount}()&&Dn(l,o),function jT(){Ne.lFrame.elementDepthCount++}(),h&&(xh(i,o,c),Mh(i,c,o)),null!==r&&Nh(o,c),f}function d(){let e=pt();Cf()?function _f(){Ne.lFrame.isParent=!1}():(e=e.parent,Mr(e,!1));const t=e;(function BT(e){return Ne.skipHydrationRootTNode===e})(t)&&function zT(){Ne.skipHydrationRootTNode=null}(),function VT(){Ne.lFrame.elementDepthCount--}();const n=He();return n.firstCreatePass&&(Cl(n,e),pf(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function o0(e){return!!(8&e.flags)}(t)&&xp(n,t,M(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function s0(e){return!!(16&e.flags)}(t)&&xp(n,t,M(),t.stylesWithoutHost,!1),d}function A(e,t,n,r){return f(e,t,n,r),d(),A}let UD=(e,t,n,r,o,i)=>(Yr(!0),Wl(r,o,function vy(){return Ne.lFrame.currentNamespace}()));function To(){return M()}const _u="en-US";let ZD=_u,fE=(e,t,n)=>{};function kr(e,t,n,r){const o=M(),i=He(),s=pt();return function jp(e,t,n,r,o,i,s){const a=yl(r),l=e.firstCreatePass&&Eb(e),h=t[_t],p=Db(t);let g=!0;if(3&r.type||s){const _=An(r,t),x=s?s(_):_,k=p.length,S=s?Fe=>s(rt(Fe[r.index])):r.index;let me=null;if(!s&&a&&(me=function uk(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=t[ts],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,r.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=i,me.__ngLastListenerFn__=i,g=!1;else{i=mE(r,t,h,i),fE(_,o,i);const Fe=n.listen(x,o,i);p.push(i,Fe),l&&l.push(o,S,k,k+1)}}else i=mE(r,t,h,i);const m=r.outputs;let y;if(g&&null!==m&&(y=m[o])){const _=y.length;if(_)for(let x=0;x<_;x+=2){const Ye=t[y[x]][y[x+1]].subscribe(i),xt=p.length;p.push(i,Ye),l&&l.push(o,r.index,xt,-(xt+1))}}}(i,o,o[xe],s,e,t,r),kr}function gE(e,t,n,r){const o=fe(null);try{return Zr(6,t,n),!1!==n(r)}catch(i){return Jl(e,i),!1}finally{Zr(7,t,n),fe(o)}}function mE(e,t,n,r){return function o(i){if(i===Function)return r;Za(e.componentOffset>-1?tr(e.index,t):t,5);let a=gE(t,n,r,i),c=o.__ngNextListenerFn__;for(;c;)a=gE(t,n,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function no(e=1){return function YT(e){return(Ne.lFrame.contextLView=function ry(e,t){for(;e>0;)t=t[ns],e--;return t}(e,Ne.lFrame.contextLView))[_t]}(e)}function Or(e,t,n){return wc(e,"",t,"",n),Or}function wc(e,t,n,r,o){const i=M(),s=ks(i,t,n,r);return s!==Pe&&Yn(He(),It(),i,e,s,i[xe],o,!1),wc}function Mo(e,t,n){gw(e,t,n)}function ro(e){const t=M(),n=He(),r=Tf();El(r+1);const o=cp(n,r);if(e.dirty&&function PT(e){return!(4&~e[ve])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=vw(t,r);e.reset(i,qy),e.notifyOnChanges()}return!0}return!1}function oo(){return function ap(e,t){return e[vo].queries[t].queryList}(M(),Tf())}function u(e,t=""){const n=M(),r=He(),o=e+de,i=r.firstCreatePass?Ei(r,o,1,t,null):r.data[o],s=PE(r,n,i,t,e);n[o]=s,Ta()&&Zl(r,n,s,i),Mr(i,!1)}let PE=(e,t,n,r,o)=>(Yr(!0),function vh(e,t){return e.createText(t)}(t[xe],r));function yr(e){return Bp("",e,""),yr}function Bp(e,t,n){const r=M(),o=ks(r,e,t,n);return o!==Pe&&Io(r,dn(),o),Bp}function En(e,t,n,r,o){const i=M(),s=function Os(e,t,n,r,o,i){const a=Ti(e,Eo(),n,o);return Co(2),a?t+Oe(n)+r+Oe(o)+i:Pe}(i,e,t,n,r,o);return s!==Pe&&Io(i,dn(),s),En}function hn(e,t,n,r,o,i,s,a,c){const l=M(),h=function Fs(e,t,n,r,o,i,s,a,c,l){const p=mr(e,Eo(),n,o,s,c);return Co(4),p?t+Oe(n)+r+Oe(o)+i+Oe(s)+a+Oe(c)+l:Pe}(l,e,t,n,r,o,i,s,a,c);return h!==Pe&&Io(l,dn(),h),hn}function ei(e,t,n,r,o,i,s,a,c,l,h,p,g){const m=M(),y=function js(e,t,n,r,o,i,s,a,c,l,h,p,g,m){const y=Eo();let _=mr(e,y,n,o,s,c);return _=Ti(e,y+4,h,g)||_,Co(6),_?t+Oe(n)+r+Oe(o)+i+Oe(s)+a+Oe(c)+l+Oe(h)+p+Oe(g)+m:Pe}(m,e,t,n,r,o,i,s,a,c,l,h,p,g);return y!==Pe&&Io(m,dn(),y),ei}function io(e,t,n,r,o,i,s,a,c,l,h,p,g,m,y,_,x){const k=M(),S=function Bs(e,t,n,r,o,i,s,a,c,l,h,p,g,m,y,_,x,k){const S=Eo();let me=mr(e,S,n,o,s,c);return me=mr(e,S+4,h,g,y,x)||me,Co(8),me?t+Oe(n)+r+Oe(o)+i+Oe(s)+a+Oe(c)+l+Oe(h)+p+Oe(g)+m+Oe(y)+_+Oe(x)+k:Pe}(k,e,t,n,r,o,i,s,a,c,l,h,p,g,m,y,_,x);return S!==Pe&&Io(k,dn(),S),io}function Ln(e){const t=M(),n=function As(e,t){let n=!1,r=Eo();for(let i=1;i<t.length;i+=2)n=Lt(e,r++,t[i])||n;if(dy(r),!n)return Pe;let o=t[0];for(let i=1;i<t.length;i+=2)o+=Oe(t[i])+t[i+1];return o}(t,e);return n!==Pe&&Io(t,dn(),n),Ln}let jk=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=nf(0,n.type),o=r.length>0?fu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ge({token:e,providedIn:"environment",factory:()=>new e(Se(qn))})}}return e})();function Je(e){Pn("NgStandalone"),e.getStandaloneInjector=t=>t.get(jk).getOrCreateStandaloneInjector(e)}let fC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const yC=new oe(""),ku=new oe("");let Jp,Kp=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Jp||(function JO(e){Jp=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(Se(ft),Se(Qp),Se(ku))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})(),Qp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Jp?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Ou(e){return!!e&&"function"==typeof e.then}function vC(e){return!!e&&"function"==typeof e.subscribe}const Xp=new oe("");let bC=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(Xp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(Ou(i))n.push(i);else if(vC(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Pu=new oe("");let so=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(O0),this.afterRenderManager=P(Yw),this.zonelessEnabled=P(rc),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new K,this.afterTick=new K,this.componentTypes=[],this.components=[],this.isStable=P(vi).hasPendingTasks.pipe(Me(n=>!n)),this._injector=P(qn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof ew;if(!this._injector.get(bC).done)throw!o&&function Ho(e){const t=qe(e)||Zt(e)||ln(e);return null!==t&&t.standalone}(n),new C(405,!1);let s;s=o?n:this._injector.get(su).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function XO(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Si),l=s.create(fn.NULL,[],r||s.selector,a),h=l.location.nativeElement,p=l.injector.get(yC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Fu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new C(101,!1);const n=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,fe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Qh,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:i}of this._views)nP(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>vl(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Fu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Pu,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Fu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Fu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function nP(e,t,n,r){(n||vl(e))&&Xl(e,t,n&&!r?0:1)}class rP{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let CC=(()=>{class e{compileModuleSync(n){return new fp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=nr(bn(n).declarations).reduce((s,a)=>{const c=qe(a);return c&&s.push(new sc(c)),s},[]);return new rP(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sP=(()=>{class e{constructor(){this.zone=P(ft),this.changeDetectionScheduler=P(Ds),this.applicationRef=P(so)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function eg({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ft({...tg(),scheduleInRootZone:n}),[{provide:ft,useFactory:e},{provide:Gr,multi:!0,useFactory:()=>{const r=P(sP,{optional:!0});return()=>r.initialize()}},{provide:Gr,multi:!0,useFactory:()=>{const r=P(cP);return()=>{r.initialize()}}},!0===t?{provide:Xb,useValue:!0}:[],{provide:Kh,useValue:n??By}]}function tg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let cP=(()=>{class e{constructor(){this.subscription=new T,this.initialized=!1,this.zone=P(ft),this.pendingTasks=P(vi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ic=(()=>{class e{constructor(){this.appRef=P(so),this.taskService=P(vi),this.ngZone=P(ft),this.zonelessEnabled=P(rc),this.disableScheduling=P(Xb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new T,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Al):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Kh,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?Hy:Uy;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Al+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const ti=new oe("",{providedIn:"root",factory:()=>P(ti,Ze.Optional|Ze.SkipSelf)||function lP(){return typeof $localize<"u"&&$localize.locale||_u}()}),ju=new oe("");function Vu(e){return!e.moduleRef}let ni=null;let Bu=(()=>{class e{static{this.__NG_ELEMENT_ID__=bP}}return e})();function bP(e){return function wP(e,t,n){if(di(e)&&!n){const r=tr(e.index,t);return new Ya(r,r)}return 175&e.type?new Ya(t[Rt],t):null}(pt(),M(),!(16&~e))}let AP=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(Se(so))}}static{this.\u0275mod=Qi({type:e})}static{this.\u0275inj=ai({})}}return e})();function zP(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,o=function vP(e=[]){if(ni)return ni;const t=function RC(e=[],t){return fn.create({name:t,providers:[{provide:af,useValue:"platform"},{provide:ju,useValue:new Set([()=>ni=null])},...e]})}(e);return ni=t,function wC(){!function zi(e){aa=e}(()=>{throw new C(600,!1)})}(),function AC(e){e.get(hv,null)?.forEach(n=>n())}(t),t}(r),i=[eg({}),{provide:Ds,useExisting:Ic},...n||[]];return function MC(e){const t=Vu(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ft);return n.run(()=>{Vu(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(Qr,null);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),Vu(e)){const i=()=>t.destroy(),s=e.platformInjector.get(ju);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(ju);s.add(i),e.moduleRef.onDestroy(()=>{Fu(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return function tP(e,t,n){try{const r=n();return Ou(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const i=t.get(bC);return i.runInitializers(),i.donePromise.then(()=>{if(function SA(e){"string"==typeof e&&(ZD=e.toLowerCase().replace(/_/g,"-"))}(t.get(ti,_u)||_u),Vu(e)){const a=t.get(so);return void 0!==e.rootComponent&&a.bootstrap(e.rootComponent),a}return function gP(e,t){const n=e.injector.get(so);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new C(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new Uw({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}}function dg(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let f_=null;function Gs(){return f_}class vF{}const vr=new oe("");let fg=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:()=>P(wF),providedIn:"platform"})}}return e})();const bF=new oe("");let wF=(()=>{class e extends fg{constructor(){super(),this._doc=P(vr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gs().getBaseHref(this._doc)}onPopState(n){const r=Gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function hg(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function h_(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function xo(e){return e&&"?"!==e[0]?"?"+e:e}let Pi=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:()=>P(g_),providedIn:"root"})}}return e})();const p_=new oe("");let g_=(()=>{class e extends Pi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(vr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+xo(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+xo(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+xo(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(Se(fg),Se(p_,8))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),DF=(()=>{class e extends Pi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=hg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+xo(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+xo(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(Se(fg),Se(p_,8))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})(),xc=(()=>{class e{constructor(n){this._subject=new On,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function _F(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(h_(m_(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xo(r))}normalize(n){return e.stripTrailingSlash(function CF(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,m_(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xo(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xo(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=xo}static{this.joinWithSlash=hg}static{this.stripTrailingSlash=h_}static{this.\u0275fac=function(r){return new(r||e)(Se(Pi))}}static{this.\u0275prov=ge({token:e,factory:()=>function EF(){return new xc(Se(Pi))}(),providedIn:"root"})}}return e})();function m_(e){return e.replace(/\/index.html$/,"")}let VL=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Qi({type:e})}static{this.\u0275inj=ai({})}}return e})();const R_="browser";function A_(e){return"server"===e}let HL=(()=>{class e{static{this.\u0275prov=ge({token:e,providedIn:"root",factory:()=>function UL(e){return e===R_}(P(Wo))?new $L(P(vr),window):new GL})}}return e})();class $L{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const n=function zL(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}}class GL{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class w2 extends vF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rg extends w2{static makeCurrent(){!function yF(e){f_??=e}(new Rg)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function D2(){return kc=kc||document.querySelector("base"),kc?kc.getAttribute("href"):null}();return null==n?null:function E2(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function cL(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let kc=null,_2=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})();const Ag=new oe("");let $_=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(Se(Ag),Se(ft))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})();class z_{constructor(t){this._doc=t}}const kg="ng-app-id";let G_=(()=>{class e{constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=A_(i),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${kg}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const i=o.get(n);return i.usage+=r,i.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===n)return o.delete(r),i.removeAttribute(kg),i;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(kg,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Se(vr),Se(ds),Se(pv,8),Se(Wo))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})();const Og={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pg=/%COMP%/g,M2=new oe("",{providedIn:"root",factory:()=>!0});function q_(e,t){return t.map(n=>n.replace(Pg,e))}let Z_=(()=>{class e{constructor(n,r,o,i,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=A_(a),this.defaultRenderer=new Fg(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_r.ShadowDom&&(r={...r,encapsulation:_r.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof K_?o.applyToHost(n):o instanceof Lg&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case _r.Emulated:i=new K_(c,l,r,this.appId,h,s,a,p);break;case _r.ShadowDom:return new A2(c,l,n,r,s,a,this.nonce,p);default:i=new Lg(c,l,r,h,s,a,p)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Se($_),Se(G_),Se(ds),Se(M2),Se(vr),Se(Wo),Se(ft),Se(pv))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})();class Fg{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Og[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Y_(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Y_(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=Og[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=Og[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Zo.DashCase|Zo.Important)?t.style.setProperty(n,r,o&Zo.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Zo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Gs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Y_(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class A2 extends Fg{constructor(t,n,r,o,i,s,a,c){super(t,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=q_(o.id,o.styles);for(const h of l){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lg extends Fg{constructor(t,n,r,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?q_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class K_ extends Lg{constructor(t,n,r,o,i,s,a,c){const l=o+"-"+r.id;super(t,n,r,i,s,a,c,l),this.contentAttr=function x2(e){return"_ngcontent-%COMP%".replace(Pg,e)}(l),this.hostAttr=function N2(e){return"_nghost-%COMP%".replace(Pg,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let k2=(()=>{class e extends z_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(Se(vr))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})();const Q_=["alt","control","meta","shift"],O2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let F2=(()=>{class e extends z_{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const i=e.parseEventName(r),s=e.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gs().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Q_.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=O2[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Q_.forEach(s=>{s!==o&&(0,P2[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(Se(vr))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})();function J_(e){return{appProviders:[...eI,...e?.providers??[]],platformProviders:U2}}const U2=[{provide:Wo,useValue:R_},{provide:hv,useValue:function j2(){Rg.makeCurrent()},multi:!0},{provide:vr,useFactory:function B2(){return function nM(e){Kf=e}(document),document},deps:[]}],H2=new oe(""),X_=[{provide:ku,useClass:class C2{addToWindow(t){Z.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new C(5103,!1);return i},Z.getAllAngularTestabilities=()=>t.getAllTestabilities(),Z.getAllAngularRootElements=()=>t.getAllRootElements(),Z.frameworkStabilizers||(Z.frameworkStabilizers=[]),Z.frameworkStabilizers.push(r=>{const o=Z.getAllAngularTestabilities();let i=o.length;const s=function(){i--,0==i&&r()};o.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Gs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:yC,useClass:Kp,deps:[ft,Qp,ku]},{provide:Kp,useClass:Kp,deps:[ft,Qp,ku]}],eI=[{provide:af,useValue:"root"},{provide:Qr,useFactory:function V2(){return new Qr},deps:[]},{provide:Ag,useClass:k2,multi:!0,deps:[vr,ft,Wo]},{provide:Ag,useClass:F2,multi:!0,deps:[vr]},Z_,G_,$_,{provide:Qh,useExisting:Z_},{provide:class WL{},useClass:_2,deps:[]},[]];let $2=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ds,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(Se(H2,12))}}static{this.\u0275mod=Qi({type:e})}static{this.\u0275inj=ai({providers:[...eI,...X_],imports:[VL,AP]})}}return e})(),z2=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(Se(vr))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Li(e){return this instanceof Li?(this.v=e,this):new Li(e)}function J2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function iI(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}(a,c,(s=e[i](s)).done,s.value)})}}}const sI=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function aI(e){return ht(e?.then)}function cI(e){return ht(e[dt])}function lI(e){return Symbol.asyncIterator&&ht(e?.[Symbol.asyncIterator])}function uI(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dI=function ej(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fI(e){return ht(e?.[dI])}function hI(e){return function Q2(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(g){r[g]&&(o[g]=function(m){return new Promise(function(y,_){i.push([g,m,y,_])>1||a(g,m)})})}function a(g,m){try{!function c(g){g.value instanceof Li?Promise.resolve(g.value.v).then(l,h):p(i[0][2],g)}(r[g](m))}catch(y){p(i[0][3],y)}}function l(g){a("next",g)}function h(g){a("throw",g)}function p(g,m){g(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Li(n.read());if(o)return yield Li(void 0);yield yield Li(r)}}finally{n.releaseLock()}})}function pI(e){return ht(e?.getReader)}function Ao(e){if(e instanceof ee)return e;if(null!=e){if(cI(e))return function tj(e){return new ee(t=>{const n=e[dt]();if(ht(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(sI(e))return function nj(e){return new ee(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(aI(e))return function rj(e){return new ee(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,cn)})}(e);if(lI(e))return gI(e);if(fI(e))return function oj(e){return new ee(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(pI(e))return function ij(e){return gI(hI(e))}(e)}throw uI(e)}function gI(e){return new ee(t=>{(function sj(e,t){var n,r,o,i;return function Y2(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?i(h.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(h.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=J2(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ko(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function mI(e,t=0){return re((n,r)=>{n.subscribe(te(r,o=>ko(r,e,()=>r.next(o),t),()=>ko(r,e,()=>r.complete(),t),o=>ko(r,e,()=>r.error(o),t)))})}function yI(e,t=0){return re((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function vI(e,t){if(!e)throw new Error("Iterable cannot be null");return new ee(n=>{ko(n,t,()=>{const r=e[Symbol.asyncIterator]();ko(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function pn(e,t){return t?function fj(e,t){if(null!=e){if(cI(e))return function aj(e,t){return Ao(e).pipe(yI(t),mI(t))}(e,t);if(sI(e))return function lj(e,t){return new ee(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(aI(e))return function cj(e,t){return Ao(e).pipe(yI(t),mI(t))}(e,t);if(lI(e))return vI(e,t);if(fI(e))return function uj(e,t){return new ee(n=>{let r;return ko(n,t,()=>{r=e[dI](),ko(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>ht(r?.return)&&r.return()})}(e,t);if(pI(e))return function dj(e,t){return vI(hI(e),t)}(e,t)}throw uI(e)}(e,t):Ao(e)}function Vg(e){return e[e.length-1]}function dd(e){return function hj(e){return e&&ht(e.schedule)}(Vg(e))?e.pop():void 0}function Ae(...e){return pn(e,dd(e))}const{isArray:gj}=Array,{getPrototypeOf:mj,prototype:yj,keys:vj}=Object;const{isArray:Dj}=Array;function Bg(...e){const t=dd(e),n=function pj(e){return ht(Vg(e))?e.pop():void 0}(e),{args:r,keys:o}=function bj(e){if(1===e.length){const t=e[0];if(gj(t))return{args:t,keys:null};if(function wj(e){return e&&"object"==typeof e&&mj(e)===yj}(t)){const n=vj(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return pn([],t);const i=new ee(function Ij(e,t,n=it){return r=>{bI(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)bI(t,()=>{const l=pn(e[c],t);let h=!1;l.subscribe(te(r,p=>{i[c]=p,h||(h=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>function _j(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}(o,s):it));return n?i.pipe(function Cj(e){return Me(t=>function Ej(e,t){return Dj(t)?e(...t):e(t)}(e,t))}(n)):i}function bI(e,t,n){e?ko(n,e,t):t()}const fd=Lo(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Cn(e,t,n=1/0){return ht(t)?Cn((r,o)=>Me((i,s)=>t(r,i,o,s))(Ao(e(r,o))),n):("number"==typeof t&&(n=t),re((r,o)=>function Sj(e,t,n,r,o,i,s,a){const c=[];let l=0,h=0,p=!1;const g=()=>{p&&!c.length&&!l&&t.complete()},m=_=>l<r?y(_):c.push(_),y=_=>{i&&t.next(_),l++;let x=!1;Ao(n(_,h++)).subscribe(te(t,k=>{o?.(k),i?m(k):t.next(k)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;c.length&&l<r;){const k=c.shift();s?ko(t,s,()=>y(k)):y(k)}g()}catch(k){t.error(k)}}))};return e.subscribe(te(t,m,()=>{p=!0,g()})),()=>{a?.()}}(r,o,e,n)))}function Oc(e=1/0){return Cn(it,e)}function Ug(...e){return function Tj(){return Oc(1)}()(pn(e,dd(e)))}function wI(e){return new ee(t=>{Ao(e()).subscribe(t)})}function hd(e,t){const n=ht(e)?e:()=>e,r=o=>o.error(n());return new ee(t?o=>t.schedule(r,0,o):r)}const ao=new ee(e=>e.complete());function Hg(){return re((e,t)=>{let n=null;e._refCount++;const r=te(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class DI extends ee{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new T;const n=this.getSubject();t.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=T.EMPTY)}return t}refCount(){return Hg()(this)}}function co(e,t){return re((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(te(r,c=>{o?.unsubscribe();let l=0;const h=i++;Ao(e(c,h)).subscribe(o=te(r,p=>r.next(t?t(c,p,h,l++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Zs(e){return e<=0?()=>ao:re((t,n)=>{let r=0;t.subscribe(te(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function ri(e,t){return re((n,r)=>{let o=0;n.subscribe(te(r,i=>e.call(t,i,o++)&&r.next(i)))})}function pd(e){return re((t,n)=>{let r=!1;t.subscribe(te(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function EI(e=Nj){return re((t,n)=>{let r=!1;t.subscribe(te(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Nj(){return new fd}function ji(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ri((o,i)=>e(o,i,r)):it,Zs(1),n?pd(t):EI(()=>new fd))}function Pc(e,t){return ht(t)?Cn(e,t,1):Cn(e,1)}function Bn(e,t,n){const r=ht(e)||t||n?{next:e,error:t,complete:n}:e;return r?re((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(te(i,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),i.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):it}function Ys(e){return re((t,n)=>{let i,r=null,o=!1;r=t.subscribe(te(n,void 0,void 0,s=>{i=Ao(e(s,Ys(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function $g(e){return e<=0?()=>ao:re((t,n)=>{let r=[];t.subscribe(te(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function zg(e){return re((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Be="primary",Fc=Symbol("RouteTitle");class Fj{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ks(e){return new Fj(e)}function Lj(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=e[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function lo(e,t){const n=e?Gg(e):void 0,r=t?Gg(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!CI(e[o],t[o]))return!1;return!0}function Gg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function CI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}return e===t}function _I(e){return e.length>0?e[e.length-1]:null}function oi(e){return function Z2(e){return!!e&&(e instanceof ee||ht(e.lift)&&ht(e.subscribe))}(e)?e:Ou(e)?pn(Promise.resolve(e)):Ae(e)}const Vj={exact:function TI(e,t,n){if(!Bi(e.segments,t.segments)||!gd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!TI(e.children[r],t.children[r],n))return!1;return!0},subset:MI},II={exact:function Bj(e,t){return lo(e,t)},subset:function Uj(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>CI(e[n],t[n]))},ignored:()=>!0};function SI(e,t,n){return Vj[n.paths](e.root,t.root,n.matrixParams)&&II[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function MI(e,t,n){return xI(e,t,t.segments,n)}function xI(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Bi(o,n)||t.hasChildren()||!gd(o,n,r))}if(e.segments.length===n.length){if(!Bi(e.segments,n)||!gd(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!MI(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!(Bi(e.segments,o)&&gd(e.segments,o,r)&&e.children[Be])&&xI(e.children[Be],t,i,r)}}function gd(e,t,n){return t.every((r,o)=>II[n](e[o].parameters,r.parameters))}class Vi{constructor(t=new mt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){return zj.serialize(this)}}class mt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yd(this)}}class Lc{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ks(this.parameters),this._parameterMap}toString(){return AI(this)}}function Bi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Qs=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:()=>new md,providedIn:"root"})}}return e})();class md{parse(t){const n=new tV(t);return new Vi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${jc(t.root,!0)}`,r=function qj(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${vd(n)}=${vd(o)}`).join("&"):`${vd(n)}=${vd(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Gj(e){return encodeURI(e)}(t.fragment)}`:""}`}}const zj=new md;function yd(e){return e.segments.map(t=>AI(t)).join("/")}function jc(e,t){if(!e.hasChildren())return yd(e);if(t){const n=e.children[Be]?jc(e.children[Be],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Be&&r.push(`${o}:${jc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function $j(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===Be&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Be&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===Be?[jc(e.children[Be],!1)]:[`${o}:${jc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Be]?`${yd(e)}/${n[0]}`:`${yd(e)}/(${n.join("//")})`}}function NI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vd(e){return NI(e).replace(/%3B/gi,";")}function Wg(e){return NI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bd(e){return decodeURIComponent(e)}function RI(e){return bd(e.replace(/\+/g,"%20"))}function AI(e){return`${Wg(e.path)}${function Wj(e){return Object.entries(e).map(([t,n])=>`;${Wg(t)}=${Wg(n)}`).join("")}(e.parameters)}`}const Zj=/^[^\/()?;#]+/;function qg(e){const t=e.match(Zj);return t?t[0]:""}const Yj=/^[^\/()?;=#]+/,Qj=/^[^=?&#]+/,Xj=/^[^&#]+/;class tV{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mt([],{}):new mt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Be]=new mt(t,n)),r}parseSegment(){const t=qg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new Lc(bd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Kj(e){const t=e.match(Yj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=qg(this.remaining);o&&(r=o,this.capture(r))}t[bd(n)]=bd(r)}parseQueryParam(t){const n=function Jj(e){const t=e.match(Qj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function eV(e){const t=e.match(Xj);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=RI(n),i=RI(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qg(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new C(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Be);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Be]:new mt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}}function kI(e){return e.segments.length>0?new mt([],{[Be]:e}):e}function OI(e){const t={};for(const[r,o]of Object.entries(e.children)){const i=OI(o);if(r===Be&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function nV(e){if(1===e.numberOfChildren&&e.children[Be]){const t=e.children[Be];return new mt(e.segments.concat(t.segments),t.children)}return e}(new mt(e.segments,t))}function Ui(e){return e instanceof Vi}function PI(e){let t;const o=kI(function n(i){const s={};for(const c of i.children){const l=n(c);s[c.outlet]=l}const a=new mt(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function FI(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return Zg(o,o,o,n,r);const i=function oV(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new jI(!0,0,e);let t=0,n=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new jI(n,t,r)}(t);if(i.toRoot())return Zg(o,o,new mt([],{}),n,r);const s=function iV(e,t,n){if(e.isAbsolute)return new Dd(t,!0,0);if(!n)return new Dd(t,!1,NaN);if(null===n.parent)return new Dd(n,!0,0);const r=wd(e.commands[0])?0:1;return function sV(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new C(4005,!1);o=r.segments.length}return new Dd(r,!1,o-i)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Bc(s.segmentGroup,s.index,i.commands):VI(s.segmentGroup,s.index,i.commands);return Zg(o,s.segmentGroup,a,n,r)}function wd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Vc(e){return"object"==typeof e&&null!=e&&e.outlets}function Zg(e,t,n,r,o){let s,i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=e===t?n:LI(e,t,n);const a=kI(OI(s));return new Vi(a,i,o)}function LI(e,t,n){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===t?n:LI(i,t,n)}),new mt(e.segments,r)}class jI{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&wd(r[0]))throw new C(4003,!1);const o=r.find(Vc);if(o&&o!==_I(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dd{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function VI(e,t,n){if(e??=new mt([],{}),0===e.segments.length&&e.hasChildren())return Bc(e,t,n);const r=function cV(e,t,n){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;const s=e.segments[o],a=n[r];if(Vc(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!UI(c,l,s))return i;r+=2}else{if(!UI(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new mt(e.segments.slice(0,r.pathIndex),{});return i.children[Be]=new mt(e.segments.slice(r.pathIndex),e.children),Bc(i,0,o)}return r.match&&0===o.length?new mt(e.segments,{}):r.match&&!e.hasChildren()?Yg(e,t,n):r.match?Bc(e,0,o):Yg(e,t,n)}function Bc(e,t,n){if(0===n.length)return new mt(e.segments,{});{const r=function aV(e){return Vc(e[0])?e[0].outlets:{[Be]:e}}(n),o={};if(Object.keys(r).some(i=>i!==Be)&&e.children[Be]&&1===e.numberOfChildren&&0===e.children[Be].segments.length){const i=Bc(e.children[Be],t,n);return new mt(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=VI(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new mt(e.segments,o)}}function Yg(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const i=n[o];if(Vc(i)){const c=lV(i.outlets);return new mt(r,c)}if(0===o&&wd(n[0])){r.push(new Lc(e.segments[t].path,BI(n[0]))),o++;continue}const s=Vc(i)?i.outlets[Be]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&wd(a)?(r.push(new Lc(s,BI(a))),o+=2):(r.push(new Lc(s,{})),o++)}return new mt(r,{})}function lV(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Yg(new mt([],{}),0,r))}),t}function BI(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function UI(e,t,n){return e==n.path&&lo(t,n.parameters)}const Uc="imperative";var Xe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Xe||{});class uo{constructor(t,n){this.id=t,this.url=n}}class Ed extends uo{constructor(t,n,r="imperative",o=null){super(t,n),this.type=Xe.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oo extends uo{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var sr=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(sr||{}),Cd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Cd||{});class Hi extends uo{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Js extends uo{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=Xe.NavigationSkipped}}class Kg extends uo{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HI extends uo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uV extends uo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dV extends uo{constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fV extends uo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hV extends uo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pV{constructor(t){this.route=t,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gV{constructor(t){this.route=t,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mV{constructor(t){this.snapshot=t,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yV{constructor(t){this.snapshot=t,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vV{constructor(t){this.snapshot=t,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bV{constructor(t){this.snapshot=t,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $I{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=Xe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qg{}class _d{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function Lr(e){return e.outlet||Be}function Hc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class IV{get injector(){return Hc(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new $c(this.rootInjector),this.attachRef=null}}let $c=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new IV(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(Se(qn))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class zI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Jg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Jg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Xg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Xg(t,this._root).map(n=>n.value)}}function Jg(e,t){if(e===t.value)return t;for(const n of t.children){const r=Jg(e,n);if(r)return r}return null}function Xg(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Xg(e,n);if(r.length)return r.unshift(t),r}return[]}class jr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Xs(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class GI extends zI{constructor(t,n){super(t),this.snapshot=n,em(this,t)}toString(){return this.snapshot.toString()}}function WI(e){const t=function SV(e){const i=new Sd([],{},{},"",{},Be,e,null,{});return new qI("",new jr(i,[]))}(e),n=new Q([new Lc("",{})]),r=new Q({}),o=new Q({}),i=new Q({}),s=new Q(""),a=new ea(n,r,i,s,o,Be,e,t.root);return a.snapshot=t.root,new GI(new jr(a,[]),t)}class ea{constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Me(l=>l[Fc]))??Ae(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Me(t=>Ks(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Me(t=>Ks(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Id(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&YI(o)&&(r.resolve[Fc]=o.title),r}class Sd{get title(){return this.data?.[Fc]}constructor(t,n,r,o,i,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ks(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qI extends zI{constructor(t,n){super(n),this.url=t,em(this,n)}toString(){return ZI(this._root)}}function em(e,t){t.value._routerState=e,t.children.forEach(n=>em(e,n))}function ZI(e){const t=e.children.length>0?` { ${e.children.map(ZI).join(", ")} } `:"";return`${e.value}${t}`}function tm(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,lo(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),lo(t.params,n.params)||e.paramsSubject.next(n.params),function jj(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!lo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),lo(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function nm(e,t){const n=lo(e.params,t.params)&&function Hj(e,t){return Bi(e,t)&&e.every((n,r)=>lo(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||nm(e.parent,t.parent))}function YI(e){return"string"==typeof e.title||null===e.title}let Td=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Be,this.activateEvents=new On,this.deactivateEvents=new On,this.attachEvents=new On,this.detachEvents=new On,this.parentContexts=P($c),this.location=P(Nr),this.changeDetector=P(Bu),this.inputBinder=P(Md,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new rm(n,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Nn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fi]})}}return e})();class rm{__ngOutletInjector(t){return new rm(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ea?this.route:t===$c?this.childContexts:this.parent.get(t,n)}}const Md=new oe("");let KI=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=Bg([r.queryParams,r.params,r.data]).pipe(co(([i,s,a],c)=>(a={...i,...s,...a},0===c?Ae(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function mF(e){const t=qe(e);if(!t)return null;const n=new sc(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})();function zc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function MV(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return zc(e,r,o);return zc(e,r)})}(e,t,n);return new jr(r,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>zc(e,a)),s}}const r=function xV(e){return new ea(new Q(e.url),new Q(e.params),new Q(e.queryParams),new Q(e.fragment),new Q(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>zc(e,i));return new jr(r,o)}}class om{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const QI="ngNavigationCancelingError";function xd(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Ui(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=JI(!1,sr.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function JI(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[QI]=!0,n.cancellationCode=t,n}function XI(e){return!!e&&e[QI]}class AV{constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),tm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Xs(n);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Xs(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Xs(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Xs(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new bV(i.value.snapshot))}),t.children.length&&this.forwardEvent(new yV(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(tm(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tm(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}}class eS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Nd{constructor(t,n){this.component=t,this.route=n}}function kV(e,t,n){const r=e._root;return Gc(r,t?t._root:null,n,[r.value])}function ta(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function xS(e){return null!==Qc(e)}(e)?t.get(e):e:r}function Gc(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Xs(t);return e.children.forEach(s=>{(function PV(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function FV(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Bi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Bi(e.url,t.url)||!lo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nm(e,t)||!lo(e.queryParams,t.queryParams);default:return!nm(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new eS(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Gc(e,t,i.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Nd(a.outlet.component,s))}else s&&Wc(t,a,o),o.canActivateChecks.push(new eS(r)),Gc(e,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Wc(a,n.getContext(s),o)),o}function Wc(e,t,n){const r=Xs(e),o=e.value;Object.entries(r).forEach(([i,s])=>{Wc(s,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Nd(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function qc(e){return"function"==typeof e}function tS(e){return e instanceof fd||"EmptyError"===e?.name}const Rd=Symbol("INITIAL_VALUE");function na(){return co(e=>Bg(e.map(t=>t.pipe(Zs(1),function xj(...e){const t=dd(e);return re((n,r)=>{(t?Ug(e,n,t):Ug(e,n)).subscribe(r)})}(Rd)))).pipe(Me(t=>{for(const n of t)if(!0!==n){if(n===Rd)return Rd;if(!1===n||$V(n))return n}return!0}),ri(t=>t!==Rd),Zs(1)))}function $V(e){return Ui(e)||e instanceof om}function nS(e){return function Pt(...e){return vt(e)}(Bn(t=>{if("boolean"!=typeof t)throw xd(0,t)}),Me(t=>!0===t))}class im{constructor(t){this.segmentGroup=t||null}}class Ad extends Error{constructor(t){super(),this.urlTree=t}}function ra(e){return hd(new im(e))}class n3{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ae(r);if(o.numberOfChildren>1||!o.children[Be])return hd(new C(4e3,!1));o=o.children[Be]}}applyRedirectCommands(t,n,r,o,i){if("string"!=typeof n){const a=n,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:y,title:_}=o,x=yo(i,()=>a({params:m,data:y,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,title:_}));if(x instanceof Vi)throw new Ad(x);n=x}const s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if("/"===n[0])throw new Ad(s);return s}applyRedirectCreateUrlTree(t,n,r,o){const i=this.createSegmentGroup(t,n.root,r,o);return new Vi(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){const i=this.createSegments(t,n.segments,r,o);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new mt(i,s)}createSegments(t,n,r,o){return n.map(i=>":"===i.path[0]?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new C(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const sm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function r3(e,t,n,r,o){const i=rS(e,t,n);return i.matched?(r=function wV(e,t){return e.providers&&!e._injector&&(e._injector=fu(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function XV(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?Ae(o.map(s=>{const a=ta(s,e);return oi(function HV(e){return e&&qc(e.canMatch)}(a)?a.canMatch(t,n):yo(e,()=>a(t,n)))})).pipe(na(),nS()):Ae(!0)}(r,t,n).pipe(Me(s=>!0===s?i:{...sm}))):Ae(i)}function rS(e,t,n){if("**"===t.path)return function o3(e){return{matched:!0,parameters:e.length>0?_I(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...sm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Lj)(n,e,t);if(!o)return{...sm};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function oS(e,t,n,r){return n.length>0&&function a3(e,t,n){return n.some(r=>kd(e,t,r)&&Lr(r)!==Be)}(e,n,r)?{segmentGroup:new mt(t,s3(r,new mt(n,e.children))),slicedSegments:[]}:0===n.length&&function c3(e,t,n){return n.some(r=>kd(e,t,r))}(e,n,r)?{segmentGroup:new mt(e.segments,i3(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new mt(e.segments,e.children),slicedSegments:n}}function i3(e,t,n,r){const o={};for(const i of n)if(kd(e,t,i)&&!r[Lr(i)]){const s=new mt([],{});o[Lr(i)]=s}return{...r,...o}}function s3(e,t){const n={};n[Be]=t;for(const r of e)if(""===r.path&&Lr(r)!==Be){const o=new mt([],{});n[Lr(r)]=o}return n}function kd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class u3{}class h3{constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new n3(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new C(4002,`'${t.segmentGroup}'`)}recognize(){const t=oS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Me(({children:n,rootSnapshot:r})=>{const o=new jr(r,n),i=new qI("",o),s=function rV(e,t,n=null,r=null){return FI(PI(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){const n=new Sd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Be,n).pipe(Me(r=>({children:r,rootSnapshot:n})),Ys(r=>{if(r instanceof Ad)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof im?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(Me(s=>s instanceof jr?[s]:[]))}processChildren(t,n,r,o){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pn(i).pipe(Pc(s=>{const a=r.children[s],c=function _V(e,t){const n=e.filter(r=>Lr(r)===t);return n.push(...e.filter(r=>Lr(r)!==t)),n}(n,s);return this.processSegmentGroup(t,c,a,s,o)}),function Aj(e,t){return re(function Rj(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe(te(s,h=>{const p=l++;c=a?e(c,h,p):(a=!0,h),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),pd(null),function kj(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ri((o,i)=>e(o,i,r)):it,$g(1),n?pd(t):EI(()=>new fd))}(),Cn(s=>{if(null===s)return ra(r);const a=iS(s);return function p3(e){e.sort((t,n)=>t.value.outlet===Be?-1:n.value.outlet===Be?1:t.value.outlet.localeCompare(n.value.outlet))}(a),Ae(a)}))}processSegment(t,n,r,o,i,s,a){return pn(n).pipe(Pc(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(Ys(l=>{if(l instanceof im)return Ae(null);throw l}))),ji(c=>!!c),Ys(c=>{if(tS(c))return function l3(e,t,n){return 0===t.length&&!e.children[n]}(r,o,i)?Ae(new u3):ra(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return Lr(r)===s||s!==Be&&kd(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):ra(o):ra(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){const{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=rS(n,o,i);if(!c)return ra(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=new Sd(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sS(o),Lr(o),o.component??o._loadedComponent??null,o,aS(o)),y=Id(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(y.params),m.data=Object.freeze(y.data);const _=this.applyRedirects.applyRedirectCommands(h,o.redirectTo,p,m,t);return this.applyRedirects.lineralizeSegments(o,_).pipe(Cn(x=>this.processSegment(t,r,n,x.concat(g),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){const a=r3(n,r,o,t);return"**"===r.path&&(n.children={}),a.pipe(co(c=>c.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(co(({routes:l})=>{const h=r._loadedInjector??t,{parameters:p,consumedSegments:g,remainingSegments:m}=c,y=new Sd(g,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sS(r),Lr(r),r.component??r._loadedComponent??null,r,aS(r)),_=Id(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);const{segmentGroup:x,slicedSegments:k}=oS(n,g,m,l);if(0===k.length&&x.hasChildren())return this.processChildren(h,l,x,y).pipe(Me(me=>new jr(y,me)));if(0===l.length&&0===k.length)return Ae(new jr(y,[]));const S=Lr(r)===i;return this.processSegment(h,l,x,k,S?Be:i,!0,y).pipe(Me(me=>new jr(y,me instanceof jr?[me]:[])))})):ra(n)))}getChildConfig(t,n,r){return n.children?Ae({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ae({routes:n._loadedRoutes,injector:n._loadedInjector}):function JV(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?Ae(!0):Ae(o.map(s=>{const a=ta(s,e);return oi(function jV(e){return e&&qc(e.canLoad)}(a)?a.canLoad(t,n):yo(e,()=>a(t,n)))})).pipe(na(),nS())}(t,n,r).pipe(Cn(o=>o?this.configLoader.loadChildren(t,n).pipe(Bn(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function t3(){return hd(JI(!1,sr.GuardRejected))}())):Ae({routes:[],injector:t})}}function g3(e){const t=e.value.routeConfig;return t&&""===t.path}function iS(e){const t=[],n=new Set;for(const r of e){if(!g3(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=iS(r.children);t.push(new jr(r.value,o))}return t.filter(r=>!n.has(r))}function sS(e){return e.data||{}}function aS(e){return e.resolve||{}}function cS(e){const t=e.children.map(n=>cS(n)).flat();return[e,...t]}function am(e){return co(t=>{const n=e(t);return n?pn(n).pipe(Me(()=>t)):Ae(t)})}let lS=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Be);return r}getResolvedTitleForRoute(n){return n.data[Fc]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:()=>P(D3),providedIn:"root"})}}return e})(),D3=(()=>{class e extends lS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(Se(z2))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const oa=new oe("",{providedIn:"root",factory:()=>({})});let uS=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Je],decls:1,vars:0,template:function(r,o){1&r&&A(0,"router-outlet")},dependencies:[Td],encapsulation:2})}}return e})();function cm(e){const t=e.children&&e.children.map(cm),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=uS),n}const ia=new oe("");let lm=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(CC)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=oi(n.loadComponent()).pipe(Me(dS),Bn(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),zg(()=>{this.componentLoaders.delete(n)})),o=new DI(r,()=>new K).pipe(Hg());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function E3(e,t,n,r){return oi(e.loadChildren()).pipe(Me(dS),Cn(o=>o instanceof Bw||Array.isArray(o)?Ae(o):pn(t.compileModuleAsync(o))),Me(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(n).injector,s=i.get(ia,[],{optional:!0,self:!0}).flat()),{routes:s.map(cm),injector:i}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(zg(()=>{this.childrenLoaders.delete(r)})),s=new DI(i,()=>new K).pipe(Hg());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dS(e){return function C3(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let um=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:()=>P(_3),providedIn:"root"})}}return e})(),_3=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const fS=new oe(""),hS=new oe("");function I3(e,t,n){const r=e.get(hS),o=e.get(vr);return e.get(ft).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i;const s=new Promise(l=>{i=l}),a=o.startViewTransition(()=>(i(),function S3(e){return new Promise(t=>{vu({read:()=>setTimeout(t)},{injector:e})})}(e))),{onViewTransitionCreated:c}=r;return c&&yo(e,()=>c({transition:a,from:t,to:n})),s})}const pS=new oe("");let Od=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new K,this.transitionAbortSubject=new K,this.configLoader=P(lm),this.environmentInjector=P(qn),this.urlSerializer=P(Qs),this.rootContexts=P($c),this.location=P(xc),this.inputBindingEnabled=null!==P(Md,{optional:!0}),this.titleStrategy=P(lS),this.options=P(oa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(um),this.createViewTransition=P(fS,{optional:!0}),this.navigationErrorHandler=P(pS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new gV(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new pV(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Q({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Uc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ri(i=>0!==i.id),Me(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),co(i=>{let s=!1,a=!1;return Ae(i).pipe(co(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",sr.SupersededByNewNavigation),ao;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const p="";return this.events.next(new Js(c.id,this.urlSerializer.serialize(c.rawUrl),p,Cd.IgnoredSameUrlNavigation)),c.resolve(!1),ao}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ae(c).pipe(co(p=>{const g=this.transitions?.getValue();return this.events.next(new Ed(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?ao:Promise.resolve(p)}),function m3(e,t,n,r,o,i){return Cn(s=>function d3(e,t,n,r,o,i,s="emptyOnly"){return new h3(e,t,n,r,o,s,i).recognize()}(e,t,n,r,s.extractedUrl,o,i).pipe(Me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Bn(p=>{i.targetSnapshot=p.targetSnapshot,i.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new HI(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:m,restoredState:y,extras:_}=c,x=new Ed(p,this.urlSerializer.serialize(g),m,y);this.events.next(x);const k=WI(this.rootComponentType).snapshot;return this.currentTransition=i={...c,targetSnapshot:k,urlAfterRedirects:g,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,Ae(i)}{const p="";return this.events.next(new Js(c.id,this.urlSerializer.serialize(c.extractedUrl),p,Cd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ao}}),Bn(c=>{const l=new uV(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Me(c=>(this.currentTransition=i={...c,guards:kV(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},i)),function zV(e,t){return Cn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?Ae({...n,guardsResult:!0}):function GV(e,t,n,r){return pn(e).pipe(Cn(o=>function QV(e,t,n,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Ae(i.map(a=>{const c=Hc(t)??o,l=ta(a,c);return oi(function UV(e){return e&&qc(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):yo(c,()=>l(e,t,n,r))).pipe(ji())})).pipe(na()):Ae(!0)}(o.component,o.route,n,t,r)),ji(o=>!0!==o,!0))}(s,r,o,e).pipe(Cn(a=>a&&function LV(e){return"boolean"==typeof e}(a)?function WV(e,t,n,r){return pn(t).pipe(Pc(o=>Ug(function ZV(e,t){return null!==e&&t&&t(new mV(e)),Ae(!0)}(o.route.parent,r),function qV(e,t){return null!==e&&t&&t(new vV(e)),Ae(!0)}(o.route,r),function KV(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function OV(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>wI(()=>Ae(s.guards.map(c=>{const l=Hc(s.node)??n,h=ta(c,l);return oi(function BV(e){return e&&qc(e.canActivateChild)}(h)?h.canActivateChild(r,e):yo(l,()=>h(r,e))).pipe(ji())})).pipe(na())));return Ae(i).pipe(na())}(e,o.path,n),function YV(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ae(!0);const o=r.map(i=>wI(()=>{const s=Hc(t)??n,a=ta(i,s);return oi(function VV(e){return e&&qc(e.canActivate)}(a)?a.canActivate(t,e):yo(s,()=>a(t,e))).pipe(ji())}));return Ae(o).pipe(na())}(e,o.route,n))),ji(o=>!0!==o,!0))}(r,i,e,t):Ae(a)),Me(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Bn(c=>{if(i.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw xd(0,c.guardsResult);const l=new dV(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ri(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",sr.GuardRejected),!1)),am(c=>{if(c.guards.canActivateChecks.length)return Ae(c).pipe(Bn(l=>{const h=new fV(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),co(l=>{let h=!1;return Ae(l).pipe(function y3(e,t){return Cn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Ae(n);const i=new Set(o.map(c=>c.route)),s=new Set;for(const c of i)if(!s.has(c))for(const l of cS(c))s.add(l);let a=0;return pn(s).pipe(Pc(c=>i.has(c)?function v3(e,t,n,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!YI(o)&&(i[Fc]=o.title),function b3(e,t,n,r){const o=Gg(e);if(0===o.length)return Ae({});const i={};return pn(o).pipe(Cn(s=>function w3(e,t,n,r){const o=Hc(t)??r,i=ta(e,o);return oi(i.resolve?i.resolve(t,n):yo(o,()=>i(t,n)))}(e[s],t,n,r).pipe(ji(),Bn(a=>{if(a instanceof om)throw xd(new md,a);i[s]=a}))),$g(1),function Oj(e){return Me(()=>e)}(i),Ys(s=>tS(s)?ao:hd(s)))}(i,e,t,r).pipe(Me(s=>(e._resolvedData=s,e.data=Id(e,e.parent,n).resolve,null)))}(c,r,e,t):(c.data=Id(c,c.parent,e).resolve,Ae(void 0))),Bn(()=>a++),$g(1),Cn(c=>a===s.size?Ae(n):ao))})}(this.paramsInheritanceStrategy,this.environmentInjector),Bn({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",sr.NoDataFromResolver)}}))}),Bn(l=>{const h=new hV(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),am(c=>{const l=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Bn(g=>{h.component=g}),Me(()=>{})));for(const g of h.children)p.push(...l(g));return p};return Bg(l(c.targetSnapshot.root)).pipe(pd(null),Zs(1))}),am(()=>this.afterPreactivation()),co(()=>{const{currentSnapshot:c,targetSnapshot:l}=i,h=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return h?pn(h).pipe(Me(()=>i)):Ae(i)}),Me(c=>{const l=function TV(e,t,n){const r=zc(e,t._root,n?n._root:void 0);return new GI(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,i}),Bn(()=>{this.events.next(new Qg)}),((e,t,n,r)=>Me(o=>(new AV(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Zs(1),Bn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Oo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function Pj(e){return re((t,n)=>{Ao(e).subscribe(te(n,()=>n.complete(),W)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Bn(c=>{throw c}))),zg(()=>{!s&&!a&&this.cancelNavigationTransition(i,"",sr.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ys(c=>{if(a=!0,XI(c))this.events.next(new Hi(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),function NV(e){return XI(e)&&Ui(e.url)}(c)?this.events.next(new _d(c.url,c.navigationBehaviorOptions)):i.resolve(!1);else{const l=new Kg(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);try{const h=yo(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof om){const{message:p,cancellationCode:g}=xd(0,h);this.events.next(new Hi(i.id,this.urlSerializer.serialize(i.extractedUrl),p,g)),this.events.next(new _d(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);const p=n.errorHandler(c);i.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(h)}}return ao}))}))}cancelNavigationTransition(n,r,o){const i=new Hi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function T3(e){return e!==Uc}let M3=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:()=>P(N3),providedIn:"root"})}}return e})();class x3{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let N3=(()=>{class e extends x3{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Lf(e)))(o||e)}})()}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gS=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:()=>P(R3),providedIn:"root"})}}return e})(),R3=(()=>{class e extends gS{constructor(){super(...arguments),this.location=P(xc),this.urlSerializer=P(Qs),this.options=P(oa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(um),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=WI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ed)this.stateMemento=this.createStateMemento();else if(n instanceof Js)this.rawUrlTree=r.initialUrl;else if(n instanceof HI){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else n instanceof Qg?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Hi&&(n.code===sr.GuardRejected||n.code===sr.NoDataFromResolver)?this.restoreHistory(r):n instanceof Kg?this.restoreHistory(r,!0):n instanceof Oo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const o=n instanceof Vi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",i)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.currentUrlTree===n.finalUrl&&0===i&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Lf(e)))(o||e)}})()}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Zc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Zc||{});function mS(e,t){e.events.pipe(ri(n=>n instanceof Oo||n instanceof Hi||n instanceof Kg||n instanceof Js),Me(n=>n instanceof Oo||n instanceof Js?Zc.COMPLETE:n instanceof Hi&&(n.code===sr.Redirect||n.code===sr.SupersededByNewNavigation)?Zc.REDIRECTING:Zc.FAILED),ri(n=>n!==Zc.REDIRECTING),Zs(1)).subscribe(()=>{t()})}function A3(e){throw e}const k3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fo=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(fC),this.stateManager=P(gS),this.options=P(oa,{optional:!0})||{},this.pendingTasks=P(vi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Od),this.urlSerializer=P(Qs),this.location=P(xc),this.urlHandlingStrategy=P(um),this._events=new K,this.errorHandler=this.options.errorHandler||A3,this.navigated=!1,this.routeReuseStrategy=P(M3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(ia,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(Md,{optional:!0}),this.eventsSubscription=new T,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof Hi&&r.code!==sr.Redirect&&r.code!==sr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Oo)this.navigated=!0;else if(r instanceof _d){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||T3(o.source),...s};this.scheduleNavigation(a,Uc,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function F3(e){return!(e instanceof Qg||e instanceof _d)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Uc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h={...this.currentUrlTree.queryParams,...i};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}null!==h&&(h=this.removeEmptyProps(h));try{p=PI(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),p=this.currentUrlTree.root}return FI(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Ui(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Uc,null,r)}navigate(n,r={skipLocationChange:!1}){return function P3(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new C(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...k3}:!1===r?{...O3}:r,Ui(n))return SI(this.currentUrlTree,n,o);const i=this.parseUrl(n);return SI(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return mS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lt=(()=>{class e{constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new K,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ui(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==n||r||o||i||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function Vv(e,t,n){return function UM(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?jv:gr}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const o=this.renderer,i=this.el.nativeElement;null!==r?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return null===this.routerLinkInput?null:Ui(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(Re(fo),Re(ea),function Ra(e){return function d0(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(Tm(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(pt(),e)}("tabindex"),Re(au),Re(zo),Re(Pi))}}static{this.\u0275dir=Nn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){1&r&&kr("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&_p("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",dg],skipLocationChange:[2,"skipLocationChange","skipLocationChange",dg],replaceUrl:[2,"replaceUrl","replaceUrl",dg],routerLink:"routerLink"},standalone:!0,features:[Vw,fi]})}}return e})();class yS{}let V3=(()=>{class e{constructor(n,r,o,i,s){this.router=n,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ri(n=>n instanceof Oo),Pc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=fu(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return pn(o).pipe(Oc())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ae(null);const i=o.pipe(Cn(s=>null===s?Ae(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?pn([i,this.loader.loadComponent(r)]).pipe(Oc()):i})}static{this.\u0275fac=function(r){return new(r||e)(Se(fo),Se(CC),Se(qn),Se(yS),Se(lm))}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const dm=new oe("");let vS=(()=>{class e{constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ed?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Oo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Js&&n.code===Cd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $I&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $I(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function ub(){throw new Error("invalid")}()}}static{this.\u0275prov=ge({token:e,factory:e.\u0275fac})}}return e})();function ho(e,t){return{\u0275kind:e,\u0275providers:t}}function wS(){const e=P(fn);return t=>{const n=e.get(so);if(t!==n.components[0])return;const r=e.get(fo),o=e.get(DS);1===e.get(fm)&&r.initialNavigation(),e.get(ES,null,Ze.Optional)?.setUpPreloading(),e.get(dm,null,Ze.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const DS=new oe("",{factory:()=>new K}),fm=new oe("",{providedIn:"root",factory:()=>1}),ES=new oe("");function $3(e){return ho(0,[{provide:ES,useExisting:V3},{provide:yS,useExisting:e}])}function G3(e){return ho(9,[{provide:fS,useValue:I3},{provide:hS,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const CS=new oe("ROUTER_FORROOT_GUARD"),W3=[xc,{provide:Qs,useClass:md},fo,$c,{provide:ea,useFactory:function bS(e){return e.routerState.root},deps:[fo]},lm,[]];let _S=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[W3,[],{provide:ia,multi:!0,useValue:n},{provide:CS,useFactory:K3,deps:[[fo,new nl,new rl]]},{provide:oa,useValue:r||{}},r?.useHash?{provide:Pi,useClass:DF}:{provide:Pi,useClass:g_},{provide:dm,useFactory:()=>{const e=P(HL),t=P(ft),n=P(oa),r=P(Od),o=P(Qs);return n.scrollOffset&&e.setOffset(n.scrollOffset),new vS(o,r,e,t,n)}},r?.preloadingStrategy?$3(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Q3(r):[],r?.bindToComponentInputs?ho(8,[KI,{provide:Md,useExisting:KI}]).\u0275providers:[],r?.enableViewTransitions?G3().\u0275providers:[],[{provide:IS,useFactory:wS},{provide:Pu,multi:!0,useExisting:IS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:ia,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(Se(CS,8))}}static{this.\u0275mod=Qi({type:e})}static{this.\u0275inj=ai({})}}return e})();function K3(e){return"guarded"}function Q3(e){return["disabled"===e.initialNavigation?ho(3,[{provide:Xp,multi:!0,useFactory:()=>{const t=P(fo);return()=>{t.setUpLocationChangeListener()}}},{provide:fm,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ho(2,[{provide:fm,useValue:0},{provide:Xp,multi:!0,deps:[fn],useFactory:t=>{const n=t.get(bF,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=t.get(fo),i=t.get(DS);mS(o,()=>{r(!0)}),t.get(Od).afterPreactivation=()=>(r(!0),i.closed?Ae(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const IS=new oe("");let SS=(()=>{class e{static{this.editor="https://tentone.github.io/nunuStudio/editor/index.html"}static{this.repo="https://github.com/tentone/nunuStudio"}static openEditor(n){window.open(n?e.editor+"?nsp=../"+n:e.editor)}}return e})();const X3=["canvas"],eB=["bar"];function tB(e,t){if(1&e&&(f(0,"div",14)(1,"a",22),A(2,"img",23),d()()),2&e){const n=t.$implicit;G(),Or("href",n.url,gr),G(),Or("src",n.image,gr)}}function nB(e,t){if(1&e&&(f(0,"div",18)(1,"h4"),u(2),d(),f(3,"p"),u(4),d(),A(5,"img",24),d()),2&e){const n=t.$implicit;G(2),yr(n.title),G(2),yr(n.description),G(),Or("src",n.image,gr)}}function rB(e,t){if(1&e){const n=To();f(0,"div",18)(1,"h4"),u(2),d(),f(3,"p"),u(4),d(),f(5,"a",22),A(6,"img",24),d(),f(7,"div",25)(8,"a",26),kr("click",function(){const o=wo(n).$implicit;return Do(no().global.openEditor("../examples/"+o.file))}),u(9,"Open in Editor"),d()()()}if(2&e){const n=t.$implicit;G(2),yr(n.title),G(2),yr(n.description),G(),wc("href","/example?nsp=examples/",n.file,"",gr),G(),wc("src","examples/",n.image,"",gr)}}let oB=(()=>{class e{get global(){return SS}constructor(n){this.router=n,this.projects=[{image:"assets/logo/threejs.png",url:"https://threejs.org/"},{image:"assets/logo/codemirror.png",url:"https://codemirror.net/"},{image:"assets/logo/nwjs.png",url:"https://nwjs.io/"},{image:"assets/logo/js.jpg",url:"https://www.ecma-international.org/ecma-262/"},{image:"assets/logo/webgl.png",url:"https://get.webgl.org/"}],this.examples=[{title:"nunuStudio",description:"nunuStudio physically based rendering home screen demo.",file:"nunu.nsp",image:"nunu.jpg"},{title:"Pong",description:"3D recreation of the classic pong game.",file:"pong.nsp",image:"pong.jpg"},{title:"Flappy Birds Clone",description:"Clone of the mobile game flappy birds.",file:"flappy.nsp",image:"flappy.jpg"},{title:"Rollercoaster",description:"A virtual reality rollercoaster ride.",file:"rollercoaster.nsp",image:"rollercoaster.jpg"},{title:"Spine",description:"Spineboy spine animation example",file:"spine.nsp",image:"spine.jpg"},{title:"Portal",description:"Portal clone example",file:"portal.nsp",image:"portal.jpg"},{title:"PBR",description:"Physically based rendering demo using GLTF damaged helmet model.",file:"pbr.nsp",image:"pbr.jpg"},{title:"Webcam",description:"Camera capture example using WebRTC.",file:"camera.nsp",image:"camera.jpg"},{title:"Starwars",description:"Star wars tribute with dancing stormtrooper!",file:"starwars.nsp",image:"starwars.jpg"},{title:"Paint",description:"3D planet paint example, mouse to paint the planet.",file:"paint.nsp",image:"paint.jpg"},{title:"Little Voxel Island",description:"Little voxel island model made by Rick Hoppmann w/ positional audio.",file:"littlevoxelisland.nsp",image:"littlevoxelisland.jpg"},{title:"Boids",description:"Boids simulation with instanced meshes and post-processing.",file:"boids.nsp",image:"boids.jpg"},{title:"WebXR",description:"WebXR powered Virtual Reality and Augmented Reality in a single application.",file:"ar.nsp",image:"ar.jpg"}],this.features=[{title:"Graphical Editor",description:"Familiar user interface similar to the ones you already know.",image:"assets/screenshot/6.jpg"},{title:"3D Graphics",description:"Graphics powered by three.js with dynamic ligths, shadows, post-processing, etc.",image:"assets/screenshot/8.jpg"},{title:"Physics",description:"Fully features 3D physics engine powered by cannon.js",image:"assets/screenshot/gif/1.gif"},{title:"JS Scripts",description:"Easy to learn language, familiar for web and game developers.",image:"assets/screenshot/5.jpg"},{title:"2D Mode",description:"Want 2D? No problem! Switch between 2D and 3D with the click of a button.",image:"assets/screenshot/7.jpg"},{title:"WebVR",description:"Ready for web virtual reality, on mobile and desktop platforms.",image:"assets/vr.jpg"},{title:"Advanced materials",description:"Graphical material editor similar to the ones found in 3D design tools.",image:"assets/screenshot/1.jpg"},{title:"Particles",description:"GPU accelerated particle system powered by SPE.",image:"assets/screenshot/2.jpg"},{title:"Drag and drop",description:"Drag and drop files into the editor, it just works.",image:"assets/screenshot/gif/2.gif"},{title:"Spine animations",description:"Create 2D animations using Esoteric spine animation tool and import them to nunuStudio.",image:"assets/screenshot/9.jpg"},{title:"WebAudio",description:"Audio engine built on top of web audio API with support for positional audio.",image:"assets/screenshot/10.jpg"},{title:"Multi-platform editor",description:"nunuStudio was build on top of nwjs it works on windows, linux and OS X.",image:"assets/screenshot/3.jpg"}]}ngOnInit(){this.app=new Nunu.App(this.canvas.nativeElement),this.app.loadRunProgram("examples/nunu.nsp",()=>{this.bar.nativeElement.parentElement.style.display="none"},n=>{this.bar.nativeElement.style.width=n+"%"})}ngAfterViewChecked(){this.app.resize()}ngOnDestroy(){this.app.exit()}static{this.\u0275fac=function(r){return new(r||e)(Re(TS))}}static{this.\u0275cmp=Qe({type:e,selectors:[["home-page"]],viewQuery:function(r,o){if(1&r&&(Mo(X3,7),Mo(eB,7)),2&r){let i;ro(i=oo())&&(o.canvas=i.first),ro(i=oo())&&(o.bar=i.first)}},standalone:!0,features:[Je],decls:37,vars:2,consts:[["canvas",""],["bar",""],[2,"height","70vh","width","100%","overflow","hidden"],[2,"height","100%","width","100%","z-index","-1"],[1,"text-center",2,"position","absolute","width","100%","height","30px","top","calc(60vh - 100px)","font-size","21px","line-height","26px","color","var(--white)"],[2,"position","absolute","width","100%","top","60vh"],[2,"margin-left","auto","margin-right","auto","display","block","text-align","center"],[1,"btn","btn-dark","btn-lg",2,"margin","5px",3,"href"],[1,"btn","btn-primary","btn-lg",2,"margin","5px",3,"href"],[2,"position","absolute","width","50%","height","3%","left","25%","top","50%","border-style","solid","border-color","var(--white)","border-width","2px"],[2,"position","absolute","width","0%","height","100%","left","0%","top","0%","background-color","var(--white)"],[2,"padding-top","150px","padding-bottom","150px","background","url(assets/editor.png) #222222 no-repeat center center fixed","background-size","cover"],[1,"container","text-center"],[2,"color","var(--white)","margin-bottom","20px"],[2,"display","inline","margin","5px"],[1,"container",2,"padding-top","30px","padding-bottom","30px"],[2,"padding-bottom","20px"],[1,"row"],[1,"col-md-3",2,"padding","10px"],[2,"padding-top","30px","background-color","var(--dark)","color","var(--white)"],[1,"container"],["height","38","src","assets/logo.png"],[3,"href"],[2,"height","50px",3,"src"],[2,"border-radius","5px","width","100%",3,"src"],[2,"text-align","center","margin-top","5px"],[1,"btn","btn-outline-light","btn-sm",3,"click"]],template:function(r,o){1&r&&(f(0,"div",2),A(1,"canvas",3,0),f(3,"div",4)(4,"p"),u(5,"Create interactive experiences for your webpage!"),d(),f(6,"p"),u(7,"Design, edit, code, all in one place!"),d()(),f(8,"div",5)(9,"div",6)(10,"a",7),u(11,"Web Version"),d(),f(12,"a",8),u(13,"GitHub"),d()()(),f(14,"div",9),A(15,"div",10,1),d()(),f(17,"div",11)(18,"div",12)(19,"h2",13),u(20,"Built on OpenSource"),d(),Ri(21,tB,3,2,"div",14,Ni),d()(),f(23,"div",15)(24,"h2",16),u(25,"Features"),d(),f(26,"div",17),Ri(27,nB,6,3,"div",18,Ni),d()(),f(29,"div",19)(30,"div",20)(31,"h2",16),u(32,"Made with "),A(33,"img",21),d(),f(34,"div",17),Ri(35,rB,10,6,"div",18,Ni),d()()()),2&r&&(G(10),Or("href",o.global.editor,gr),G(2),Or("href",o.global.repo,gr),G(9),Ai(o.projects),G(6),Ai(o.features),G(8),Ai(o.examples))},encapsulation:2})}}return e})(),iB=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["download-page"]],standalone:!0,features:[Je],decls:71,vars:0,consts:[[1,"container",2,"padding-bottom","30px","padding-top","30px"],[1,"row"],[2,"width","100%"],["src","assets/web.png",2,"position","relative","left","25%","width","50%"],[2,"position","relative","width","50%","left","25%"],["href","https://tentone.github.io/nunuStudio/build/editor/index.html",1,"btn","btn-dark",2,"position","relative","width","100%"],[1,"col-sm-4"],["src","assets/os/windows.png",2,"position","relative","left","25%","width","50%"],["href","https://github.com/tentone/nunuStudio/releases/download/v0.9.6/nunuStudio_0.9.6_win_x64.zip",1,"btn","btn-dark",2,"position","relative","width","100%"],["src","assets/os/linux.png",2,"position","relative","left","25%","width","50%"],["href","https://github.com/tentone/nunuStudio/releases/download/v0.9.6/nunuStudio_0.9.6_linux_x64.7z",1,"btn","btn-dark",2,"position","relative","width","100%"],["src","assets/os/osx.png",2,"position","relative","left","25%","width","50%"],["href","https://github.com/tentone/nunuStudio/releases/download/v0.9.6/nunuStudio_0.9.6_mac_x64.7z",1,"btn","btn-dark",2,"position","relative","width","100%"],[2,"background","var(--dark)","color","var(--light)","padding-bottom","30px","padding-top","30px"],[1,"container"],[2,"padding-bottom","30px","padding-top","30px"],["href","https://github.com/tentone/nunuStudio/releases/",1,"btn","btn-dark",2,"position","relative","width","100%"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"h3"),u(3,"Web Version"),d(),f(4,"p"),u(5,"There is a web version of nunuStudio available, it was tested with Google Chrome, Firefox and Microsoft Edge, it is not compatible with mobile browsers."),d(),f(6,"p"),u(7,"The web version of nunuStudio its always updated and has all the features present in the desktop version, but there are some limitations regarding file access in the web environment."),d(),f(8,"p"),u(9,"This version is always updated with every experimental feature, if you find anything wrong please report in the issue page on GitHub."),d(),f(10,"div",2),A(11,"img",3),d(),f(12,"div",4)(13,"a",5),u(14,"Web Version"),d()()()(),f(15,"div",0)(16,"div",1)(17,"div",6)(18,"h3"),u(19,"Windows"),d(),f(20,"p"),u(21,"Compatible with Windows Vista, 7, 8 and 10."),d(),f(22,"div",2),A(23,"img",7),d(),A(24,"br"),f(25,"div",4)(26,"a",8),u(27,"Windows"),d()()(),f(28,"div",6)(29,"h3"),u(30,"Linux"),d(),f(31,"p"),u(32,"Tested with ubuntu based distributions, compatible with x86 based machines."),d(),f(33,"div",2),A(34,"img",9),d(),A(35,"br"),f(36,"div",4)(37,"a",10),u(38,"Linux"),d()()(),f(39,"div",6)(40,"h3"),u(41,"MacOS"),d(),f(42,"p"),u(43,"MacOS is not tested regularly, looking for developers/testers."),d(),f(44,"div",2),A(45,"img",11),d(),A(46,"br"),f(47,"div",4)(48,"a",12),u(49,"MacOS"),d()()()()(),f(50,"div",13)(51,"div",14)(52,"h2"),u(53,"Still under development"),d(),f(54,"p"),u(55,"nunuStudio is still under development, all suggestions are welcome, use the Github issues page to leave your suggestions."),d(),f(56,"p"),u(57,"The sourcecode is available on Github. Everybody is welcome to help and contribute to the project."),d(),f(58,"p"),u(59,"Bug reports and features request can be done in the Issues section on GitHub."),d()()(),f(60,"div",15)(61,"div",14)(62,"h2"),u(63,"Old Releases"),d(),f(64,"p"),u(65,"Old versions of nunuStudio can be found in the releases page in Github alongside with their source code."),d(),f(66,"p"),u(67,"Please avoid using these unless strictly required for some special reason."),d(),f(68,"div",4)(69,"a",16),u(70,"Old releases"),d()()()())},encapsulation:2})}}return e})();function sB(e,t){if(1&e&&(f(0,"a",12),u(1),d()),2&e){const n=no().$implicit;Mp("routerLink",n.route),G(),yr(n.label)}}function aB(e,t){if(1&e&&(f(0,"a",13),u(1),d()),2&e){const n=no().$implicit;Or("href",n.url,gr),G(),yr(n.label)}}function cB(e,t){if(1&e&&(f(0,"li",8),_s(1,sB,2,2,"a",12)(2,aB,2,2,"a",13),d()),2&e){const n=t.$implicit;G(),Xo(n.route?1:-1),G(),Xo(n.url?2:-1)}}let lB=(()=>{class e{constructor(){this.options=[{label:"Home",route:"/",url:void 0},{label:"Learn",route:"/learn",url:void 0},{label:"Documentation",route:void 0,url:"docs"},{label:"Download",route:"/download",url:void 0},{label:"Github",route:void 0,url:"https://www.github.com/tentone/nunuStudio"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["menu-page"]],standalone:!0,features:[Je],decls:17,vars:0,consts:[[1,"navbar","navbar-fixed-top","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],["routerLink","/",1,"navbar-brand"],["src","assets/logo.png","width","230","alt","Logo"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","true","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","text-right"],[1,"nav-item"],[2,"background","var(--dark)","color","var(--light)","padding-bottom","10px","padding-top","20px"],[1,"container","text-right"],["src","assets/logo.png",2,"height","28px"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"href"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),A(3,"img",3),d(),f(4,"button",4),A(5,"span",5),d(),f(6,"div",6)(7,"ul",7),Ri(8,cB,3,2,"li",8,Ni),d()()()(),A(10,"router-outlet"),f(11,"div",9)(12,"div",10),A(13,"img",11),f(14,"p")(15,"small"),u(16,"Distributed under MIT license, "),d()()()()),2&r&&(G(8),Ai(o.options))},dependencies:[lt,Td],encapsulation:2})}}return e})();function uB(e,t){if(1&e&&(f(0,"div",5)(1,"h4"),u(2),d(),f(3,"p"),u(4),d(),A(5,"img",6),d()),2&e){const n=t.$implicit;Or("routerLink",n.url),G(2),yr(n.title),G(2),yr(n.description),G(),Or("src",n.image,gr)}}function dB(e,t){if(1&e&&(f(0,"div",3)(1,"h2"),u(2),d(),f(3,"p"),u(4),d(),f(5,"div",4),Ri(6,uB,6,4,"div",5,Ni),d()()),2&e){const n=t.$implicit;G(2),yr(n.title),G(2),yr(n.description),G(2),Ai(n.options)}}let fB=(()=>{class e{constructor(){this.sections=[{title:"Getting started",description:"These tutorials introduce the basic contents of the platform, do not require any previous programming knowledge and explore the most basic features of the editor.",options:[{title:"Editor Basics",description:"This tutorials introduces the editor UI and some basic features.",url:"/learn/basics/basics",image:"assets/learn/basics/basics/thumb.png"},{title:"First script",description:"Learn how to use javascript to control your application.",url:"/learn/basics/script",image:"assets/learn/basics/script/thumb.png"},{title:"Cameras",description:"Different camera types explained, viewport control and cube cameras",url:"/learn/basics/camera",image:"assets/learn/basics/camera/thumb.png"},{title:"Materials",description:"Material are used to control the appearance of objects.",url:"/learn/basics/materials",image:"assets/learn/basics/materials/thumb.png"},{title:"Particles",description:"Introduction to particle systems and the particle editor.",url:"/learn/basics/particles",image:"assets/learn/basics/particles/thumb.png"},{title:"Audio",description:"Audio, effects, positional audio and basic scripting.",url:"/learn/basics/audio",image:"assets/learn/basics/audio/thumb.png"},{title:"Text",description:"Text basics, create text objects, import external fonts, control text.",url:"/learn/basics/text",image:"assets/learn/basics/text/thumb.png"},{title:"Physics",description:"How to add, use and control physics objects inside the editor.",url:"/learn/basics/physics",image:"assets/learn/basics/physics/thumb.png"},{title:"Gyroscope",description:"Use gyroscope to control objects and create panoramic visualizations.",url:"/learn/basics/gyroscope",image:"assets/learn/basics/gyroscope/thumb.png"},{title:"Virtual Reality",description:"Create virtual reality experiences.",url:"/learn/basics/vr",image:"assets/learn/basics/vr/thumb.png"},{title:"Augmented Reality",description:"Create a augmented reality experiences.",url:"/learn/basics/ar",image:"assets/learn/basics/ar/thumb.jpg"},{title:"Raycasting",description:"Use a raycaster to interact with 3D objects using the mouse.",url:"/learn/basics/raycaster",image:"assets/learn/basics/raycaster/thumb.png"},{title:"Animation",description:"Guide to create and import 2D and 3D animations into the editor.",url:"/learn/basics/animation",image:"assets/learn/basics/animation/thumb.png"},{title:"Water",description:"Create a 3D water effect using materials and textures.",url:"/learn/basics/water",image:"assets/learn/basics/water/thumb.png"},{title:"Joystick",description:"Use an external library to integrate a onscreen joystick.",url:"/learn/basics/joystick",image:"assets/learn/basics/joystick/thumb.png"},{title:"Timeline",description:"Timeline editor to create animations.",url:"/learn/basics/timeline",image:"assets/learn/basics/timeline/thumb.png"},{title:"Post-processing",description:"Post-procesing camera effects pipeline.",url:"/learn/basics/postprocessing",image:"assets/learn/basics/postprocessing/thumb.png"},{title:"Video",description:"How to import and use video files.",url:"/learn/basics/video",image:"assets/learn/basics/video/thumb.png"},{title:"Shaders",description:"Build new materials using GLSL shader code.",url:"/learn/basics/shaders",image:"assets/learn/basics/shaders/thumb.jpg"},{title:"Terrain",description:"Learn how to use existing three.js based libraries.",url:"/learn/basics/terrain",image:"assets/learn/basics/terrain/thumb.jpg"},{title:"Python",description:"Introduction to the python language support.",url:"/learn/basics/python",image:"assets/learn/basics/python/thumb.jpg"}]},{title:"Tutorials",description:"These tutorials will help you to build your first fully functional games and experiences inside nunuStudio with step by step guides. Before starting these i recommend you to first experiment with some of the beginner guides.",options:[{title:"Platformer Game",description:"This tutorial will teach you how to create a mario style platformer game.",url:"/learn/tutorial/platformer",image:"assets/learn/tutorial/platformer/thumb.png"},{title:"Multiplayer Shooter",description:"In this tutorial we will explore how to create a networked multiplayer game using websockets and nodejs.",url:"/learn/tutorial/networking",image:"assets/learn/tutorial/networking/thumb.png"}]},{title:"Integration",description:"These guides will help you to integrate nunuStudio applications inside you webpage, how to transfer data between the webpage and the application, etc. For these guides more advanced javascript knowledge is required.",options:[{title:"Embedding",description:"This guide will help you to embedded nunuStudio applications inside your webpage.",url:"/learn/integration/embedding",image:"assets/learn/integration/embedding/thumb.png"},{title:"Communication",description:"Learn how to transfer data between your running applications and you webpage.",url:"/learn/integration/communication",image:"assets/learn/integration/communication/thumb.png"}]}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["learn-page"]],standalone:!0,features:[Je],decls:13,vars:0,consts:[[1,"container",2,"padding-bottom","30px","padding-top","30px"],["href","docs/index.html",1,"underline"],[1,"container"],[2,"padding-bottom","30px","padding-top","30px"],[1,"row"],[1,"col-md-3",2,"cursor","pointer","border-top","5px",3,"routerLink"],[2,"border-radius","5px","width","100%",3,"src"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"h2"),u(2,"Learn"),d(),f(3,"p"),u(4,"This page provides step by step tutorials for learning how to use nanoStudio, these tutorials will guide you through the editor tools and explain how they can be used to create dynamic web experiences in 3D."),d(),f(5,"p"),u(6,"For documentation about the nunuStudio scripting API check the "),f(7,"a",1),u(8,"API Documentation"),d(),u(9," page."),d()(),f(10,"div",2),Ri(11,dB,8,2,"div",3,Ni),d()),2&r&&(G(11),Ai(o.sections))},dependencies:[lt],encapsulation:2})}}return e})(),hB=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["basics-page"]],standalone:!0,features:[Je],decls:79,vars:0,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/basics/layout.png",1,"img-big"],["src","assets/learn/basics/basics/tools.png",1,"img-small"],["src","assets/learn/basics/basics/add.png",1,"img-big"],["src","assets/learn/basics/basics/panel.png",1,"img-small"],["src","assets/learn/basics/basics/resources.png",1,"img-normal"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Editor basics"),d(),f(6,"h3"),u(7,"Editor UI Layout"),d(),f(8,"p"),u(9,"The nunuStudio editor is where applications are developed it provides tools for creating and editing objects inside the 3D world. If you have ever worked with another similar frameworks (unity, playcanvas, godot, etc) or with 3D modeling software (blender, maya, cinema4d, etc) some of the concepts bellow might be already familiar to you."),d(),f(10,"p"),u(11,"Objects are organized in a tree structure (visible on the red area bellow), each object has childrens, that inherit the parent object position, scale and rotation. If a parent object is moved the children object is moved with it."),d(),f(12,"p"),u(13,"Objects can be selected on the object explorer with mouse left click, when a object is selected the object panel (in blue), is filled with data regarding that object. In the object panel its possible to manually change every attribute of an object (position, name, color, etc)."),d(),A(14,"img",3),f(15,"p"),u(16,"The left side of the window is used to choose tools and add objects to the scene, tools are used to change objects attributes using the mouse, the following tools are available"),d(),A(17,"img",4),f(18,"ul")(19,"li")(20,"p"),u(21,"Selection tool, selects objects with mouse left click, objects can also be selected by double clicking on then (even if the selection tool is not active)"),d()(),f(22,"li")(23,"p"),u(24,"Move tool, used to move objects"),d()(),f(25,"li")(26,"p"),u(27,"Resize tool, used to resize objects"),d()(),f(28,"li")(29,"p"),u(30,"Rotate tool, used to rotate objects"),d()()(),f(31,"p"),u(32,"Bellow the tool selection, there is the object add zone, where its possible to select and add objects to the scene currently selected on the object explorer. When dragging the mouse over each option a new box appears showing objects for each category available."),d(),f(33,"p"),u(34,"The resource explorer zone (in green), is used to manage all available resources (images, videos, fonts, etc), import new resources into the project (clicking on the import menu or simply by dragging them into the resource explorer) or even export resources from the project to the host system."),d(),f(35,"h3"),u(36,"Navigating inside the scene"),d(),f(37,"p"),u(38,"The mouse is used to move the camera inside the scene editor. There are two modes of navigation available, by default the Free navigation mode is enabled."),d(),f(39,"ul")(40,"li")(41,"p"),u(42,"To rotate the camera press the mouse left button and move the mouse around (the camera moves similarly to how a camera moves in a FPS game)."),d()(),f(43,"li")(44,"p"),u(45,"To move the camera press the mouse right button and move the mouse"),d()(),f(46,"li")(47,"p"),u(48,"To move vertically press the mouse middle button and move the mouse up and down"),d()(),f(49,"li")(50,"p"),u(51,"To approach the camera use the mouse scrolling wheel, or pinch with your fingers if you are using a trackpad."),d()()(),f(52,"h3"),u(53,"Adding a object"),d(),f(54,"p"),u(55,"To add your first object to the scene (lets use as example a sphere) move the mouse to the 5th icon in left side bar, and select the sphere icon using the mouse left button."),d(),f(56,"p"),u(57,"Now select the added object with the selection tool and after that choose the move tool and try to move the added object aroud."),d(),A(58,"img",5),f(59,"h3"),u(60,"Editing objects"),d(),f(61,"p"),u(62,"After adding an object to the editor we can change its attributes, all objects in nunuStudio have a name, position, rotation and scale."),d(),f(63,"p"),u(64,"To select an object you can select the Selection tool in the right side bar and click on top of the object in the scene editor area, alternatively you can also click on the object in the object explorer."),d(),f(65,"p"),u(66,"When an object is selected, on the bottom left of there is a list of attributes that can be changed. Different types of object will have different attributes."),d(),A(67,"img",6),f(68,"h3"),u(69,"Resources"),d(),f(70,"p"),u(71,"Objects can have resources attached to them, resources can be images, video, textures, animations, etc. On the bottom of the screen we have the resource explorer than can be used to manage resources in our project."),d(),f(72,"p"),u(73,"Also on the resource explorer there is a menu to create and import external resources into the project. Resources can also be imported from external sources during runtime, as we will see later on next tutorials."),d(),A(74,"img",7),f(75,"h3"),u(76,"Runnning the program"),d(),f(77,"p"),u(78,"To test the program press the run button on the top bar, or press the F5 key, to stop it press the stop button or press the F5 again."),d()()())},dependencies:[lt],encapsulation:2})}}return e})();const pB=["loadingSection"],gB=["loading"],mB=["canvasSection"],yB=["canvas"];function vB(e,t){if(1&e){const n=To();f(0,"p"),u(1,"To try this example in the editor you can download the "),f(2,"a",14),u(3,"project file"),d(),u(4," or open it on the "),f(5,"a",15),kr("click",function(){wo(n);const o=no();return Do(o.global.openEditor(o.fname))}),u(6,"Web Editor"),d(),u(7,"."),d()}if(2&e){const n=no();G(2),Or("href",n.fname,gr)}}function bB(e,t){if(1&e){const n=To();f(0,"a",8),kr("click",function(){return wo(n),Do(no().app.toggleVR())}),u(1,"Enter VR"),d()}}function wB(e,t){if(1&e){const n=To();f(0,"a",8),kr("click",function(){return wo(n),Do(no().app.toggleAR())}),u(1,"Enter AR"),d()}}let en=(()=>{class e{get global(){return SS}ngOnInit(){this.app=new Nunu.App(this.canvas.nativeElement),this.app.loadRunProgram(this.fname,()=>{null!==this.canvasSection.nativeElement&&(this.canvasSection.nativeElement.style.display="block"),null!==this.loadingSection.nativeElement&&(this.loadingSection.nativeElement.style.display="none")},n=>{null!==this.loading.nativeElement&&(this.loading.nativeElement.style.width=n+"%")})}ngAfterViewChecked(){this.app.resize()}ngOnDestroy(){this.app.exit()}toggleVR(){this.app.vrAvailable()&&this.app.toggleVR()}toggleFullscreen(){this.app.toggleFullscreen()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["app-viewer"]],viewQuery:function(r,o){if(1&r&&(Mo(pB,7),Mo(gB,7),Mo(mB,7),Mo(yB,7)),2&r){let i;ro(i=oo())&&(o.loadingSection=i.first),ro(i=oo())&&(o.loading=i.first),ro(i=oo())&&(o.canvasSection=i.first),ro(i=oo())&&(o.canvas=i.first)}},inputs:{fname:"fname",hideLink:"hideLink"},standalone:!0,features:[Je],decls:18,vars:3,consts:[["canvasSection",""],["canvas",""],["loadingSection",""],["loading",""],[2,"display","none"],[2,"width","80%","height","360px","margin-left","auto","margin-right","auto","display","block"],[2,"left","0px","top","0px","width","100%","height","100%"],[2,"margin-left","auto","margin-right","auto","display","block","text-align","center"],[1,"btn","btn-dark",2,"margin","5px",3,"click"],[1,"btn","btn-dark",2,"margin","5px"],[2,"width","70%","min-width","300px","height","360px","margin-left","auto","margin-right","auto","display","block"],[2,"margin-top","150px"],[2,"width","100%","height","20px","border-style","solid","border-color","var(--dark)","border-width","2px"],[2,"width","0px","height","100%","left","0px","top","0px","background-color","var(--dark)"],[1,"underline",3,"href"],[1,"underline",3,"click"]],template:function(r,o){if(1&r){const i=To();_s(0,vB,8,1,"p"),f(1,"div",4,0)(3,"div",5),A(4,"canvas",6,1),d(),f(6,"div",7)(7,"a",8),kr("click",function(){return wo(i),Do(o.app.toggleFullscreen())}),u(8,"Fullscreen"),d(),_s(9,bB,2,0,"a",9)(10,wB,2,0,"a",9),d()(),f(11,"div",10,2)(13,"h4",11),u(14,"Loading"),d(),f(15,"div",12),A(16,"div",13,3),d()()}2&r&&(Xo(!0!==o.hideLink?0:-1),G(9),Xo(o.app.vrAvailable()?9:-1),G(),Xo(o.app.arAvailable()?10:-1))},encapsulation:2})}}return e})();const DB=[{path:"learn/basics/animation",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["animation-page"]],standalone:!0,features:[Je],decls:84,vars:10,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["href","skinning.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor?isp=https://nunustudio.org/learn/basics/12_animation/skinning.nsp",1,"underline"],["fname","assets/learn/basics/animation/skinning.nsp"],[1,"hljs","javascript"],["src","assets/learn/basics/animation/spritesheet.png",1,"img-small"],["href","spritesheet.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor?isp=https://nunustudio.org/learn/basics/12_animation/spritesheet.nsp",1,"underline"],["fname","assets/learn/basics/animation/spritesheet.nsp"],["href","https://github.com/EsotericSoftware/spine-runtimes",1,"underline"],["src","assets/learn/basics/animation/skin.jpg",1,"img-normal"],["fname","assets/learn/basics/animation/spine.nsp"],["href","code.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor?isp=https://nunustudio.org/learn/basics/12_animation/code.nsp",1,"underline"],["fname","assets/learn/basics/animation/code.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Animation"),d(),f(6,"p"),u(7,"Animations are a essencial part of every game, sometimes it can be quite hard to get them right, in this tutorial we will explore the multiple options for 2D and 3D animations in nunuStudio."),d(),f(8,"h3"),u(9,"Skinning"),d(),f(10,"p"),u(11,"Skeletal animation is a technique in computer animation in which a character is represented in two parts, a surface representation used to draw the character (called skin or mesh) and a hierarchical set of interconnected bones (called the skeleton or rig) used to animate (pose and keyframe) the mesh."),d(),f(12,"p"),u(13,"While this technique is often used to animate humans or more generally for organic modeling, it only serves to make the animation process more intuitive and the same technique can be used to control the deformation of any object, a door, a spoon, a building, or a galaxy. When the animated object is more general than, for example, a humanoid character the set of bones may not be hierarchical or interconnected, but it just represents a higher level description of the motion of the part of mesh or skin it is influencing."),d(),f(14,"p"),u(15,"When importing a 3D model that contains a SkinnedMesh with bones attached will be created automatically, its possible to check the animations available for that 3D model in the object panel, its also possible to select one initial animation for that model that will be automatically player on start. The animation bellow was imported from a .x 3D model, to try this example in the editor you can download the "),f(16,"a",3),u(17,"project file"),d(),u(18," or open it on the "),f(19,"a",4),u(20,"Web Editor"),d(),u(21,"."),d(),A(22,"app-viewer",5),f(23,"p"),u(24,"Its also possible to play animations using a script object, the code bellow shows how to display available animations using a script and how to play the first one available in the list. Multiple animations can be played at the same time, the result of multiple animations is the interpolation of bone position for all the animations playing."),d(),f(25,"pre")(26,"code",6),u(27),d()(),f(28,"p"),u(29,"The playAnimation method received the animation index as a parameter, every time a animation is player a new action element is created in the actions array in the SkinnedMesh object, we can use action object to controll how much that animation track weigths on the final animation, this can be usefull to interpolate between multiple animations."),d(),f(30,"h3"),u(31,"Spritesheet"),d(),A(32,"p"),f(33,"p"),u(34,"To import a new spritesheet animation into nunuStudio, we can select import/Texture/Spritesheet texture in the resource explorer. After we have selected an image a special type of texture will be created. We can open the spritesheet editor by double clicking the newly created texture."),d(),f(35,"p"),u(36,"The image bellow shows an example of a 10x8 animation spritesheet, that spritesheet actually contains multiple animations the character moving up, down, right, left and a couple of static poses."),d(),A(37,"img",7),f(38,"p"),u(39,"We have to manually configure in the spritesheet editor its size, number of frames to be used, where to start and end the animation, and how fast do we want to play it."),d(),f(40,"p"),u(41,"The example bellow uses three different spritesheet animations, one of them is controlled using a script object to display different parts of the animation depending on the player movement, this example also shows really well how lights can be used for 2D scenes. To try this example in the editor you can download the "),f(42,"a",8),u(43,"project file"),d(),u(44," or open it on the "),f(45,"a",9),u(46,"Web Editor"),d(),u(47,"."),d(),A(48,"app-viewer",10),f(49,"h3"),u(50,"Spine"),d(),f(51,"p"),u(52,"Spine is a 2D animation software for Windows, Mac and Linux, developed by Esoteric Software. Spine is mostly targeted to people doing 2d video games, but can be used for pretty much any kind of 2D animated work."),d(),f(53,"p"),u(54,"For this tutorial Spine is not required, you can download some sample animations from "),f(55,"a",11),u(56,"Esoteric Github page"),d(),u(57,", only paid versions of spine can be used to export animations."),d(),f(58,"p"),u(59,'Spine animations can be imported into nunuStudio by selecting "Spine animation" on the resource explorer import menu. Spine objects can have multiple animations stored. nunuStudio provides a simple API to select and play animations. Animations can also have skins attached, the same object can use multiple skins. The image bellow shows the same Spine object using two different skins.'),d(),A(60,"img",12),f(61,"p"),u(62,"The code bellow demonstrates how to change the animations programatically using the setAnimation(track, name, loop) function available in the SpineAnimation object. You can check the animations available for your animation in the object panel in the animation dropdown menu. There is also a setSkin(name) function that can be used to change the skin in use during runtime."),d(),f(63,"pre")(64,"code",6),u(65),d()(),f(66,"p"),u(67,"The example bellow uses the spineboy animation available free on the spine runtime repository, and demonstrates how to use spine animations in a platformer style game."),d(),A(68,"app-viewer",13),f(69,"p"),u(70,"Spine animations also have support for inverse kinematics, its also possible to use the mouse and keyboard import to change what would be the normal animation flow in order to adapt it to the current events."),d(),f(71,"h3"),u(72,"Code"),d(),f(73,"p"),u(74,"Another way to animated objects is coding, scripted animations sometimes allow for a more dynamic interactiong, and can sometimes be even easier to do than using visual tools. We can easily animate the properties of objects, textures, materials, etc. Be creative a couple of lines of code can easily make good animations."),d(),f(75,"p"),u(76,"To try this example in the editor you can download the "),f(77,"a",14),u(78,"project file"),d(),u(79," or open it on the "),f(80,"a",15),u(81,"Web Editor"),d(),u(82,"."),d(),A(83,"app-viewer",16),d()()),2&r&&(G(27),En('var object = scene.getObjectByName("animated");\n\nfor(var i = 0; i < object.animations.length; i++)\n',"{","\n\tconsole.log(object.animations[i].name);\n","}","\n\nobject.playAnimation(0);"),G(38),io("var spineboy;\n\nfunction initialize()\n","{",'\n\tspineboy = scene.getObjectByName("spineboy");\n',"}","\n\nfunction update()\n","{","\n\t...\n\n\tif(Keyboard.keyJustPressed(Keyboard.RIGHT) || ...)\n\t","{",'\n\t\tspineboy.setAnimation(0, "run", true);\n\t',"}","\n\tif(Keyboard.keyJustReleased(Keyboard.RIGHT) || ...)\n\t","{",'\n\t\tspineboy.setAnimation(0, "idle", true);\n\t',"}","\n","}","\n"))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/ar",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["ar-page"]],standalone:!0,features:[Je],decls:29,vars:2,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["href","https://developers.google.com/ar"],["src","assets/learn/basics/ar/webxr.jpg",1,"img-normal"],["href","https://developer.mozilla.org/en-US/docs/Web/API/WebXR_Device_API/Geometry"],["fname","assets/learn/basics/ar/engine.nsp"],[1,"hljs","javascript"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Augmented Reality"),d(),f(6,"p"),u(7,"In this tutorial we will learn how to use WebXR to create augmented reality experiences directly in the browser. The device used to view the augmented reality application has to support WebXR AR."),d(),f(8,"p"),u(9,"Movement and display of the AR environment is automatically adjusted to the device in use, it can be displayed as a overlay in AR glasses (e.g. Hololens) or projected over a camera captured image for smartphones. In Android powered devices the "),f(10,"a",3),u(11,"ARCore"),d(),u(12," needs to be installed in order to view the AR application properly."),d(),f(13,"p"),u(14,"Applications developed for AR can also be support VR and 2D screen interaction, the WebXR API allows for one application to use multiple display and input technologies simultaneously."),d(),A(15,"img",4),f(16,"p"),u(17,"For augmented reality consider a metric scale from the editor coordinated to the real world, 1 unit means one meter in real life. More information about "),f(18,"a",5),u(19,"Geometry and reference spaces in WebXR"),d(),u(20,". The scene has to be scaled to fit the AR environment as intended."),d(),f(21,"p"),u(22,"To enable AR in your application select the program in the object inspection and enable the AR checkbox. After this you can start creating you experience, keep in mind that the origin of the environment will be the pace where the AR session is started at."),d(),A(23,"app-viewer",6),f(24,"p"),u(25,"Is is possible to access AR controllers that some devices offer for more advances interaction with the environment. These controllers are presented as Object3D objects that are automatically updated to match the real world position of the physical controller."),d(),f(26,"pre")(27,"code",7),u(28),d()()()()),2&r&&(G(28),En("var controller = program.renderer.xr.getController( 0 );\ncontroller.addEventListener('select', function() ","{","\n\t// TODO ADD CODE HERE\n","}",");\nscene.add(controller);"))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/audio",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["audio-page"]],standalone:!0,features:[Je],decls:109,vars:10,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["href","https://webaudio.github.io/web-audio-api/"],[1,"table"],["src","assets/learn/basics/audio/select.jpg",2,"width","20%","margin-left","40%"],[1,"hljs","javascript"],["href","audio.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor?isp=https://nunustudio.org/learn/basics/06_audio/audio.nsp",1,"underline"],["fname","assets/learn/basics/audio/audio.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Audio"),d(),f(6,"p"),u(7,"nunuStudio uses WebAdio to provide a fully featured audio engine, with support for effects, positional audio, analysis tools etc. To use audio elements the host must support WebAudio since there is no fallback for hosts without this API available."),d(),f(8,"p"),u(9,"More information about the WebAudio API can be found "),f(10,"a",3),u(11,"here"),d(),u(12,"."),d(),f(13,"p"),u(14,"Audio file format support depends on the host, but the following table can be used as a reference."),d(),f(15,"table",4)(16,"tr")(17,"th"),u(18,"Format"),d(),f(19,"th"),u(20,"Chorme"),d(),f(21,"th"),u(22,"Firefox"),d(),f(23,"th"),u(24,"Edge"),d(),f(25,"th"),u(26,"Safari"),d()(),f(27,"tr")(28,"td"),u(29,"MP3"),d(),f(30,"td"),u(31,"Yes"),d(),f(32,"td"),u(33,"Yes"),d(),f(34,"td"),u(35,"Yes"),d(),f(36,"td"),u(37,"Yes"),d()(),f(38,"tr")(39,"td"),u(40,"FLAC"),d(),f(41,"td"),u(42,"No"),d(),f(43,"td"),u(44,"Yes"),d(),f(45,"td"),u(46,"No"),d(),f(47,"td"),u(48,"No"),d()(),f(49,"tr")(50,"td"),u(51,"OGG"),d(),f(52,"td"),u(53,"Yes"),d(),f(54,"td"),u(55,"Yes"),d(),f(56,"td"),u(57,"Yes"),d(),f(58,"td"),u(59,"No"),d()(),f(60,"tr")(61,"td"),u(62,"WAV"),d(),f(63,"td"),u(64,"Yes"),d(),f(65,"td"),u(66,"Yes"),d(),f(67,"td"),u(68,"Yes"),d(),f(69,"td"),u(70,"Yes"),d()(),f(71,"tr")(72,"td"),u(73,"WMA"),d(),f(74,"td"),u(75,"No"),d(),f(76,"td"),u(77,"No"),d(),f(78,"td"),u(79,"No"),d(),f(80,"td"),u(81,"No"),d()()(),f(82,"h3"),u(83,"Load Audio Files"),d(),f(84,"p"),u(85,"Its possible to load Audio files by selecting the import options in the asset explorer or by dragging audio files into the asset explorer directly."),d(),f(86,"h3"),u(87,"Creating a audio emitter"),d(),f(88,"p"),u(89,"To create a new audio emitter simply select the desired type of emitter from the toolbar, or drag the audio file to the scene editor, this will create a normal audio emitter by default."),d(),f(90,"p"),u(91,"There are 2 types of audio emitters in nunuStudio, normal emitters that play 2D stereo audio, and positional audio emitters that simulate positional audio relative to the camera position to create a 3D audio effect."),d(),A(92,"img",5),f(93,"h3"),u(94,"Controlling a audio emitter"),d(),f(95,"p"),u(96,"Its possible to control a audio emitter using a script, the example bellow gets the audio emitter object, plays it on initialization and after 5 starts lowering its volume, after 10 seconds plays the audio again."),d(),f(97,"pre")(98,"code",6),u(99),d()(),f(100,"p"),u(101,"The example bellow shows how to control a positional audio object. When the mouse left button is pressed the sound starts playing, and when it is pressed again it stops. To try this example in the editor you can download the "),f(102,"a",7),u(103,"project file"),d(),u(104," or open it on the "),f(105,"a",8),u(106,"Web Editor"),d(),u(107,"."),d(),A(108,"app-viewer",9),d()()),2&r&&(G(99),Ln(["var audio;\nvar time, clock;\n\nfunction initialize()\n","{",'\naudio = scene.getObjectByName("test");\n\nclock = new Clock();\nclock.start();\n\ntime = 0;\n',"}","\n\nfunction update()\n","{","\ntime += clock.getDelta();\n\nif(time > 5)\n","{","\n\taudio.setVolume(audio.volume - 0.01);\n","}","\nif(audio.volume < 0.1)\n","{","\n\taudio.pause();\n","}","\n\nif(time > 10)\n","{","\n\taudio.setVolume(1.0);\n\taudio.play();\n","}","\n","}",""]))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/basics",component:hB},{path:"learn/basics/camera",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["camera-page"]],standalone:!0,features:[Je],decls:61,vars:0,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/camera/camera.jpg",1,"img-big"],["fname","assets/learn/basics/camera/cameras.nsp"],["src","assets/learn/basics/camera/viewport.png",1,"img-big"],["fname","assets/learn/basics/camera/viewport.nsp"],["src","assets/learn/basics/camera/cubecamera.png",1,"img-big"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Cameras"),d(),f(6,"p"),u(7,"Cameras define how the scene is viewed in the screen, as every other object they have a position and rotation, and can control where to draw content on the screen and can have postprocessing effects attached."),d(),f(8,"p"),u(9,"A scene can use multiple cameras at the same time, camera have a draw order preference attached to them, used to decide which one to render from first. Cameras can be added from the object add bar."),d(),A(10,"img",3),f(11,"h3"),u(12,"Perspective Camera"),d(),f(13,"p"),u(14,"A perspective camera is used to draw objects with a perspective projection. A perspective projection is a 3D where depth can be easily perceived by the used."),d(),f(15,"p"),u(16,"In perspective cameras the following parameters can be configured:"),d(),f(17,"ul")(18,"li")(19,"p"),u(20,"FOV (Field-of-view): Angle in degrees used to control the camera field of view."),d()()(),f(21,"h3"),u(22,"Orthographic Camera"),d(),f(23,"p"),u(24,"Orthographic cameras are used to draw object with a orthographic projection. A orthographic proection is a 2D projection where its impossible for the used to perceive distance, objects far away from the camera appear to have the same size as the ones closest to it."),d(),f(25,"p"),u(26,"In orthographic cameras the following parameters can be configured:"),d(),f(27,"ul")(28,"li")(29,"p"),u(30,"Size: Used to control how much the camera can see inside the scene"),d()(),f(31,"li")(32,"p"),u(33,"Resize mode: Defines how the camera is resized when the window size changes, if set to horizontal mode, the vertical size of the camera stays the same and the horizontal size changes on resize, if set to vertical mode, the horizontal stays locked and the vertical size changes."),d()()(),f(34,"h3"),u(35,"Comparison"),d(),f(36,"p"),u(37,"In the demo bellow we can see booth a perspective camera (on the left) and a orthographic camera (on the right) in action."),d(),A(38,"app-viewer",4),f(39,"h3"),u(40,"Viewport"),d(),f(41,"p"),u(42,"The zone on the screen where the camera draws can be controlled using the viewport attributes. This allows for multiple cameras to be displayed at the same time on one screen."),d(),f(43,"ul")(44,"li")(45,"p"),u(46,"Position: Normalized coordinates used to select where the draw zone starts (bottom left corner). Ranges from 0 to 1."),d()(),f(47,"li")(48,"p"),u(49,"Size: Normalized coordinates used to define the size of the draw zone. Ranges from 0 to 1."),d()()(),A(50,"img",5),f(51,"p"),u(52,"In the example bellow the booth cameras have a viewport of (1.0, 0.5) this means that the cameras ocupy 100% of the screen in the horizontal and half the screen in the vertical. And position for the camera on the bottom (0,0), and (0, 0.5) for the top camera. These positions are relative to the bottom left corner of the viewports. The bottom camera start on the bottom left of the screen and the top camera starts at 50% of the vertical size of the screen."),d(),A(53,"app-viewer",6),f(54,"h3"),u(55,"Cube Camera"),d(),f(56,"p"),u(57,"Cube cameras are composed of 6 internal perspective cameras aligned to capture an entire 360 projection of the scene."),d(),f(58,"p"),u(59,"These type of cameras are useful for material effects that require access to information of the surroundings (e.g reflections, refraction). These can be programmatically attached to the scene (as background) or to materials (as environment map)."),d(),A(60,"img",7),d()())},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/gyroscope",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["gyroscope-page"]],standalone:!0,features:[Je],decls:52,vars:6,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/gyroscope/gyro.png",1,"img-normal"],[1,"hljs","javascript"],["fname","assets/learn/basics/gyroscope/gyro.nsp"],["href","http://www.humus.name"],["src","assets/learn/basics/gyroscope/preview.jpg",1,"img-normal"],["src","assets/learn/basics/gyroscope/editor.jpg",1,"img-normal"],["fname","assets/learn/basics/gyroscope/pano.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Gyroscope"),d(),f(6,"h3"),u(7,"Gyroscope"),d(),f(8,"p"),u(9,"The gyroscope can be useful booth to control objects in the scene as a controller or as a viewport controller for cameras. Gyroscopes are present in pretty much every recent mobile device out there. In this tutorial we will explore how to use it inside nunuStudio and explore some of its use cases."),d(),f(10,"p"),u(11,"The device gyroscope provides information about rotation of the device represented as an euler rotation."),d(),A(12,"img",3),f(13,"p"),u(14,"The code bellow demonstrates how to create a Gyroscope input object, the gyroscope object its not a normal a nunuSutio object is exists only as a programming API, and has the following attributes, each representing a rotation axis relative to the device:"),d(),f(15,"ul")(16,"li")(17,"p"),u(18,"Alpha - Rotation on the Z axis"),d()(),f(19,"li")(20,"p"),u(21,"Beta - Rotation on the X axis"),d()(),f(22,"li")(23,"p"),u(24,"Gamma - Rotation on the Y axis"),d()(),f(25,"li")(26,"p"),u(27,"Orientation - Indicates the orientation of the device"),d()()(),f(28,"pre")(29,"code",4),u(30),d()(),f(31,"p"),u(32,"If everything works as expected you should see something similar to the example running bellow."),d(),A(33,"app-viewer",5),f(34,"h3"),u(35,"Panorama"),d(),f(36,"p"),u(37,"The gyroscope can be used to easily create interactive panoramic visualizations for mobile devices, we can do this very simply using a cubemap."),d(),f(38,"p"),u(39,"A cube map is a representation of a 360 scene using 6 images each one representing the face of a cube. For this example we will use the following images."),d(),f(40,"p"),u(41,"The picture used in this example was taken by Emil Persson and its available for download "),f(42,"a",6),u(43,"here"),d(),u(44," (licensed under a Creative Commons Attribution 3.0)."),d(),A(45,"img",7),f(46,"p"),u(47,"To create a new cube map select Import, Texture, CubeMap in Asset Explorer a new asset will be created, double click the new asset and a cube map editor tab will open, now simply drag the sides of your cube map to the correct position in the editor."),d(),A(48,"img",8),f(49,"p"),u(50,"To set this cube map as the scene background, select the scene object in the object explorer and drag the cubemap asset to the background texture box."),d(),A(51,"app-viewer",9),d()()),2&r&&(G(30),ei("var camera, gyro;\n\nfunction initialize()\n","{",'\n\tcamera = scene.getObjectByName("camera");\n\tgyro = new Gyroscope();\n',"}","\n\nfunction update()\n","{","\n\tgyro.setObjectQuaternion(camera);\n","}","\n\nfunction dispose()\n","{","\n\tgyro.dispose();\n","}",""))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/joystick",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["joystick-page"]],standalone:!0,features:[Je],decls:16,vars:22,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],[1,"hljs","javascript"],["fname","assets/learn/basics/joystick/joystick.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Joystick"),d(),f(6,"p"),u(7,"In this guide we will learn how to use an external library called nipple.js to add joystick controlls for mobile platforms. First we need to download the nipple library from github and import it into the project. The library is available at https://yoannmoinet.github.io/nipplejs/."),d(),f(8,"p"),u(9,"To import the javascript file into the editor drag it into the resource explorer. The file will appear as a javascript resource that can be imported to scripts using the import() method."),d(),f(10,"p"),u(11,"Script objects can import() files from the project resources or direclty from external URLs. Depending on the configured library mode (configured on the script object inspector panel) the files can evaluated in the context of the script, appended to the script code before compilation or included globally."),d(),f(12,"pre")(13,"code",3),u(14),d()(),A(15,"app-viewer",4),d()()),2&r&&(G(14),Ln(['include("nipplejs.min.js");\n\nvar cube, camera;\n\nvar manager;\nvar direction, pressed;\n\nfunction initialize()\n',"{",'\ncamera = scene.getObjectByName("camera");\ncube = scene.getObjectByName("cube");\n\ndirection = new Vector2(0, 0);\npressed = false;\n\nmanager = nipplejs.create(\n',"{",'\n\tzone: program.division,\n\tmultitouch: false,\n\tmaxNumberOfNipples: 1,\n\tmode: "dynamic"\n',"}",');\n\nmanager.on("added", function(event, nipple)\n',"{",'\n\tnipple.on("move start end", function(event, data)\n\t',"{",'\n\t\tif(event.type === "move")\n\t\t',"{","\n\t\t\tvar force = 0.08 * data.force;\n\n\t\t\tdirection.x = Math.cos(data.angle.radian) * force;\n\t\t\tdirection.y = Math.sin(data.angle.radian) * force;\n\t\t","}",'\n\t\telse if(event.type === "start")\n\t\t',"{","\n\t\t\tpressed = true;\n\t\t","}",'\n\t\telse if(event.type === "end")\n\t\t',"{","\n\t\t\tpressed = false;\n\t\t","}","\n\t","}",");\n","}",');\n\nmanager.on("removed", function(event, nipple)\n',"{",'\n\tnipple.off("move start end");\n',"}",");\n","}","\n\nfunction update()\n","{","\n//If the joystick is pressed update position\nif(pressed)\n","{","\n\tcube.position.x += direction.x;\n\tcube.position.y += direction.y;\n","}","\n\n//Limit the square movement\nif(cube.position.x > camera.right) cube.position.x = camera.right;\nif(cube.position.x < camera.left) cube.position.x = camera.left;\nif(cube.position.y > camera.top) cube.position.y = camera.top;\nif(cube.position.y < camera.bottom) cube.position.y = camera.bottom;\n","}","\n\nfunction dispose()\n","{","\nmanager.destroy();\n","}",""]))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/materials",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["materials-page"]],standalone:!0,features:[Je],decls:89,vars:0,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["href","https://threejs.org/docs/index.html#Reference/Materials/Material"],["href","https://www.marmoset.co/posts/basic-theory-of-physically-based-rendering/"],["fname","assets/learn/basics/materials/materials.nsp"],["src","assets/learn/basics/materials/selector.png",1,"img-normal"],["src","assets/learn/basics/materials/editor.jpg",1,"img-big"],["src","assets/learn/basics/materials/textures/albedo.jpg",2,"width","20%","margin","0","float","left"],["src","assets/learn/basics/materials/textures/normal.jpg",2,"width","20%","margin","0","float","left"],["src","assets/learn/basics/materials/textures/height.jpg",2,"width","20%","margin","0","float","left"],["src","assets/learn/basics/materials/textures/metallic.jpg",2,"width","20%","margin","0","float","left"],["src","assets/learn/basics/materials/textures/roughness.jpg",2,"width","20%","margin","0","float","left"],["fname","assets/learn/basics/materials/rock.nsp"],["src","assets/learn/basics/materials/apply.jpg",1,"img-big"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Materials"),d(),f(6,"p"),u(7,"Materials describe the appearance of objects. Materials define how the object superficie is renderer and can have attached to them textures, colors, videos, etc."),d(),f(8,"h3"),u(9,"Material types"),d(),f(10,"p"),u(11,"There are various types of materials available inside nunuStudio and there is even the possibility of creating customized materials using GLSL shaders, more information about material types can be found "),f(12,"a",3),u(13,"here"),d(),u(14,". Here is a list of some of the most used material types:"),d(),f(15,"ul")(16,"li")(17,"p"),u(18,"Standard material - A standard physically based material. Physically based rendering (PBR) has recently become the standard in many 3D applications, such as Unity, Unreal and 3D Studio Max. More infomation abou PBR "),f(19,"a",4),u(20,"here"),d(),u(21,"."),d()(),f(22,"li")(23,"p"),u(24,"Phong material - A material for shiny surfaces with specular highlight."),d()(),f(25,"li")(26,"p"),u(27,"Lambert material - A material for non-shiny surfaces, without specular highlights."),d()(),f(28,"li")(29,"p"),u(30,"Basic material - A material for drawing geometries in a simple shaded way. This material is not affected by lights."),d()(),f(31,"li")(32,"p"),u(33,"Sprite material - Special type of material to be used with sprite objects."),d()(),f(34,"li")(35,"p"),u(36,"Shader material - Shader materials can be customized using GLSL code."),d()()(),f(37,"p"),u(38,"The example bellow shows 4 different material types running, from the left to the right we have a Standard material, Phong material, Lambert material and a Basic Material, as we can se the Standard (PBR) and Phong materials are more detailed, the lambert material has basic light support (per vertex light calculation) and the basic material does not react to light."),d(),A(39,"app-viewer",5),f(40,"h3"),u(41,"Creating materials"),d(),f(42,"p"),u(43,"Materials can be crated by clicking on the Material menu in the resource explorer, and selecting the type of material desired, materials are also created when a image or video file is dragged to a mesh object or to the resource explorer."),d(),A(44,"img",6),f(45,"p"),u(46,"After creating a material its possible edit its attributes double clicking on top of it on the resource explorer, this will open a new material editor tab."),d(),f(47,"p"),u(48,"Inside the material editor its possible to change every material parameter, add textures, change colors, etc."),d(),f(49,"p"),u(50,"On the left side of the material editor there is a real time preview of the material applied to an object that can be moved using the mouse left button, its also possible to change the preview settings on the bottom section of the left side."),d(),A(51,"img",7),f(52,"h3"),u(53,"Textures"),d(),f(54,"p"),u(55,"Materials can have textures attached to them, textures can be used to define the color of the material surface, but can also be used to define other attributes of the material, like the roughness, metalness, normal vectors, etc."),d(),f(56,"p"),u(57,"To add a texture to a material its possible to drag a texture from the resource explorer or drag directly a image or video file from the host to the desired place in the material editor. This will automatically create a new texture object and attach it to the material."),d(),f(58,"p"),u(59,"In this example we will explore a PBR based texturing set (using a StandardMaterial) to demonstrate how each type of texture affects the material. The following textures will be used:"),d(),f(60,"ul")(61,"li")(62,"p"),u(63,"Color texture - Defines the color of the object surface."),d()(),f(64,"li")(65,"p"),u(66,"Normal texture - Defines how the surface of the object reacts to light (encode the normal vector of the object in rgb color)."),d()(),f(67,"li")(68,"p"),u(69,"Height texture - Used to increase detail on the object by applying deformations to it to match the material shape."),d()(),f(70,"li")(71,"p"),u(72,"Metalness texture - Defines how metallic is the surface of the object."),d()(),f(73,"li")(74,"p"),u(75,"Roughness texture - Defines how rough is the surface of the object."),d()()(),A(76,"img",8)(77,"img",9)(78,"img",10)(79,"img",11)(80,"img",12),f(81,"p"),u(82,"The example bellow demonstrates how this different textures influence the material appearance."),d(),A(83,"app-viewer",13),f(84,"h3"),u(85,"Applying materials"),d(),f(86,"p"),u(87,"To apply a material to an object select the scene editor and drag the material from the resource explorer to the desired object. Another way to create materials is by dragging an external image or video file direcly to a object in the scene explorer, this will create a Standard or Sprite material (depending on the object) automatically using the provided file as a texture."),d(),A(88,"img",14),d()())},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/particles",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["particles-page"]],standalone:!0,features:[Je],decls:58,vars:0,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/particles/select.png",2,"width","20%","margin-left","40%"],["src","assets/learn/basics/particles/editor.png",2,"width","60%","margin-left","20%"],["fname","assets/learn/basics/particles/particle.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Particles"),d(),f(6,"p"),u(7,"nunuStudio has a dedicated particle engine, the particle object encapsulates a Emitter and a Group that can be easily edited in the Particle Editor, but more Emitters can be added programmatically during runtime."),d(),f(8,"p"),u(9,"To add a new particle object select it from the tool bar. All new particle objects are created with the default template."),d(),A(10,"img",3),f(11,"h3"),u(12,"Particle Editor"),d(),f(13,"p"),u(14,"The particle editor can be used to customize the particle object. To open the particle editor, double click on the particle object in the object explorer, a new tab with the particle editor will open."),d(),A(15,"img",4)(16,"br"),f(17,"p"),u(18,"Here are some of the basic attributes of a particle emitter. Its possible to control these attributes using scripts as well."),d(),f(19,"ul")(20,"li")(21,"p"),u(22,"Particle Count - Maximum number of particles"),d()(),f(23,"li")(24,"p"),u(25,"Texture - Particle emitter have a texture attached to them this texture to them."),d()(),f(26,"li")(27,"p"),u(28,"Direction - If set backwards the particle starts at its endind position."),d()(),f(29,"li")(30,"p"),u(31,"Particle Rate - How many particles to emitt relative to the age of a particle."),d()(),f(32,"li")(33,"p"),u(34,"Emitter Type - Shape of the emitter (Box, Circle or Sphere)."),d()(),f(35,"li")(36,"p"),u(37,"Max Age - Age of the particles created."),d()(),f(38,"li")(39,"p"),u(40,"Position - Position of the particle on creation relative to the emitter."),d()(),f(41,"li")(42,"p"),u(43,"Velocity - Velocity of the particle on creation."),d()(),f(44,"li")(45,"p"),u(46,"Acceleration - Acceleration of the particle."),d()(),f(47,"li")(48,"p"),u(49,"Rotation - Rotation of the particle along its lifespan."),d()(),f(50,"li")(51,"p"),u(52,"Color - Color of the particle along its lifespan."),d()()(),f(53,"h3"),u(54,"Example"),d(),f(55,"p"),u(56,"In the demo bellow we can see a particle emitter object in action."),d(),A(57,"app-viewer",5),d()())},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/physics",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["physics-page"]],standalone:!0,features:[Je],decls:66,vars:22,consts:[[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["href","https://github.com/schteppe/cannon.js"],["href","https://github.com/schteppe"],["href","http://www.cannonjs.org/"],["href","http://schteppe.github.io/cannon.js/docs/"],["src","assets/learn/basics/physics/video.mp4","controls","",2,"width","60%","margin-left","20%"],["fname","assets/learn/basics/physics/modes.nsp"],[1,"hljs","javascript"],["fname","assets/learn/basics/physics/physics.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"a",1),u(2,"Back"),d(),f(3,"h2"),u(4,"Physics"),d(),f(5,"p"),u(6,"In this tutorial we will experiment how physics work inside nunuStudio, physics are represented as objects in the editor, physics object dont have a visual representation they are just used for physics simulations."),d(),f(7,"p"),u(8,"Physics in nunuStudio are powered by "),f(9,"a",2),u(10,"cannon.js"),d(),u(11," developed by "),f(12,"a",3),u(13,"schteppe"),d(),u(14,", for more information about the physics engine please consult the cannon.js "),f(15,"a",4),u(16,"project page"),d(),u(17," and its "),f(18,"a",5),u(19,"API documentation"),d(),u(20," page."),d(),f(21,"p"),u(22,"The editor encapsulates the physics bodies in objects, these bodies are managed and updated on a scene basis, physics configuration is managed by scene."),d(),f(23,"h3"),u(24,"Physics object"),d(),f(25,"p"),u(26,"To add physics object select the desired physics object in the left toolbar and add it to the scene, after that add a mesh object as children of the newly created physics object to make it visible in the scene. Dont forget to add a ground object so that other physics object don't fall out of the screen."),d(),f(27,"p"),u(28,"Physics object can be configured as dynamic, static or kinematic objects. Dynamic objects are updated dynamically and detect collisions, kinematic objects are updated only based on their speed, and static objects are not updated at all. Static objects behave likes walls or the floor."),d(),A(29,"video",6),f(30,"h3"),u(31,"Object positioning"),d(),f(32,"p"),u(33,"There is a mode property that indicates how the physics coordinates are transformed from the physics world to the scene, the physics world does not consider the parental transformations applied to objects, "),f(34,"b"),u(35,"World"),d(),u(36," positioning is used to just copy world coordinates from physics to the object is fast and the coordinates will match the values stored in the physics body. Sometimes it is usefull to store physics object in the hierarchy, "),f(37,"b"),u(38,"Local"),d(),u(39," positioning can be used to adapt the physics world coordinates to match the scene, it has a small performance impact and the physics coordinates will not match the local transformation of the object."),d(),f(40,"p"),u(41,"Bellow we have a comparison between world and local positioned physics objects inside a object hierarchy. As we can obvserve the "),f(42,"b"),u(43,"Local"),d(),u(44," positioned object behaves as we would expect."),d(),A(45,"app-viewer",7),f(46,"h3"),u(47,"Physics object control"),d(),f(48,"p"),u(49,"To interact with physics objects using scrips we need to get the physics body attached to that object. Then we can access the "),f(50,"i"),u(51,"body"),d(),u(52," property that exists in every physics object and change the forces, acceleration and velocity values to make it move around the scene."),d(),f(53,"p"),u(54,"The following code gets an physics object body and using the keyboard WASD keys and the space bar we add velocity to that body forcing the cube to move around."),d(),f(55,"pre")(56,"code",8),u(57),d()(),f(58,"p"),u(59,"The code shown above can be seen running bellow for a physics cube, use the WASD keys to control the cube, and the spacebar to make the cube jump. Even when we dont specify rotation for the cube the physics engine automatically calculates it based on the friction beween the surface of the cube and floor. As we can observe the cube tumbles around the scene naturally."),d(),A(60,"app-viewer",9),f(61,"p"),u(62,"It is also possible to detect collisions, contact points and explore the full state of the physics simulation. You can access the physics world from the scene object, and from there attach eventListeners to access the data after each simulation step for example."),d(),f(63,"pre")(64,"code",8),u(65),d()()()),2&r&&(G(57),Ln(["var body;\n\nthis.initialize = function()\n","{",'\n\tbody = scene.getObjectByName("physics").body;\n',"}",";\n\nthis.update = function()\n","{","\n\tif(Keyboard.keyPressed(Keyboard.A))\n\t","{","\n\t\tbody.velocity.x -= 0.2;\n\t","}","\n\tif(Keyboard.keyPressed(Keyboard.D))\n\t","{","\n\t\tbody.velocity.x += 0.2;\n\t","}","\n\tif(Keyboard.keyPressed(Keyboard.W))\n\t","{","\n\t\tbody.velocity.z -= 0.2;\n\t","}","\n\tif(Keyboard.keyPressed(Keyboard.S))\n\t","{","\n\t\tbody.velocity.z += 0.2;\n\t","}","\n\n\tif(Keyboard.keyJustPressed(Keyboard.SPACEBAR))\n\t","{","\n\t\tbody.velocity.y += 5;\n\t","}","\n","}",";"]),G(8),io('var world = scene.world;\nworld.addEventListener("postStep", function(e)\n',"{","\n\tif(world.contacts.length > 0)\n\t","{","\n\t\tfor(var i = 0; i < world.contacts.length; i++)\n\t\t","{","\n\t\t\tvar contact = world.contacts[i];\n\n\t\t\t// Check collision between a and b\n\t\t\tif(contact.bi === a || contact.bj === b)\n\t\t\t","{","\n\t\t\t\t// ...\n\t\t\t","}","\n\t\t","}","\n\t","}","\n","}",""))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/python",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["python-page"]],standalone:!0,features:[Je],decls:24,vars:0,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["href","https://brython.info/"],[1,"hljs","python"],["fname","assets/learn/basics/python/python.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Python"),d(),f(6,"p"),u(7,"In this tutorial we will explore how we can write scripts using the python programming language inside of nunuStudio. Python support is achieved using the "),f(8,"a",3),u(9,"Brython"),d(),u(10," project, that transpiles Python 3 compliant code to javascript."),d(),f(11,"p"),u(12,"It is not possible to get packages from pip or the easily integrate any native library into the projects. The python language implementation support may have some differences to the official implementation."),d(),f(13,"p"),u(14,"To use python create a python script object from the object side bar. To open the code editor double click the icon on the project tree. The editor will open with a base code template as shown bellow. One main difference between javascript and python is that the objects used to access data are received as an argument for each function."),d(),f(15,"pre")(16,"code",4),u(17,"def initialize(obj, scene, program, keyboard, mouse):\n\tpass\n\ndef update(delta, obj, scene, program, keyboard, mouse):\n\tpass"),d()(),f(18,"p"),u(19,"It is possible to access the script object using the obj parameter. and access the scene and program data from the respective parameters using the same methods as used in the javascript objects."),d(),f(20,"pre")(21,"code",4),u(22,'def initialize(obj, scene, program, keyboard, mouse):\n\tobj.position.y = 3\n\ndef update(delta, obj, scene, program, keyboard, mouse):\n\tobj.rotation.x += 0.1\n\n\tground = scene.getObjectByName("ground")\n\tground.rotation.y -= 0.02'),d()(),A(23,"app-viewer",5),d()())},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/postprocessing",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["postprocessing-page"]],standalone:!0,features:[Je],decls:26,vars:14,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/postprocessing/editor.png",1,"img-normal"],["fname","assets/learn/basics/postprocessing/blur.nsp"],[1,"hljs","javascript"],["fname","assets/learn/basics/postprocessing/sepia.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Post-Processing"),d(),f(6,"p"),u(7,"In this guide we will learn how to use postprocessing effects inside of nunuStudio, postprocessing effects are applied after the base image was rendered. These effects can be used to give a totally different atmosphere to a scene."),d(),f(8,"p"),u(9,"The Post-processing pipeline is composed of a series of steps used to produce the final image, each step is performed by order (changing its order produces a different results). The pipeline is attached to the camera object."),d(),f(10,"p"),u(11,"To open the postprocessing pipeline editor double click the camera object on the explorer."),d(),f(12,"p"),u(13,"Each postprocessing step has its own custom set of attributes that can be adjusted in the editor and during runtime. Post-processing steps can be enabled/disabled and used as an output for the final image. "),d(),A(14,"img",3)(15,"app-viewer",4),f(16,"h3"),u(17,"Custom effects"),d(),f(18,"p"),u(19,"It is possible to create custom postprocessing effects using GLSL shaders. This can be achieved using a script object that creates a custom shader pass and attaches is to the camera object as shown bellow."),d(),f(20,"p"),u(21,"The programmer has to be carefull and manage its own uniform values passed to the shader. If the effects craeted need to render to the screen dont forget to set the renderToScreen variable true."),d(),f(22,"pre")(23,"code",5),u(24),d()(),A(25,"app-viewer",6),d()()),2&r&&(G(24),Ln(['include("SepiaShader.js");\n\nfunction initialize()\n',"{",'\ncamera = scene.getObjectByName("camera");\n\n//custom shader pass\nvar effect =\n',"{","\nuniforms:\n\t","{",'\n\t\t"tDiffuse": ',"{"," value: null ","}",',\n\t\t"amount":   ',"{"," value: 1.0 ","}","\n\t","}",',\n\tvertexShader: [\n\t\t"varying vec2 vUv;",\n\t\t"void main() ',"{",'",\n\t\t\t"vUv = uv;",\n\t\t\t"gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);",\n\t\t"',"}",'"\n\t].join("\\n"),\n\tfragmentShader: [\n\t\t"uniform float amount;",\n\t\t"uniform sampler2D tDiffuse;",\n\t\t"varying vec2 vUv;",\n\t\t"void main() ',"{",'",\n\t\t\t"vec4 color = texture2D(tDiffuse, vUv);",\n\t\t\t"vec3 c = color.rgb;",\n\t\t\t"color.r = c.r * 2.0;",\n\t\t\t"color.g = c.g / 1.2;",\n\t\t\t"color.b = c.b;",\n\t\t\t"gl_FragColor = vec4(color.rgb , color.a);",\n\t\t"',"}",'"\n\t].join("\\n")\n',"}","\n\ncamera.composer.passes[0].renderToScreen = false;\n\nvar sepia = new ShaderPass(THREE.SepiaShader);\ncamera.composer.addPass(sepia);\nsepia.renderToScreen = true;\n","}",""]))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/raycaster",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["raycaster-page"]],standalone:!0,features:[Je],decls:50,vars:12,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/raycaster/raycasting.png",1,"img-normal"],[1,"hljs","javascript"],["fname","assets/learn/basics/raycaster/raycaster.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Raycaster"),d(),f(6,"p"),u(7,"A raycaster (or raypicking) is used to interact with 3D objects from the camera point of view. The raycaster achieves this by casting a line that follows the camera frustum checking for collisions with 3D meshes along the way."),d(),A(8,"img",3),f(9,"p"),u(10,"In nunuStudio every scene has a raycaster by default using the first camera to render. The raycaster attached to the scene is updated everyframe with the mouse coordinates."),d(),f(11,"p"),u(12,"The code bellow can be used to test the raycaster object, we start by getting the red and blue materials from the program. On the update method we use the raycaster intersectObjects method to check if the mouse is on top of some object."),d(),f(13,"p"),u(14,"After we get the list of intersected objectes we loop though them and change their material depending on which mouse button is currently pressed."),d(),f(15,"pre")(16,"code",4),u(17),d()(),f(18,"p"),u(19,"The intersectObjects method returns a list of intersection objects, each intersection object has the following attributes. To raycast a single object is also possible to use the intersectObject method that only returns a single intersection object."),d(),f(20,"ul")(21,"li")(22,"p"),u(23,"distance \u2013 distance between the origin of the ray and the intersection"),d()(),f(24,"li")(25,"p"),u(26,"point \u2013 point of intersection, in world coordinates"),d()(),f(27,"li")(28,"p"),u(29,"face \u2013 intersected face"),d()(),f(30,"li")(31,"p"),u(32,"faceIndex \u2013 index of the intersected face"),d()(),f(33,"li")(34,"p"),u(35,"indices \u2013 indices of vertices comprising the intersected face"),d()(),f(36,"li")(37,"p"),u(38,"object \u2013 the intersected object"),d()(),f(39,"li")(40,"p"),u(41,"uv - U,V coordinates at point of intersection"),d()()(),f(42,"p"),u(43,"Intersections are sorted by distance, the first object in the intesection list is always the one closer to the camera. If everything worked as expected you should have something similar to the demo bellow. Use the left mouse button to paint the cubes blue and the right mouse button to paint them red."),d(),A(44,"app-viewer",5),f(45,"p"),u(46,"A simpler way to use the raycaster is to declare a onMouseOver(intersects) method in the script. This method is automatically called when the mouse is over one of the children of that script."),d(),f(47,"pre")(48,"code",4),u(49),d()()()()),2&r&&(G(17),Ln(["var red, blue;\n\nfunction initialize()\n","{",'\n\tred = program.getMaterialByName("red");\n\tblue = program.getMaterialByName("blue");\n',"}","\n\nfunction update()\n","{","\n\t//Check interseted objects\n\tvar intersects = scene.raycaster.intersectObjects(scene.children);\n\n\t//Intersections list contains object, point of intersection, distance, uv and face\n\tfor(var i = 0; i < intersects.length; i++)\n\t","{","\n\t\tif(Mouse.buttonPressed(Mouse.LEFT))\n\t\t","{","\n\t\t\tintersects[i].object.material = red;\n\t\t","}","\n\t\telse if(Mouse.buttonPressed(Mouse.RIGHT))\n\t\t","{","\n\t\t\tintersects[i].object.material = blue;\n\t\t","}","\n\t","}","\n","}","\n"]),G(32),En("function onMouseOver(intersects)\n","{","\n\tconsole.log(intersects);\n","}","\n"))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/script",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["script-page"]],standalone:!0,features:[Je],decls:158,vars:36,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/script/script.png",1,"img-big"],[1,"hljs","javascript"],["href","rotate.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor?isp=https://nunustudio.org/learn/basics/02_script/rotate.nsp",1,"underline"],["fname","assets/learn/basics/script/rotate.nsp"],["href","input.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor?isp=https://nunustudio.org/learn/basics/02_script/input.nsp",1,"underline"],["fname","assets/learn/basics/script/input.nsp"],[1,"hljs","language-javascript"],["src","assets/learn/basics/script/include.jpg",1,"img-normal"],["href","include.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor?isp=https://nunustudio.org/learn/basics/02_script/include.nsp",1,"underline"],["fname","assets/learn/basics/script/include.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"First script"),d(),f(6,"h3"),u(7,"Script object"),d(),f(8,"p"),u(9,"In nunuStudio scripts are written using the javascript language, javascript is the language used for developing web pages and its a easy language to learn, no programming knowledge is required for this tutorial. But I recommend that you learn the basics of programming in javascript before moving on to the next tutorial."),d(),f(10,"p"),u(11,"The script object is used to control objects using javascript code, and behave in the same way any other object does, they have a position, scale and rotations, they can have children and be used as a container."),d(),f(12,"p"),u(13,"After creating a script object its possible to open the script editor by double clicking the script object in the object explorer (right side). The script editor opens in a new tab. New scripts have a basic code template with spaces to write code."),d(),A(14,"img",3),f(15,"p"),u(16,"To allow easier access to program elements, scripts also have access to the following attributes"),d(),f(17,"ul")(18,"li")(19,"p"),u(20,"self - Used to access the script object attributes (position, rotation, scale, children, etc)."),d()(),f(21,"li")(22,"p"),u(23,"program - Used to access the program instance, can be used to change the current scene, access resources (getMaterialByName, getTextureByName, etc)."),d()(),f(24,"li")(25,"p"),u(26,"scene - Used to acess the running scene attributes."),d()(),f(27,"li")(28,"p"),u(29,"Keyboard - provides access to keyboard input"),d()(),f(30,"li")(31,"p"),u(32,"Mouse - provides access to mouse input"),d()()(),f(33,"h3"),u(34,"Script functions"),d(),f(35,"p"),u(36,"There are some reserved function names, that are used by the nunuStudio runtime to run scripts code. In this tutorial we will be working only with the initialize, update and dispose methods."),d(),f(37,"ul")(38,"li")(39,"p"),u(40,"initialize - The initialize method is called when the scene is loaded, it is normally used to create new objects programmatically, get object from the scene, initialize variables, etc."),d()(),f(41,"li")(42,"p"),u(43,"update - Called each frame before drawing the scene into the screen, it can be used to control object, get input values, change object attributes, etc."),d()(),f(44,"li")(45,"p"),u(46,"dispose - Called when the program is being closed, should be used to cleanup objects, disconnect from data streams, etc."),d()(),f(47,"li")(48,"p"),u(49,"onMouseOver(objects) - Called when the mouse is over an object that is children of the script object, can be combined with Mouse functions to check if a object was clicked. Received an array of objects as parameter."),d()(),f(50,"li")(51,"p"),u(52,"onResize(x, y) - Called every time the program window is resized."),d()(),f(53,"li")(54,"p"),u(55,"onAppData(data) - Used to receive data from the host page, data is received as argument."),d()()(),f(56,"h3"),u(57,"Moving an object"),d(),f(58,"p"),u(59,"To move an object we start by attaching that object as a children of the script object, we can do that by dragging the desired object to the script object, in this tutorial we will use the cube object on the default scene. Lets start by testing the following code"),d(),f(60,"pre")(61,"code",4),u(62),d()(),f(63,"p"),u(64,"This code will move the cube 2 points in the x axis when the program is started, but, after the object is moved it stays in place."),d(),f(65,"p"),u(66,"To animate an object we can instead move our code to the update method, instead of playing with the object position lets try to change now its rotation by testing the following code."),d(),f(67,"pre")(68,"code",4),u(69),d()(),f(70,"p"),u(71,"If everything works as expected you should see the following animation. To try this example in the editor you can download the "),f(72,"a",5),u(73,"project file"),d(),u(74," or open it on the "),f(75,"a",6),u(76,"Web Editor"),d(),u(77,"."),d(),A(78,"app-viewer",7),f(79,"h3"),u(80,"Keyboard and Mouse input"),d(),f(81,"p"),u(82,"Its possible to use the keyboard and mouse to move objects around. This can be done using the Keyboard and Mouse objects inside scripts. The code bellow rotates an object in the y axis using the mouse delta, and moves the object aroud using keyboard arrow keys."),d(),f(83,"pre")(84,"code",4),u(85),d()(),f(86,"p"),u(87,"If everything works as expected you should be able to move the cube around using the keyboard arrow keys and rotate it using the mouse as shown bellow. To try this example in the editor you can download the "),f(88,"a",8),u(89,"project file"),d(),u(90," or open it on the "),f(91,"a",9),u(92,"Web Editor"),d(),u(93,"."),d(),A(94,"app-viewer",10),f(95,"h3"),u(96,"Getting objects"),d(),f(97,"p"),u(98,"Its possible to access other objects and resources with scripts, in the example bellow we use the scene.getObjectByName() method to get an object by its name (in this case an object named box), if multiple objects with the same name are found the first one is returned."),d(),f(99,"p"),u(100,"Resources are stored in the program, similarly the methods program.getMaterialByName(), program.getTextureByName(), etc can be used to get them, (check the ResourceManager API documentation page for more information)."),d(),f(101,"pre")(102,"code",11),u(103),d()(),f(104,"p"),u(105,"Another way to access objects its by navigating the tree structure, every object has a parent and children, the parent points to the object above and children is an array of all objects bellow."),d(),f(106,"p"),u(107,"In the following code we get the first object placed inside the scripts and make it rotate without rotating the script itself. Be careful when accessing children or parent objects directly since it depends on the object placement in the project a change can break the code."),d(),f(108,"pre")(109,"code",4),u(110),d()(),f(111,"h3"),u(112,"Switch scenes"),d(),f(113,"p"),u(114,"Its possible to create multiple scenes in the editor and switch between them using scripts. Scenes can be accessed from the program variable accessible to all scripts. The setScene() method discards the current scene and loads a new scene it receives the scene name or the scene object (stored in the program.scenes array) as argument"),d(),f(115,"p"),u(116,'The code bellow can be used to switch to the "scene2" after the W key is pressed on the keyboard. To return to the original scene the scene2 has to implement a similar logic there is no automatic scene navigation flow.'),d(),f(117,"pre")(118,"code",4),u(119),d()(),f(120,"h3"),u(121,"Object attributes"),d(),f(122,"p"),u(123,"The self pointer in the script object can be used to store aditional attributes that can be accessed by other scripts. Attributes can also be stored into objects be carefull to avoid collisions with the already existing ones provided by the nunuStudio API."),d(),f(124,"p"),u(125,"In the example bellow we create a counter variable attached to the script object and a increaseCounter function that can be accessed and called by other scripts."),d(),f(126,"pre")(127,"code",4),u(128),d()(),f(129,"h3"),u(130,"DOM Elements"),d(),f(131,"p"),u(132,"Its possible to attach dom elements to the program created. To do this we can use the division property of the program that gives us access to a DOM division element (parent of the canvas element used to draw content) where we can add HTML elements."),d(),f(133,"p"),u(134,"The example below demonstrates how to create a new red division with size 50 x 50 add it to the program and remove it when the program is being closed."),d(),f(135,"pre")(136,"code",4),u(137),d()(),f(138,"h3"),u(139,"Libraries"),d(),f(140,"p"),u(141,"To add external libraries to your script first you need to import the js file into the project, you can just simply drag the JS source file into the asset explorer or go to Import/Text and select the js file."),d(),A(142,"img",12),f(143,"p"),u(144,"After importing the file into the project you can now include it in your script using the include(name) method preferabily at the top of your code. There are multiple include modes available by default the script objects use Evaluate mode the library is evaluated and executed in your script context, the Append mode appends the code of your library on top of your script code, this makes compiling a bit slower but local defined code becomes available to your script. Script mode can be selected in the Script object panel."),d(),f(145,"pre")(146,"code",4),u(147),d()(),f(148,"p"),u(149,"The code above demonstrates how to use moment.js to display date and time on a text object. The library is available for free at https://momentjs.com/. To try this example in the editor you can download the "),f(150,"a",13),u(151,"project file"),d(),u(152," or open it on the "),f(153,"a",14),u(154,"Web Editor"),d(),u(155,"."),d(),A(156,"app-viewer",15),d()(),u(157,"|\n")),2&r&&(G(62),En("function initialize()\n","{","\nself.position.x += 2;\n","}",""),G(7),En("function update()\n","{","\nself.rotation.y += 0.01;\n","}",""),G(16),ei("function update()\n","{","\nself.rotation.y += Mouse.delta.x * 0.01;\n\nif(Keyboard.keyPressed(Keyboard.LEFT))\n","{","\n\tself.position.x -= 0.1;\n","}","\nif(Keyboard.keyPressed(Keyboard.RIGHT))\n","{","\n\tself.position.x += 0.1;\n","}","\n","}",""),G(18),hn("var object;\n\nfunction initialize()\n","{",'\nobject = scene.getObjectByName("box");\n',"}","\n\nfunction update()\n","{","\nobject.rotation.y += 0.01;\n","}",""),G(7),hn("var object;\n\nfunction initialize()\n","{","\nobject = self.children[0];\n","}","\n\nfunction update()\n","{","\nobject.rotation.y += 0.01;\n","}",""),G(9),hn("function update(delta)\n","{","\nif(Keyboard.keyPressed(Keyboard.W))\n","{",'\n\tprogram.setScene("scene2");\n',"}","\n","}",""),G(9),En("self.counter = 0;\n\nself.increaseCounter = function()\n","{","\nself.counter++;\n","}",""),G(9),hn('var element = document.createElement("div");\nelement.style.width = "100px";\nelement.style.height = "100px";\nelement.style.position = "absolute";\nelement.style.top = "0px";\nelement.style.backgroundColor = "#FF0000";\n\nfunction initialize()\n',"{","\n\tprogram.division.appendChild(element);\n","}","\n\nfunction dispose()\n","{","\n\tprogram.division.removeChild(element);\n","}",""),G(10),io('include("moment.min.js"); //https://momentjs.com/\n// include("https://momentjs.com/downloads/moment.min.js");\n\nvar date, hour;\n\nfunction initialize()\n',"{",'\ndate = program.getObjectByName("date");\ndate.setText(moment().format("MMM Do YY"));\n\nhour = program.getObjectByName("hour");\n',"}","\n\nfunction update()\n","{","\nvar text = moment().format('LTS');\nif(text !== hour.text)\n","{","\n\thour.setText(text);\n","}","\n","}","\n\nfunction dispose()\n","{","\ndelete moment;\n","}","\n"))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/shaders",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["shaders-page"]],standalone:!0,features:[Je],decls:18,vars:0,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["href","https://threejs.org/docs/#api/en/materials/ShaderMaterial"],["href","https://threejs.org/docs/#api/en/materials/RawShaderMaterial"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Shaders"),d(),f(6,"p"),u(7,"In this tutorial we will explore how we can write our own shaders code using GLSL inside of nunuStudio. Shader materials can be added to the project, there are two types of shader materials the "),f(8,"a",3),u(9,"ShaderMaterial"),d(),u(10," and "),f(11,"a",4),u(12,"RawShaderMaterial"),d(),u(13,"."),d(),f(14,"p"),u(15,"ShaderMaterial should suit most use cases it is directly based on the three.js shader material and already gives access to the default attributes available in the renderer. RawShaderMaterial gives you more control over but requires a better undestending of the engine underlines."),d(),f(16,"p"),u(17,"Under work!"),d()()())},dependencies:[lt],encapsulation:2})}}return e})()},{path:"learn/basics/terrain",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["terrain-page"]],standalone:!0,features:[Je],decls:26,vars:4,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["href","https://github.com/IceCreamYou/THREE.Terrain"],[1,"hljs","javascript"],["src","assets/learn/basics/terrain/notexture.png",1,"img-normal"],["fname","assets/learn/basics/terrain/terrain.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Terrain"),d(),f(6,"p"),u(7,"Since nunuStudio is built on top of three.js it is possible to use libraries that were designed to work with three. Most of base nunuStudio objects (e.g. Scene, Lights, Meshes etc) are directly based off three.js objects."),d(),f(8,"p"),u(9,"But some parts of the library were rewritten/override and from time to time you may encounter situations where external libraries made for three.js are not compatible with nunuStudio (e.g Post-processing, Renderers etc)."),d(),f(10,"p"),u(11,"In this tutorial we will build a simple program using the "),f(12,"a",3),u(13,"THREE.Terrain"),d(),u(14," library for procedurely generated terrain mesh."),d(),f(15,"p"),u(16,"It is important to understand that nunuStudio has its own resource management solution, but some resource types are based off three.js types, you should use the Material, Texture, Image, etc types available in nunuStudio. These should work for all external libraries (unless these libraries need a specific variant, in this scenario you should use the library specific types programatically)."),d(),f(17,"p"),u(18,"To import external libraries into your project drag the JS file to the resource explorer then import them into your script using the import('library.js'); method after importing the file the library can be used normally."),d(),f(19,"pre")(20,"code",4),u(21),d()(),A(22,"img",5),f(23,"p"),u(24,"Now that we got the library working we can create proper materials and textures to be attached to the library.These resource can be obtained using their name in the script object. Check previous guides for more details on the resource system and how to use them inside of scripts. "),A(25,"app-viewer",6),d()()()),2&r&&(G(21),hn('include("THREE.Terrain.min.js");\n\nfunction initialize()\n',"{","\nvar terrain = THREE.Terrain(","{",'\n\tsteps: 1,\n\tuseBufferGeometry: false,\n\teasing: THREE.Terrain.Linear,\n\tscattering: "SimplexLayers"\n',"}",");\nscene.add(terrain);\n","}","\n"))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/text",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["text-page"]],standalone:!0,features:[Je],decls:31,vars:4,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/text/editor.jpg",2,"width","60%","margin-left","20%"],["src","assets/learn/basics/text/bad.jpg",2,"width","40%","margin-left","10%"],["src","assets/learn/basics/text/good.jpg",2,"width","40%"],[1,"hljs","javascript"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Text"),d(),f(6,"p"),u(7,"nunuStudio has support for 3D text, to create a 3D text object select it from the tool bar. The 3D text object is based on the mesh object, it has a material and a font attached. By default all 3D text objects create use the default font provided with nunuStudio."),d(),A(8,"img",3),f(9,"h3"),u(10,"Load fonts"),d(),f(11,"p"),u(12,"To load new fonts into nunuStudio select font on the import menu inside the asset explorer division or drag a compatible file into the asset explorer or directly into the 3D text object on the scene editor."),d(),f(13,"p"),u(14,"nunuStudio has support for true type fonts and opentype JSON fonts."),d(),f(15,"p"),u(16,"Some fonts migth have some problems due to their shape path being declared CCW, to solve this problem, right click on the font asset and select the option Reverse as shown bellow."),d(),A(17,"img",4)(18,"img",5),f(19,"h3"),u(20,"Change text and font"),d(),f(21,"p"),u(22,"Its possible to edit the text of a 3D Text object on the object panel, but its also possible to do this programmatically using a script object and the following code"),d(),f(23,"pre")(24,"code",6),u(25),d()(),f(26,"p"),u(27,'The code above will get the 3D Text object named "text" and changes it text to "123", its also possible to change the font using the code bellow.'),d(),f(28,"pre")(29,"code",6),u(30),d()()()()),2&r&&(G(25),En("var text;\n\nthis.initialize = function()\n","{",'\ntext = scene.getObjectByName("text");\ntext.setText("123");\n',"}",";"),G(5),En("var text, font;\n\nthis.initialize = function()\n","{",'\nfont = program.getFontByName("font");\ntext = scene.getObjectByName("text");\ntext.setFont(font);\n',"}",";"))},dependencies:[lt],encapsulation:2})}}return e})()},{path:"learn/basics/timeline",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["timeline-page"]],standalone:!0,features:[Je],decls:30,vars:10,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/timeline/create.png",1,"img-big"],["src","assets/learn/basics/timeline/addkeyframe.png",1,"img-big"],["fname","assets/learn/basics/timeline/timeline.nsp"],[1,"hljs","javascript"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Timeline"),d(),f(6,"p"),u(7,"In this guide we will learn how to use the timeline in nunuStudio. It can be used to animate any kind of object inside of nunuStudio. Timeline animations are composed of tracks and keyframes. Each track holds multiple keyframes for a specific attribute of the object, the keyframes are points of the animation that represent the value of that attribute in that specific time point."),d(),f(8,"p"),u(9,"The animation engine interpolates the values between the known keyframes for the animation to be smooth. The animation engine suports multiple interpolation modes allowing the user to select how the value between keyframes should be interpolated."),d(),f(10,"p"),u(11,"To create an animation select an object in the editor, select the Animation tab and click the add animation button. This will create a new default animation with the attributes position, rotation, scale and visible with a duration of three seconds."),d(),A(12,"img",3),f(13,"p"),u(14,"To create a new keyframe drag the timeline bar to the desired time, move the object to the desired position (or change the desired attribute) and click on the + button next to the attribute name that you want to create a keyframe for."),d(),f(15,"p"),u(16,"Use the play button to preview the animation. The animation can be configured repeat after it is finished, never repeat or play in ping pong. When it is configure to repeat in ping pong the animation is played forward and the backwards infinitely."),d(),A(17,"img",4),f(18,"p"),u(19,'To add new attributes to the timeline right click the animation name and select "Add track" this will create a window asking for the object attribute to be edited. Pretty much every attribute of an object or resource can be animated using the timeline feature.'),d(),f(20,"p"),u(21,"In the example bellow the scene has multiple resource and object being animated using the timeline editor of nunuStudio."),d(),A(22,"app-viewer",5),f(23,"p"),u(24,"Animations can be controlled from scripts every object has a mixer property that is used to controll/mix animations to this object can be used to control the playback of all animations running using the play(), pause(), stop() and setTime(time) methods."),d(),f(25,"pre")(26,"code",6),u(27),d()(),f(28,"p"),u(29,"When more than one animation is active the system automatically interpolates between the state of each attribute for all the animations available. Animations speed can be different for each animation playing simultaneously. Each animation timeline is processed indepedently. External file (e.g. fbx, dae, gltf) may contain keyframe animations that are imported with the objects and can be edited using nunuStudio timeline."),d()()()),2&r&&(G(27),Ln(["var cameraAnimation;\nvar camera;\n\nfunction initialize()\n","{",'\ncameraAnimation = true;\ncamera = scene.getObjectByName("camera");\nconsole.log(camera);\n\n',"}","\n\nfunction update(delta)\n","{","\nif(Mouse.buttonJustPressed(Mouse.LEFT))\n","{","\n\tcameraAnimation = !cameraAnimation;\n\n\tif(cameraAnimation)\n\t","{","\n\t\tcamera.mixer.play();\n\t","}","\n\telse\n\t","{","\n\t\tcamera.mixer.pause();\n\t","}","\n","}","\n","}",""]))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/video",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["video-page"]],standalone:!0,features:[Je],decls:20,vars:2,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],[1,"hljs","javascript"],["fname","assets/learn/basics/video/video.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Video"),d(),f(6,"p"),u(7,"In this guide we will explore how to import and use video files in nunuStudio. Video files can be used as textures for objects."),d(),f(8,"p"),u(9,"To load a new video file select Texture and then Video texture, this will create two thing first a video resource that contains the video file select, and a Video texture that uses the video resource to display the file. Alternatively you can drag and drop a video file to the explorer or directly to an object."),d(),f(10,"h3"),u(11,"External files"),d(),f(12,"p"),u(13,"It is possible to load external files from their URL. When using external files if they are a diferent domain don't forget to make sure that the server has the appropiate CORS configuration. The code bellow demonstrates how to create a VideoTexture from an external URL and to use it as a texture for the default material."),d(),f(14,"p"),u(15,"You can choose between a Video resource and a VideoStream resource, the main difference is that Video preloads the whole video files into memory and VideoStream loads the video as it goes."),d(),f(16,"pre")(17,"code",3),u(18),d()(),A(19,"app-viewer",4),d()()),2&r&&(G(18),En("","{",'\nvar texture = new VideoTexture(new VideoStream("sample.mp4"));\nvar material = program.getMaterialByName("default");\nmaterial.emissiveMap = texture;\nmaterial.emissive.setHex(0xFFFFFF);\n',"}",""))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/vr",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["vr-page"]],standalone:!0,features:[Je],decls:31,vars:0,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/vr/editor.jpg",2,"margin-left","20%","width","60%"],["fname","assets/learn/basics/vr/vr.nsp"],[1,"hljs","javascript"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Virtual Reality"),d(),f(6,"h3"),u(7,"WebXR"),d(),f(8,"p"),u(9,"WebXR is an open standard that makes it possible to experience VR and AR in your browser. The goal is to make it easier for everyone to get into expanded reality experiences, no matter what device you have. Is also allows for cross development of application to be run in different environments."),d(),f(10,"p"),u(11,"Two things are required to experience a WebXR application, a headset and a compatible browser. The easiest way to get started is with a basic headset like Google Cardboard. Just drop your phone in and you\u2019re ready to go. "),d(),f(12,"h3"),u(13,"Creating a project"),d(),f(14,"p"),u(15,"To enable vr support on your project, click the program object on the object explorer, and select enable vr in the program panel as shown on the image bellow."),d(),A(16,"img",3),f(17,"p"),u(18,"Enabling WebXR will allow for the user to request vr rendering when the device has WebXR support, when in VR the camera in use will be repositioned automatically to match the HMD position and rotation in the real world. This means that the original camera position is lost when the vr mode is enabled."),d(),f(19,"p"),u(20,"To prevent losing the camera position its recommended for VR applications to place the camera inside a container that can be used as reference and its able to keep it position attributed when rendering in vr mode."),d(),f(21,"p"),u(22,"If everything works as expected you should see something similar to the example running bellow."),d(),A(23,"app-viewer",4),f(24,"h3"),u(25,"Using Controllers"),d(),f(26,"p"),u(27,"It is possible to access VR controllers from the renderer object directly attached to the program in the script objects. The controller object is automatically updated to match the physics controller position its coordinates can be used for interaction with objects in the scene. Its a regular Object3D object where other objects (e.g. Physics colliders, meshes) can be attached as children."),d(),f(28,"pre")(29,"code",5),u(30,'var controller = renderer.xr.getController(0);\ncontroller.addEventListener("selectstart", (...));\ncontroller.addEventListener("selectend", (...));\nscene.add(controller);'),d()()()())},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/basics/water",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["water-page"]],standalone:!0,features:[Je],decls:29,vars:6,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/basics/water/material.jpg",1,"img-normal"],["src","assets/learn/basics/water/normal.jpeg",1,"img-small"],[1,"hljs","javascript"],["fname","assets/learn/basics/water/water.nsp"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Water"),d(),f(6,"p"),u(7,"In this tutorial we will experiment a bit more with materials and learn how to create a simple 3D water effect using textures and a cubecamera object (to create reflections)"),d(),f(8,"p"),u(9,"Lets start by creating a basic scene with some objects and a plane that we will use to create our water, we have to configure our plane geometry to have multiple subdivision, we will need it later to create a wave effect with the material."),d(),f(10,"p"),u(11,"After we have our scene lets create a new material, we can use a standard, physical or phong material for this tutorial. Lets name this material water, this material will be used for our water surface. You can add some color and transparency if you want to."),d(),A(12,"img",3),f(13,"p"),u(14,"To create a water effect we can use a water surface normal map, we can find some of these around the web, here is the one that i have used for this tutorial. We can use our normal map as booth normal map and displacement map, by attaching our normal map as displacement map the only one color channel will be used to create displacement in the surface of our geometry creating a wavy effect that should make our water look even better."),d(),A(15,"img",4),f(16,"p"),u(17,'The texture we added above is static, the following code can be used to animate the texture, it moves our water normal map in the x and y axis. For it to work properly we have to set our texture repetition to "Repeat" mode, otherwise this will not work. To enable vertex animation we could set the needsUpdate attribute of our material and texture to true.'),d(),f(18,"pre")(19,"code",5),u(20),d()(),f(21,"p"),u(22,"Now we have a water like surface but it still does not reflect the environment around it, to add this we can create a cubecamera object. After adding the object to the scene we have to check auto update on, so that we don't have to manually update the cubecamera."),d(),f(23,"pre")(24,"code",5),u(25),d()(),f(26,"p"),u(27,"Our water its much ready right now, i have added a cubemap to make our scene look more complete and a OrbitControl object for camera movement."),d(),A(28,"app-viewer",6),d()()),2&r&&(G(20),hn("var normal;\n\nfunction initialize()\n","{",'\nnormal = program.getTextureByName("normal");\n',"}","\n\nfunction update()\n","{","\nnormal.offset.x += 0.002;\nnormal.offset.y += 0.002;\n","}","\n"),G(5),En("var water, cube;\n\nfunction initialize()\n","{",'\n...\n\nwater = program.getMaterialByName("water");\ncube = scene.getObjectByName("cubecamera");\nwater.envMap = cube.cube;\n',"}",""))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/integration/communication",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["communication-page"]],standalone:!0,features:[Je],decls:33,vars:10,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/integration/communication/scheme.png",1,"img-big"],[1,"hljs","javascript"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Communication"),d(),f(6,"p"),u(7,"In this guide we will learn how to communicate with the applications embedded inside a webpage using messages and how to use DOM elements to control app content."),d(),f(8,"p"),u(9,"To communicate with the host webpage nunuStudio uses a message model system, where the host can send messages to the nunuStudio app and vice-versa, the messages are received using callback functions. To explore more about communication check the App API documentation."),d(),A(10,"img",3),f(11,"h3"),u(12,"Message communication"),d(),f(13,"p"),u(14,"To comunicate with the running application a message communication model is used. The app or the page can send messages to each other that will be catched by callbacks used to process the information sent between them."),d(),f(15,"p"),u(16,"Its also possible to communicate between apps running on the same page, to achieve this we can pass the app objects from the page to the apps."),d(),f(17,"h3"),u(18,"Page to app"),d(),f(19,"p"),u(20,"To send a message from the webpage to the nunuStudio application running the use the app.sendData(data) method. Data can be anything, assuming that the nunuApp is on the same JS context as the sender its possible send even object references."),d(),f(21,"p"),u(22,"To receive these messages inside the app we need to create a onAppData callback and to send data we use the sendDataApp function stored in the program object. The code bellow is a simple example when the nunuStudio app receives data is shows the data on the text object, and every time the key P is pressed the nunuStudio app send a test message to the host webpage."),d(),f(23,"pre")(24,"code",4),u(25),d()(),f(26,"h3"),u(27,"App to page"),d(),f(28,"p"),u(29,"Before sending data from the app to the webpage we need to define a onMessageReceive callback to process received messages. This callback can be defined as shown bellow, every time a message is send from the nunuStudio app to the webpage this function will be called."),d(),f(30,"pre")(31,"code",4),u(32),d()()()()),2&r&&(G(25),io("var text, counter;\nfunction initialize()\n","{",'\n\ttext = scene.getObjectByName("text");\n\tcounter = 0;\n',"}","\n\nfunction update()\n","{","\n\tif(Keyboard.keyJustPressed(Keyboard.P))\n\t","{",'\n\t\tprogram.sendDataApp("test" + counter);\n\t',"}","\n","}","\n\nfunction onAppData(data)\n","{","\n\ttext.setText(data);\n","}",""),G(7),En('//Send data to app\napp.sendData("test text");\n\n//Callback to receive data sent from the app\napp.setOnDataReceived(function(data)\n',"{",'\n\tconsole.log("Received message from nunuStudio app", data);\n',"}",");"))},dependencies:[lt],encapsulation:2})}}return e})()},{path:"learn/integration/embedding",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["embedding-page"]],standalone:!0,features:[Je],decls:68,vars:18,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],[1,"hljs","xml"],[1,"hljs","javascript"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Embedding"),d(),f(6,"p"),u(7,"In this guide we will learn how to embedd a application created inside nunuStudio in a webpage. nunuStudio applications are meant to be used inside web pages, nunuStudio editor can export web pages with the application already embedded in it and with fullscreen and vr buttons by default."),d(),f(8,"p"),u(9,"There are two options for embedding applications in your webpage, the first one can be used to fast embed application with a single line of code, the second one can be used for a more flexible approach, with page communication support or more advanced controls."),d(),f(10,"h3"),u(11,"The fast way"),d(),f(12,"p"),u(13,"This is the fastest way to get a nunuStudio app running on your webpage, simple include the the nunu.min.js file in your webpage, and create a canvas with an id. Add the "),f(14,"code"),u(15,"NunuApp.loadApp('pong.nsp', 'canvas')"),d(),u(16,' line to your body element onload and you are done, "pong.nsp" is the name of our project file and "canvas" is the id of our canvas element.'),d(),f(17,"pre")(18,"code",3),u(19,'<html>\n<head>\n\t<script src="nunu.min.js"><\/script>\n</head>\n<body onload="Nunu.App.loadApp(\'pong.nsp\', \'canvas\')">\n\t<canvas width="800" height="480" id="canvas"></canvas>\n</body>\n</html>'),d()(),f(20,"p"),u(21,"If everything worked as expected you should be able to see a window with the pong application running. You can also import external aplication, they dont need to be stored locally. As an example if you change to "),f(22,"code"),u(23,"NunuApp.loadApp('http://nunustudio.org/examples/files/nunu.nsp', 'canvas')"),d(),u(24," the homepage demo will be loaded instead."),d(),f(25,"h3"),u(26,"Using javascript"),d(),A(27,"p"),f(28,"p"),u(29,"First we need to import the nunu.min.js file to the webpage, this javascript file includes all the code required to run a nunuStudio aplication. After including the runtime file a canvas to display the application is needed, add a canvas to your html code."),d(),f(30,"pre")(31,"code",3),u(32,'\x3c!--Import nunuStudio runtime--\x3e\n<script type="text/javascript" src="nunu.min.js"><\/script>\n\n\x3c!--Canvas used to draw content--\x3e\n<canvas id="canvas"></canvas>'),d()(),f(33,"h3"),u(34,"App object"),d(),f(35,"p"),u(36,"Now lets create a new javascript script with the code bellow, this code creates a new App instance that will use the provided canvas to render the application."),d(),f(37,"p"),u(38,"If you dont want to start running the application immediately you can use the loadProgramAsync() or loadProgram() (not recommended, this blocks the page until all files are loaded), these will load the application files and decode them but will not start running the application immediately, this can be used for preloading applications into an webpage, after the app gets loaded the run() method can be used to start it and the exit() method can be used to kill the application and dispose all resources used."),d(),f(39,"pre")(40,"code",4),u(41),d()(),f(42,"p"),u(43,"To finish we need to call the initialize method after the page loads, and the resize method every time the canvas is resized. To do this we can add the code bellow to the document body declaration."),d(),f(44,"pre")(45,"code",3),u(46,'<body onload="initialize();" onresize="resize();">\n...\n</body>'),d()(),f(47,"h3"),u(48,"Toggle Fullscreen and VR"),d(),f(49,"p"),u(50,"To toggle fullscreen its possible to use the toggleFullscreen method present in the app object, for VR its recomended to check if the browser supports WebVR and if there is a VRDisplay available before creating a button to toggle vr mode. To check for VR support use the following code."),d(),f(51,"pre")(52,"code",4),u(53),d()(),f(54,"h3"),u(55,"Adding a loading bar"),d(),f(56,"p"),u(57,"Booth the loadRunProgram() and the loadProgramAsync() methods provide a onProgress callback field, this callback returns a value from 0.0 to 1.0 that indicates loading progress, this value can be used to control a loading bar."),d(),f(58,"p"),u(59,"A simple way to create a loading bar is by adding a couple of divisions, the code bellow is used for the default loading bar created when exporting web projects directly from the nunuStudio editor."),d(),f(60,"pre")(61,"code",3),u(62,'\x3c!--Loading bar frame--\x3e\n<div style="position:absolute; width:100%; height:7%; left:0%; top:120%; border-style:solid; border-color:#FFFFFF; border-width:2px">\n\x3c!--Loading bar--\x3e\n<div id="bar" style="position:absolute; width:0%; height:100%; left:0%; top:0%; background-color:#FFFFFF">\n</div>'),d()(),f(63,"p"),u(64,"To control the created bar the following code can be used."),d(),f(65,"pre")(66,"code",4),u(67),d()()()()),2&r&&(G(41),hn("var app, canvas;\n\n//Should be called after page load\nfunction initialize()\n","{",'\n//Get the canvas that will be used to draw content\ncanvas = document.getElementById("canvas");\n\n//Create new app intance\napp = new Nunu.App(canvas);\n\n//Load and run the "app.nsp" file\napp.loadRunProgram("app.nsp");\n',"}","\n\n//Should be called every time the window is resized\nfunction resize()\n","{","\n//Update canvas width and height attributes\ncanvas.width = canvas.offsetWidth;\ncanvas.height = canvas.offsetHeight;\n\n//Resize app\napp.resize();\n","}",""),G(12),io("//Toggle fullscreen mode\nfunction toggleFullscreen()\n","{","\napp.toggleFullscreen(document.body);\n","}","\n\n//Toggle VR mode\nfunction toggleVR()\n","{","\napp.toggleVR();\n","}","\n\n//Check if VR is available\nif(app.vrAvailable())\n","{","\n//Check if there are displays available add button\nNunu.getVRDisplays(function(display)\n","{",'\n\tbutton = document.getElementById("vr");\n\tbutton.style.visibility = "visible";\n',"}",");\n","}",""),G(14),ei('//onProgress callback\nvar bar = document.getElementById("bar");\nvar onProgress = function(event)\n',"{","\nif(event.lengthComputable)\n","{",'\n\tvar progress = event.loaded / event.total * 100;\n\tbar.style.width = progress + "%";\n',"}","\n","}",";\n\n//onLoad callback\nvar onLoad = function()","{","","}",';\n\n//Load and run app\napp.loadRunProgram("app.nsp", onLoad, onProgress);'))},dependencies:[lt],encapsulation:2})}}return e})()},{path:"learn/tutorial/platformer",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["platformer-page"]],standalone:!0,features:[Je],decls:214,vars:84,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/tutorial/platformer/images/a.png",1,"img-normal"],["src","assets/learn/tutorial/platformer/images/b.png",1,"img-small"],["src","assets/learn/tutorial/platformer/images/c.png",1,"img-normal"],["src","assets/learn/tutorial/platformer/images/d.png",1,"img-small"],["src","assets/learn/tutorial/platformer/images/e.png",1,"img-normal"],["src","assets/learn/tutorial/platformer/images/f.png",1,"img-small"],["src","assets/learn/tutorial/platformer/images/g.png",1,"img-small"],["src","assets/learn/tutorial/platformer/images/h.png",1,"img-normal"],["href","assets/learn/tutorial/platformer/steps/a.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor/index.html?nsp=../assets/learn/tutorial/platformer/steps/a.nsp",1,"underline"],["src","assets/learn/tutorial/platformer/images/i.png",1,"img-normal"],[1,"hljs","javascript"],["href","../../../docs/classes/Keyboard.html",1,"underline"],["href","assets/learn/tutorial/platformer/steps/b.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor/index.html?nsp=../assets/learn/tutorial/platformer/steps/b.nsp",1,"underline"],["src","assets/learn/tutorial/platformer/images/j.png",1,"img-normal"],["src","assets/learn/tutorial/platformer/images/k.png",1,"img-normal"],["src","assets/learn/tutorial/platformer/images/l.png",1,"img-small"],["src","assets/learn/tutorial/platformer/images/m.png",1,"img-normal"],["href","assets/learn/tutorial/platformer/steps/c.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor/index.html?nsp=../assets/learn/tutorial/platformer/steps/c.nsp",1,"underline"],["href","http://html5gamepad.com/",1,"underline"],["href","../../../docs/classes/Gamepad.html",1,"underline"],["src","assets/learn/tutorial/platformer/images/n.png",1,"img-big"],["src","assets/learn/tutorial/platformer/images/p.png",1,"img-normal"],["fname","assets/learn/tutorial/platformer/platformer.nsp"],["src","assets/learn/tutorial/platformer/images/t.png",1,"img-normal"],["href","assets/learn/tutorial/platformer/steps/e.nsp",1,"underline"],["href","https://tentone.github.io/nunuStudio/editor/index.html?nsp=../assets/learn/tutorial/platformer/steps/e.nsp",1,"underline"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Platformer"),d(),f(6,"p"),u(7,"In this tutorial we will learn how to create a simple platformer game inside nunuStudio. We will explore how to control physics elements, import external resources and use keyboard and gamepad input."),d(),f(8,"p"),u(9,"This should take about 2 to 3 hours to complete, but its totally fine for new programmers to take longer, don't rush it take your time and try to understand every step of the tutorial."),d(),f(10,"p"),u(11,"For this tutorial some previous programming experience is recommended but i will try to explain as much as possible every code needed."),d(),f(12,"h3"),u(13,"Creating a level"),d(),f(14,"p"),u(15,"Lets start by creating a simple level for our game. All interactive objects in our game should be created using the physics objects. Phyics objects are invisible, to make them visible in the game we need to attach a visual representation to them."),d(),f(16,"p"),u(17,"Start by adding a physics cube, when selected the physics cube will be shown in the editor in green, but when we press start it will becore invisible."),d(),A(18,"img",3),f(19,"p"),u(20,"Lets now add a visual representation to our cube, we achieve this by creating a new cube and attaching it as children of the physics cube. To add the new cube as children of the physics cube drag it on the object explorer on top of the physics cube."),d(),A(21,"img",4),f(22,"p"),u(23,"After adding a visual representation to our cube we can see that it falls bellow the existing floor, to prevent this we need to add some additional physics elements to be used as floor for our cube."),d(),f(24,"p"),u(25,"We can move, resize and scale our cube physics object and the children objects will be afected as well."),d(),A(26,"img",5),f(27,"p"),u(28,'The new physics elements need to be configured as static. Static physics element don\'t move around, they are only used as static walls. To configure the physics as static select it and set the "Type" in the object panel to Static.'),d(),A(29,"img",6),f(30,"p"),u(31,"Lets now add a camera to our project, cameras controll how the player will see the world, we will use a perspective camera, perspective cameras allow the player to perceive depth and see 3D objects, orthographic cameras are 2D cameras they don't allow the player to perceive distance."),d(),A(32,"img",7),f(33,"p"),u(34,'After adding the camera to our scene we need to make it our default camera, to achieve this select the camera object and select the "Use camera" option in the object panel.'),d(),A(35,"img",8),f(36,"p"),u(37,"Now lets create a new material to make it easier to distinguish our player and the walls we created. To create a new material open the Material menu on the asset explorer and select Standard or Phong Material. To apply the new material to our objects drag it from the asset explorer to the object. I colored mine red but you can choose whatever color you want and even add a texture if you want to."),d(),A(38,"img",9),f(39,"p"),u(40,"After adding the material to our cube that we will use as our player we are ready to move on to coding our character behavior. If everything went as expected you should have something similar to this on your computer."),d(),A(41,"img",10),f(42,"p"),u(43,"If you are having some trouble completing this part of the tutorial you can download the project file or can download the "),f(44,"a",11),u(45,"project file"),d(),u(46," or open it on the "),f(47,"a",12),u(48,"Web Editor"),d(),u(49,"."),d(),f(50,"h3"),u(51,"Player control"),d(),f(52,"p"),u(53,"To move our player around we need to create a new script that will be used to controll the player using the keyboard keys. Scripts are objects, so they have a position, rotation, scale, etc, and can have objects attached as children."),d(),f(54,"p"),u(55,'To open the code editor double click the script object on the object explorer or right click on top of it and select "Script editor", a new tab will be open with the code editor.'),d(),A(56,"img",13),f(57,"p"),u(58,"In this tutorial we will use a single script object to controll all objects in the scene, but is possible to have multiple scripts."),d(),f(59,"p"),u(60,"Lets start by getting the player object in our script, to get the player object we can use its name, lets rename our physics cube (that will be used as our player) to player. After that we can use the code bellow to get the player object and store it in a variable."),d(),f(61,"pre")(62,"code",14),u(63),d()(),f(64,"p"),u(65,"To get keyboard input we have the Keyboard object, that offers keyPressed, keyJustPressed and keyJustRelease methods that allow us to detect when the user has pressed and released a specific key in the keyboard. For this guide we will use the WASD keys."),d(),f(66,"p"),u(67,"To move the player around we will manipulate its body, physics bodies have position, velocity, acceleration and force attributes. We change manipulate those to make the player move around, for better control of the player movement we will manipulate the velocity attribute."),d(),f(68,"p"),u(69,"To code bellow detects when the user has pressed the A, W and D key and sets the player velocity accordingly. But after a bit of time we can the see that the player falls of our platform, that because our body is a cube and ends up rotating a bit on its corners changing its direction. To use other keys in the Keyboard check the "),f(70,"a",15),u(71,"Keyboard API documentation"),d(),u(72,"."),d(),f(73,"pre")(74,"code",14),u(75),d()(),f(76,"p"),u(77,"To avoid our player falling down our level we need to block its movement on the Z axis we can achieve this by forcing its position and/or velocity to 0 on that axis."),d(),f(78,"pre")(79,"code",14),u(80),d()(),f(81,"p"),u(82,"Now there is still a problem left to solve, everytime the player keeps the W key pressed the player keeps going up. We can only let our player jump when he is touching the ground. To achieve this we need to check if our player is on the ground and create a new variable that will be set true when the player is touching the ground."),d(),f(83,"p"),u(84,"To check if the player has touched the ground, we will create a new callback for the cannon.js world postStep event, this callback is called every time after the physics engine updates the object position, we can get a list of contact points and check if those contact points belong to our player if they do that means our player is colliding with something. Now we only need to check the orientation of the contact point, for that we will check the dot product of the contact point direction and the surface normal (we will assume a normal pointing up) is its the floor that should give us a result near 0, we will assume that any value bellow 0.1 is the floor and we will set a canJump flag to true if so."),d(),f(85,"pre")(86,"code",14),u(87),d()(),f(88,"p"),u(89,"Now we are able to control our character and have it moving properly around our level, but our camera is still static, to make it follow our character we can simply equal its position in the X and Y coordinates to the player position."),d(),f(90,"pre")(91,"code",14),u(92),d()(),f(93,"p"),u(94,"If you are having some trouble completing this part of the tutorial you can download the project fileou can download the "),f(95,"a",16),u(96,"project file"),d(),u(97," or open it on the "),f(98,"a",17),u(99,"Web Editor"),d(),u(100,"."),d(),f(101,"h3"),u(102,"Enemies"),d(),f(103,"p"),u(104,"We got our player moving but we still cant die, and dont have any obstacles to avoid or enemies to kill. Dont worry we will take care of that now."),d(),f(105,"p"),u(106,"Lets start by making our level a bit bigger, add more platforms some places where we can fall off, the fastest way to do this is by duplicating our already existing floor and after rotating, scaling and moving it around, be carefull we want to apply these changes to the physics object not to the visual representation."),d(),A(107,"img",18),f(108,"p"),u(109,"Now lets create some obstacles, first lets start with static obstacles and after we can make them move. I will add obstacles in red and change my player color to green, obstacles will also be static physics objects."),d(),A(110,"img",19),f(111,"p"),u(112,"After adding our enemies lets create a new group and add all enemies to that group, so that we can distinguish enemies from normal walls and other physics objects. In your object explorer you new group should look something like this."),d(),A(113,"img",20),f(114,"p"),u(115,'Now lets get back to our script and add code to detect collision with enemies, lets start by adding an attribute "isEnemy" to all our enemies that we added to the group we just created. We also need to store our player spawn position so that when we die we get back to that position.'),d(),f(116,"pre")(117,"code",14),u(118),d()(),f(119,"p"),u(120,"After this we need to add the enemy collision check to the callback we created ealier in our physics world, we just need to check is there is a isEnemy true value and if so reset our character position and speed."),d(),f(121,"pre")(122,"code",14),u(123),d()(),f(124,"p"),u(125,"Before moving on to moving enemies lets add a new static enemy under the floor so that the player dies when it falls off the level, this enemy doesn't need a visual representation."),d(),A(126,"img",21),f(127,"p"),u(128,"Now lets make our enemies move, lets choose on of our enemies, create a new script and attach that script as child of the enemy we choose. We can make our enemies move in a couple of different ways."),d(),f(129,"p"),u(130,"Bellow is the full code used for this script, it moves the object around from one position to another in looop, it can be ajusted to be easily ajusted and reused to move other objects (for example to create moving platforms)."),d(),f(131,"pre")(132,"code",14),u(133),d()(),f(134,"p"),u(135,"You should have now a moving enemy in your game, duplicate the created script and attach it to other object to make them move as well, try to create a moving platform like the ones in super mario games."),d(),f(136,"p"),u(137,"If you are having some trouble completing this part of the tutorial you can download the project file you can download the "),f(138,"a",22),u(139,"project file"),d(),u(140," or open it on the "),f(141,"a",23),u(142,"Web Editor"),d(),u(143,"."),d(),f(144,"h3"),u(145,"Gamepad input"),d(),f(146,"p"),u(147,"To add support for gamepad input we can create a Gamepad object in our script, the gamepad object allows us to get input from an USB gamepad, different gamepads might have different button mapping you can use "),f(148,"a",24),u(149,"this website"),d(),u(150," to check you gamepad button mapping. To check the name of other buttons in the Gamepad check the "),f(151,"a",25),u(152,"Gamepad API documentation"),d(),u(153,"."),d(),f(154,"pre")(155,"code",14),u(156),d()(),f(157,"h3"),u(158,"Put the pieces together"),d(),f(159,"p"),u(160,"Now we already have all basic blocks to make a complete platformer level lets take them and build complete level with actual game assets and tweak gameplay a little bit. To make it easier to overview our level we can use the 2D editor mode (can be toggled in the top right corner of the scene explorer)."),d(),A(161,"img",26),f(162,"p"),u(163,"Were almost done now its the time to add textures and decoration to our level, this is a good time to experiment to use some of the decoration objects like Particles, LensFlare, etc. I haven't done much regarding decoration simply added a couple of materials and colored everything up, added a LensFlare effect and some particles floating around the level."),d(),A(164,"img",27),f(165,"p"),u(166,"Since the player movement was also a little slow i tweaked it a bit by adding the option to run using the keyboard shift key and tweaking the movement to have an acceleration curve instead of instant move."),d(),f(167,"p"),u(168,"At the beginning of this tutorial i was planning to change the cube for a ball or lock its rotation but since i find it kinda of funny to see the cube tumbling around so i will leave it like this."),d(),f(169,"pre")(170,"code",14),u(171),d()(),f(172,"h3"),u(173,"Result"),d(),f(174,"p"),u(175,"If you were able to make it this far congratulations, you have created an awseome platformer game. This should cover all the basic aspects for platformer games. If you have any doubt about any of the steps in the tutorial, feel free to ask me about it."),d(),f(176,"p"),u(177,"You can try the final result of this tutorial bellow (wasd keys to move)."),d(),A(178,"app-viewer",28),f(179,"h3"),u(180,"Tweaking player controls"),d(),f(181,"p"),u(182,"If you wish to make the controls feel more like those in a classic platformer without the cube tumbling around the level you can add these little tweaks"),d(),f(183,"p"),u(184,"First, we need to change the player physics object to a sphere instead of a cube. This way our player will roll easily and won't get stuck to the walls. I chose to make the scale of the sphere "),f(185,"code"),u(186,"(0.5, 0.5 , 0.5)"),d(),u(187," this way it fits our "),f(188,"code"),u(189,"(1.0, 1.0, 1.0)"),d(),u(190," cube."),d(),A(191,"img",29),f(192,"p"),u(193,"As you can see in red we have also changed the angular damping value, this makes it so our ball won't roll very far after you released the button. You can tweak this value to find the one that suits you the most. I found that "),f(194,"code"),u(195,"0.999"),d(),u(196," works pretty good."),d(),f(197,"p"),u(198,"As you can see there is also a blue cube named 'playermesh', this mesh will represent our player. This can be a custom model if you wish, but make sure to change the sphere scale to fit your model."),d(),f(199,"p"),u(200,"We're almost done now, all we have to do is to teleport our player mesh to the physics object every frame, we can do this by copying the physics position to our player mesh in our update function."),d(),f(201,"pre")(202,"code",14),u(203),d()(),f(204,"p"),u(205,"If you followed all the steps you should now have smoother controls on your player. You can of course experiment with it as much as you want."),d(),f(206,"p"),u(207,"If you are having some trouble completing this part of the tutorial you can download the project file ou can download the "),f(208,"a",30),u(209,"project file"),d(),u(210," or open it on the "),f(211,"a",31),u(212,"Web Editor"),d(),u(213,"."),d()()()),2&r&&(G(63),En("var player;\n\nfunction initialize()\n","{",'\nplayer = scene.getObjectByName("player");\n',"}",""),G(12),io("function update()\n","{","\nif(Keyboard.keyPressed(Keyboard.A))\n","{","\n\tplayer.body.velocity.x = -5;\n","}","\nif(Keyboard.keyPressed(Keyboard.D))\n","{","\n\tplayer.body.velocity.x = 5;\n","}","\n\nif(Keyboard.keyJustPressed(Keyboard.W))\n","{","\n\tplayer.body.velocity.y = 10;\n","}","\n","}",""),G(5),En("function update()\n","{","\n...\n\nplayer.body.position.z = 0;\n","}",""),G(7),Ln(["var player, world;\n\nfunction initialize()\n","{",'\nworld = scene.world;\nplayer = scene.getObjectByName("player");\nplayer.canJump = false;\n\nvar up = new Vector3(0, 1, 0);\nvar temp = new Vector3(0, 0, 0);\n\nworld.addEventListener("postStep", function(e)\n',"{","\n\tif(world.contacts.length > 0)\n\t","{","\n\t\tfor(var i = 0; i < world.contacts.length; i++)\n\t\t","{","\n\t\t\t//Get contact points\n\t\t\tvar contact = world.contacts[i];\n\n\t\t\t//Check if any of the physics elements in the contact is our player\n\t\t\tif(contact.bi.id === player.body.id || contact.bj.id === player.body.id)\n\t\t\t","{","\n\t\t\t\t//If our player is the first element negate direction and store in temp\n\t\t\t\tif(contact.bi.id === player.body.id)\n\t\t\t\t","{","\n\t\t\t\t\tcontact.ni.negate(temp);\n\t\t\t\t","}","\n\t\t\t\t//Else store direction in temp\n\t\t\t\telse\n\t\t\t\t","{","\n\t\t\t\t\tcontact.ni.copy(temp);\n\t\t\t\t","}","\n\n\t\t\t\t//If dot product if near 0 player is touching the floor and can jump again\n\t\t\t\tif(temp.dot(up) > 0.1)\n\t\t\t\t","{","\n\t\t\t\t\tplayer.canJump = true;\n\t\t\t\t","}","\n\t\t\t","}","\n\t\t","}","\n\t","}","\n","}",");\n","}","\n\nfunction update()\n","{","\n...\n\n\nif(player.canJump && Keyboard.keyJustPressed(Keyboard.W))\n","{","\n\tplayer.body.velocity.y = 10;\n\tplayer.canJump = false;\n","}","\n\n...\n\n","}",""]),G(5),hn("var player, world, camera;\n\nfunction initialize()\n","{",'\ncamera = scene.getObjectByName("camera");\n\n...\n',"}","\n\nfunction update()\n","{","\n...\n\ncamera.position.x = player.body.position.x;\ncamera.position.y = player.body.position.y + 2;\n","}",""),G(26),hn("function initialize()\n","{",'\n...\n\nplayer.spawn = player.position.clone();\n\nvar enemies = scene.getObjectByName("enemies");\nfor(var i = 0; i < enemies.children.length; i++)\n',"{","\n\tenemies.children[i].body.isEnemy = true;\n","}","\n\n...\n","}",""),G(5),io("function initialize()\n","{",'\n...\n\nworld.addEventListener("postStep", function(e)\n',"{","\n\tif(world.contacts.length > 0)\n\t","{","\n\t\tfor(var i = 0; i < world.contacts.length; i++)\n\t\t","{","\n\t\t\t//Get contact points\n\t\t\tvar contact = world.contacts[i];\n\n\t\t\t//Check if any of the physics elements in the contact is our player\n\t\t\tif(contact.bi.id === player.body.id || contact.bj.id === player.body.id)\n\t\t\t","{","\n\t\t\t\t//Check if is an enemy\n\t\t\t\tif(contact.bi.isEnemy || contact.bj.isEnemy)\n\t\t\t\t","{","\n\t\t\t\t\tplayer.body.position.set(player.spawn.x, player.spawn.y, player.spawn.z);\n\t\t\t\t\tplayer.body.velocity.set(0, 0, 0);\n\t\t\t\t","}","\n\n...\n","}",""),G(10),Ln(["var velocity = 0.05;\nvar min = -5;\nvar max = 5;\nvar direction = 1;\n\nvar enemy;\n\nfunction initialize()\n","{","\n//Get enemy\nenemy = self.parent;\n\n//Store a copy of original position\nenemy.spawn = enemy.position.clone();\n","}","\n\nfunction update()\n","{","\n//Position direction\nif(direction > 0)\n","{","\n\t//Check if position reached max\n\tif(enemy.body.position.x < enemy.spawn.x + max)\n\t","{","\n\t\tenemy.body.position.x += velocity;\n\t","}","\n\t//Invert direction\n\telse\n\t","{","\n\t\tdirection = -1;\n\t","}","\n","}","\n//Negative direction\nelse\n","{","\n\t//Check if position reached min\n\tif(enemy.body.position.x > enemy.spawn.x + min)\n\t","{","\n\t\tenemy.body.position.x -= velocity;\n\t","}","\n\t//Invert direction\n\telse\n\t","{","\n\t\tdirection = 1;\n\t","}","\n","}","\n","}","\n"]),G(23),hn("var gamepad;\n\nfunction initialize()\n","{","\ngamepad = new Gamepad();\n\n...\n","}","\n\nfunction update()\n","{","\ngamepad.update();\n\nif(Keyboard.keyPressed(Keyboard.A) || gamepad.buttonPressed(Gamepad.LEFT))\n\n...\n","}",""),G(15),Ln(["function update()\n","{","\n\n...\n\nvar velocity = 6;\nvar acceleration = 0.6;\n\nif(Keyboard.keyPressed(Keyboard.SHIFT))\n","{","\n\tvelocity = 8;\n\tacceleration = 1;\n","}","\n\nif(Keyboard.keyPressed(Keyboard.A) || gamepad.buttonPressed(Gamepad.LEFT))\n","{","\n\tif(player.body.velocity.x > -velocity)\n\t","{","\n\t\tplayer.body.velocity.x -= acceleration;\n\t","}","\n","}","\nif(Keyboard.keyPressed(Keyboard.D) || gamepad.buttonPressed(Gamepad.RIGHT))\n","{","\n\tif(player.body.velocity.x < velocity)\n\t","{","\n\t\tplayer.body.velocity.x += acceleration;\n\t","}","\n","}","\n\n...\n\n","}",""]),G(32),hn("var playermesh;\n\nfunction initialize()\n","{",'\n...\n\nplayermesh = scene.getObjectByName("playermesh");\n\n...\n',"}",";\n\nfunction update()\n","{","\n...\n\n//Copy the position of our physics object to our player mesh\nplayermesh.position.copy(player.body.position);\n\n...\n","}",""))},dependencies:[lt,en],encapsulation:2})}}return e})()},{path:"learn/tutorial/networking",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["networking-page"]],standalone:!0,features:[Je],decls:106,vars:110,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],["src","assets/learn/tutorial/networking/chat.png",1,"img-normal"],[1,"hljs","javascript"],["src","assets/learn/tutorial/networking/level.jpg",1,"img-normal"],["src","assets/learn/tutorial/networking/player.jpg",1,"img-small"],["src","assets/learn/tutorial/networking/connected.png",1,"img-big"],["href","assets/learn/tutorial/networking/files.zip",1,"underline"],["src","assets/learn/tutorial/networking/game.jpg",1,"img-big"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Mutiplayer Shooter"),d(),f(6,"p"),u(7,"In this tutorial we will experimet with networking using WebSockets and we will create a simple networked multiplayer game. For this tutorial node.js will be used to develop the server aplication. I have decided to use node.js simply because it uses the same language (javascript) used inside nunuStudio, but you can choose another framework/language to implement the server."),d(),f(8,"p"),u(9,"Lets start by covering the basics about WebSockets, what they are and how can we use them to create a web based multiplayer game, websockets are an technology that makes it possible to open an interactive communication session between the user's browser and a server, using them its possible to send messages to a server and receive event-driven responses without having to poll the server for a reply."),d(),f(10,"p"),u(11,"A single websocket server can be used to interconnect multiple clients, the server works as an intermediary in data exchange, lets take a message chat as an example, each clients connects to the server and tells the server who he is, when sending a message the client tells the server for who the message is destinated and the server redirects that message to its destination, that is also is a client connected to the server."),d(),A(12,"img",3),f(13,"p"),u(14,"Lets start by installing the required nodejs dependencies for this tutorial, we will only need the websocket dependency use the command bellow to install it using your computer terminal/command."),d(),f(15,"code")(16,"pre"),u(17,"npm -g install websocket"),d()(),f(18,"p"),u(19,"To set up our server code, we will start by importing the required node modules, after that a http server instance is created and configured with the correct port (we can use any port we want to), after that we create a WebSocketServer that will allow us to send and receive messages to the clients connected to the server. During the tutorial for convenience we will only use JSON messages but we can send any type of data."),d(),f(20,"p"),u(21,"The code bellow will be used as a base for our server, it takes care of all the steps necessary to establish connection with a client, from now on we will only focus on messages exchange. For the tutorial we will be using the port 1111 and localhost for communication make sure that you change this to the correct IP and configure port access if you are using an external server."),d(),f(22,"pre")(23,"code",4),u(24),d()(),f(25,"p"),u(26,'The code bellow is the client part that we will write inside nunuStudio, as we can see the code to connect to a WebSocket is really simple and actually similar to the one used to create the server itself, when starting the client part in nunuStudio you should be able to see a "Connected to server" message in the console.'),d(),f(27,"pre")(28,"code",4),u(29),d()(),f(30,"p"),u(31,"Now lets send a simple message to the server and create a response to the message we sent, we will include in every message sent a type value to allow the server to differentiate message and a uuid to allow the server to distinguish clients. To send a message we will use the WebSocket send method, all of our message will be JSON encoded so we have to call JSON.stringify on our client to transform our objects to text format and JSON.parse to recreate the object on the server."),d(),f(32,"p"),u(33,"The code bellow is the the client side."),d(),f(34,"pre")(35,"code",4),u(36),d()(),f(37,"p"),u(38,"The code bellow is the server side."),d(),f(39,"pre")(40,"code",4),u(41),d()(),f(42,"p"),u(43,"If everything is working as expected we should now be able to exchange messages between the client and the server, we can use the serialization method provided by nunuStudio to send and update states of objects in our scene between multiple clients."),d(),f(44,"p"),u(45,"Let\u2019s now start creating our level, let\u2019s start with a couple of walls preferably in a defined position in my case I have placed my walls exactly at position 20 on the X axis and 12 on the Z axis, knowing the wall position will be helpful later for manual collision checking."),d(),A(46,"img",5),f(47,"p"),u(48,"After creating the level lets now create our player, i started by just using a cube, and programmed the movement of the player, the player will move using WASD keys and will always be rotated in the mouse direction, when the mouse button is pressed the player will shoot a bullet."),d(),f(49,"p"),u(50,"To make the player always look at the mouse position we need to get world coordinates for where our mouse is pointing, for that we can use the ray caster object available in our scene and use it to check mouse intersection with the ground object."),d(),f(51,"p"),u(52,'The code bellow implements all the player initialization and movement. After the player status is updated an "update" message will be sent to the server, when the server receives this message it will redistribute it to all other clients so that they can update the remote player instance status.'),d(),f(53,"pre")(54,"code",4),u(55),d()(),f(56,"p"),u(57,"If you want to you can customize your player to look a bit better, i added a couple eyes to mine and a stick that will act as its weapon."),d(),A(58,"img",6),f(59,"p"),u(60,"Now let\u2019s synchronize the position between multiple clients, let\u2019s create a simple data structure to store Players in our server and in our clients. The code bellow implements the base data structures required in the server, the server will store Players and Connections in a list and redistribute the player status to all other players in the server."),d(),f(61,"pre")(62,"code",4),u(63),d()(),f(64,"p"),u(65,'When the player connects to the server it needs to send a "connected" message with initial data about the player like its UUID and the color used to represent it in the world. When the server receives this message the player is added to the players and connections arrays. When the player updates its state the "update" message is send, this message contains the player actual position and rotation and when it disconnects or dies a "disconnected" message is sent.'),d(),f(66,"p"),u(67,'When the client receives an "update" message from the server (the server only redistributes these messages), the client needs to check if the player is already known if thats the case its position and rotation is updated, otherwise the player is created with the color and uuid indicated in the message, when a "disconnected" message is received the player indicated is destroyed.'),d(),f(68,"p"),u(69,"The code bellow is the client part, with all code necessary to add, update and remove players from the game."),d(),f(70,"pre")(71,"code",4),u(72),d()(),f(73,"p"),u(74,"The code bellow is the server part, for the server two arrays are maintaned one with connections and one with players."),d(),f(75,"pre")(76,"code",4),u(77),d()(),f(78,"p"),u(79,"If everything is working as expected you should be able to connect multiple clients to the server and see them move around, to test with multiple clients you can export a web version of the project and open inside your browser of choice."),d(),A(80,"img",7),f(81,"p"),u(82,"We are almost finished, just need to add the bullets and we are ready for the bullets we will do something similar to the player movement but instead of having the bullet position being updated by the client who sent it each client will update the bullets position and check collision locally, this should allow to reduce the amount of data transferred trough the server."),d(),f(83,"p"),u(84,'The code bellow implements the bullet creation and update, all bullets are store in an array and updated every frame, when a player shoots a bullet a "bullet" message is sent to the server and redistributed to all clients. If the bullets hits the player the player dies and a "disconnected" message is sent to the server.'),d(),f(85,"pre")(86,"code",4),u(87),d()(),f(88,"p"),u(89,'In the server side the "bullet" message is only distributed to all connected clients.'),d(),f(90,"pre")(91,"code",4),u(92),d()(),f(93,"p"),u(94,"The game is pretty much ready now, we just need to add some code to make sure that the clients sends a disconnected message when the user closes the window, this can be easily done by adding a dispose function to the script. The dispose message is called automatically when the application terminates."),d(),f(95,"pre")(96,"code",4),u(97),d()(),f(98,"p"),u(99,"If you were able to follow all the steps congratulations, the mechanism explain in this tutorial for message exchange using websockets can easily adapted for other type of applications and used outside of nunuStudio."),d(),f(100,"p"),u(101,"I hope this tutorial was helpful, you can donwload the "),f(102,"a",8),u(103,"project files here"),d(),u(104,". Any question feel free to email me or open an issue in GitHub."),d(),A(105,"img",9),d()()),2&r&&(G(24),io('var WebSocketServer = require("websocket").server;\nvar http = require("http");\n\nvar port = 1111;\n\nvar server = http.createServer();\nserver.listen(port);\n\nconsole.log("Server running at port " + port);\n\nvar wsServer = new WebSocketServer(',"{","httpServer: server","}",');\nwsServer.on("request", function(request)\n',"{",'\nvar connection = request.accept(null, request.origin);\n\nconnection.on("message", function(message)\n',"{","\n\t//Message handling code here\n","}",');\n\nconnection.on("close", function(connection)\n',"{","\n\t//User disconnected code here\n","}",");\n","}",");"),G(5),hn("var connection, connected = false;\n\nfunction initialize()\n","{",'\nconnection = new WebSocket("ws://127.0.0.1:1337");\n\nconnection.onopen = function()\n',"{",'\n\tconnected = true;\n\tconsole.log("Connected to server");\n',"}",";\n","}",""),G(7),hn("uuid = THREE.Math.generateUUID();\n...\nconnection.onopen = function()\n","{",'\nconsole.log("Connected to server");\nconnection.send(JSON.stringify(\n',"{",'\n\ttype:"connected",\n\tuuid:uuid\n',"}","));\n","}",";"),G(5),En('connection.on("message", function(message)\n',"{",'\nconsole.log("Message received");\nvar data = JSON.parse(message.utf8Data);\n',"}",");"),G(14),Ln(["function initialize()\n","{",'\n//Player\nplayer = scene.getObjectByName("player");\nplayer.material.color.setHex(Math.random() * 0xFFFFFF);\nplayer.uuid = THREE.Math.generateUUID();\nplayer.canFire = true;\nplayer.alive = true;\n\n//Ground\nground = scene.getObjectByName("ground");\n\n//Clock\nclock = new Clock();\nclock.start();\n\n...\n',"}","\n\nfunction update()\n","{","\nvar delta = clock.getDelta();\n\nif(connected)\n","{","\n\tif(player.alive)\n\t","{","\n\t\t//Move player\n\t\tvar speed = delta * 10;\n\t\tif(Keyboard.keyPressed(Keyboard.W)) player.position.z -= speed;\n\t\tif(Keyboard.keyPressed(Keyboard.S)) player.position.z += speed;\n\t\tif(Keyboard.keyPressed(Keyboard.A)) player.position.x -= speed;\n\t\tif(Keyboard.keyPressed(Keyboard.D)) player.position.x += speed;\n\n\t\t//Limit player movement\n\t\tif(player.position.x > 19) player.position.x = 19;\n\t\tif(player.position.x < -19) player.position.x = -19;\n\t\tif(player.position.z > 11) player.position.z = 11;\n\t\tif(player.position.z < -11) player.position.z = -11;\n\n\t\t//Mouse rotation\n\t\tvar intersect = scene.raycaster.intersectObject(ground);\n\t\tif(intersect.length > 0)\n\t\t","{","\n\t\t\tvar point = intersect[0].point;\n\t\t\tpoint.y = player.position.y;\n\t\t\tplayer.lookAt(point);\n\n\t\t\t//Fire bullet\n\t\t\tif(player.canFire && Mouse.buttonJustPressed(Mouse.LEFT))\n\t\t\t","{","\n\t\t\t\t//TODO Create bullet\n\n\t\t\t\tplayer.canFire = false;\n\t\t\t\tsetTimeout(function()\n\t\t\t\t","{","\n\t\t\t\t\tplayer.canFire = true;\n\t\t\t\t","}",", 500);\n\t\t\t","}","\n\t\t","}","\n\t","}","\n","}","\n","}",""]),G(8),hn("var players = [], clients = [];\n\nfunction Player(uuid, color)\n","{","\nthis.uuid = uuid;\nthis.color = color;\nthis.position = null;\nthis.rotation = null;\n","}","\n\nfunction Client(uuid, connection)\n","{","\nthis.uuid = uuid;\nthis.connection = connection;\n","}",""),G(9),Ln(["var players = [];\n\nfunction initialize()\n","{","\n...\n\nwebsocket.onopen = function()\n","{","\n\twebsocket.send(JSON.stringify(\n\t","{",'\n\t\ttype: "connected",\n\t\tuuid: player.uuid,\n\t\tcolor: player.material.color.getHex()\n\t',"}","));\n\t...\n","}",";\n\nwebsocket.onmessage = function(message)\n","{",'\n\tvar data = JSON.parse(message.data);\n\n\tif(data.type === "update")\n\t',"{","\n\t\tvar uuid = data.uuid;\n\n\t\tif(data.uuid !== player.uuid)\n\t\t","{","\n\t\t\tvar object = players[data.uuid];\n\n\t\t\tif(object === undefined)\n\t\t\t","{","\n\t\t\t\tvar material = new MeshPhongMaterial(","{","color: data.color","}",");\n\t\t\t\tvar object = player.clone();\n\t\t\t\tobject.material = material;\n\t\t\t\tobject.uuid = data.uuid;\n\t\t\t\tobject.color = data.color;\n\t\t\t\tscene.add(object);\n\t\t\t\tplayers[uuid] = object;\n\t\t\t","}","\n\n\t\t\tobject.position.fromArray(data.position);\n\t\t\tobject.rotation.fromArray(data.rotation);\n\t\t","}","\n\t","}",'\n\telse if(data.type === "disconnect")\n\t',"{","\n\t\tif(players[data.uuid] !== undefined)\n\t\t","{","\n\t\t\tplayers[data.uuid].destroy();\n\t\t\tdelete players[data.uuid];\n\t\t","}","\n\t","}","\n","}",";\n","}","\n\nfunction update()\n","{","\n...\n\nif(connected)\n","{","\n\t...\n\n\t//Update message\n\twebsocket.send(JSON.stringify(\n\t","{",'\n\t\ttype: "update",\n\t\tuuid: player.uuid,\n\t\tposition: player.position.toArray(),\n\t\trotation: player.rotation.toArray()\n\t',"}","));\n","}","\n","}",""]),G(5),Ln(['server.on("request", function(request)\n',"{",'\nvar connection = request.accept(null, request.origin);\n\n//Message\nconnection.on("message", function(message)\n',"{",'\n\tvar data = JSON.parse(message.utf8Data);\n\n\t//Connected\n\tif(data.type === "connected")\n\t',"{",'\n\t\tplayers.push(new Player(data.uuid, data.color));\n\t\tclients.push(new Client(data.uuid, connection));\n\n\t\tconsole.log("Player " + data.uuid + " connected");\n\t',"}",'\n\t//Update\n\telse if(data.type === "update")\n\t',"{","\n\t\tvar player = getPlayer(data.uuid);\n\n\t\tif(player !== null)\n\t\t","{","\n\t\t\tplayer.position = data.position;\n\t\t\tplayer.rotation = data.rotation;\n\t\t","}","\n\n\t\tfor(var i = 0; i < clients.length; i++)\n\t\t","{","\n\t\t\tclients[i].connection.sendUTF(message.utf8Data);\n\t\t","}","\n\t","}",'\n\t//Disconnected\n\telse if(data.type === "disconnect")\n\t',"{","\n\t\tremovePlayer(data.uuid);\n\n\t\tfor(var i = 0; i < clients.length; i++)\n\t\t","{","\n\t\t\tclients[i].connection.sendUTF(message.utf8Data);\n\t\t","}",'\n\n\t\tconsole.log("Player " + data.uuid + " disconnected");\n\t',"}","\n","}",");\n","}",""]),G(10),Ln(["function update()\n","{","\n...\n\n","{","\n\t...\n\t","{","\n\t\t...\n\t\t//Mouse rotation\n\t\tvar intersect = scene.raycaster.intersectObject(ground);\n\t\tif(intersect.length > 0)\n\t\t","{","\n\t\t\tvar point = intersect[0].point;\n\t\t\tpoint.y = player.position.y;\n\t\t\tplayer.lookAt(point);\n\n\t\t\t//Fire bullet\n\t\t\tif(player.canFire && Mouse.buttonJustPressed(Mouse.LEFT))\n\t\t\t","{","\n\t\t\t\tvar bullet = new Mesh(bulletGeometry, bulletMaterial);\n\t\t\t\tbullet.owner = player.uuid;\n\t\t\t\tbullet.velocity = point;\n\t\t\t\tbullet.velocity.sub(player.position);\n\t\t\t\tbullet.velocity.normalize();\n\t\t\t\tbullet.velocity.multiplyScalar(20);\n\t\t\t\tbullet.position.copy(player.position);\n\t\t\t\tbullets.push(bullet);\n\t\t\t\tscene.add(bullet);\n\n\t\t\t\tplayer.canFire = false;\n\t\t\t\tsetTimeout(function()\n\t\t\t\t","{","\n\t\t\t\t\tplayer.canFire = true;\n\t\t\t\t","}",", 500);\n\n\t\t\t\twebsocket.send(JSON.stringify(\n\t\t\t\t","{",'\n\t\t\t\t\ttype: "bullet",\n\t\t\t\t\tuuid: player.uuid,\n\t\t\t\t\tposition: bullet.position.toArray(),\n\t\t\t\t\tvelocity: bullet.velocity.toArray()\n\t\t\t\t',"}","));\n\t\t\t","}","\n\t\t","}","\n\t","}","\n\n\t//Update bullets\n\tfor(var i = 0; i < bullets.length; i++)\n\t","{","\n\t\tvar bullet = bullets[i];\n\n\t\tbullet.position.x += bullet.velocity.x * delta;\n\t\tbullet.position.y += bullet.velocity.y * delta;\n\t\tbullet.position.z += bullet.velocity.z * delta;\n\n\t\t//Check bullet out of arena\n\t\tif(bullet.position.x > 20 || bullet.position.x < -20 || bullet.position.z > 12 || bullet.position.z < -12)\n\t\t","{","\n\t\t\tbullet.destroy();\n\t\t\tbullets.splice(i, 1);\n\t\t\tcontinue;\n\t\t","}","\n\n\t\t//Check collision with players\n\t\tif(bullet.owner !== player.uuid && bullet.position.distanceTo(player.position) < 0.8)\n\t\t","{","\n\t\t\tbullet.destroy();\n\t\t\tbullets.splice(i, 1);\n\n\t\t\tplayer.destroy();\n\t\t\tplayer.alive = false;\n\n\t\t\twebsocket.send(JSON.stringify(\n\t\t\t","{",'\n\t\t\t\ttype: "disconnect",\n\t\t\t\tuuid: player.uuid\n\t\t\t',"}","));\n\t\t\tbreak;\n\t\t","}","\n\t","}","\n\n\t...\n","}","\n","}",""]),G(5),ei('connection.on("message", function(message)\n',"{",'\n...\nelse if(data.type === "bullet")\n',"{","\n\tfor(var i = 0; i < clients.length; i++)\n\t","{","\n\t\tclients[i].connection.sendUTF(message.utf8Data);\n\t","}",'\n\n\tconsole.log("Player " + data.uuid + " fired bullet!");\n',"}","\n...\n","}",""),G(5),hn("function dispose()\n","{","\nwebsocket.send(JSON.stringify(\n","{",'\n\ttype: "disconnect",\n\tuuid: player.uuid\n',"}","));\n\nwebsocket.close();\n","}",""))},dependencies:[lt],encapsulation:2})}}return e})()},{path:"learn/tutorial/minecraft",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["minecraft-page"]],standalone:!0,features:[Je],decls:29,vars:12,consts:[[2,"padding-top","15px","padding-bottom","15px"],[1,"container"],["routerLink","/learn",1,"btn","btn-outline-dark",2,"margin-top","5px"],[1,"hljs","javascript"],["src","assets/learn/tutorial/minecraft/images/a.png",1,"img-normal"]],template:function(r,o){1&r&&(f(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Back"),d(),f(4,"h2"),u(5,"Minecraft"),d(),f(6,"p"),u(7,"In this tutorial we will learn how to create a minecraft clone with a simple voxel generator, basic navigation and building capabilities."),d(),f(8,"p"),u(9,"Most of this tutorial will be code based, TODO."),d(),f(10,"h3"),u(11,"Creating a basic world"),d(),f(12,"p"),u(13,"Lets start by creating a simple minecraft like world using trignometric functions. The code bellow generates a wordls with size (200, 200), the block height is calculated by the coside of x plus the cosine z times the sine of x."),d(),f(14,"p"),u(15,"Feel free to experiment with the terrain generation code, until you find a configuration that you like."),d(),f(16,"pre")(17,"code",3),u(18),d()(),f(19,"p"),u(20,"The image bellow represents the result generated by the code above. The performance of this approach will be very slow since we are updating 40000 individual objects every frame, this will be very expensive on CPU and memory resources. But don't worry about it its totally fine we will improve this by merging all the cubes into a single mesh."),d(),A(21,"img",4),f(22,"p"),u(23,"The code bellow shows how to create the world from merged geometry, by translating and merging multiple times the cube geometry into the same geometry."),d(),f(24,"p"),u(25,"Performance will be really good, but there is a problem with this approach, to remove a cube from the geometry we have to change the hole geometry."),d(),f(26,"pre")(27,"code",3),u(28),d()()()()),2&r&&(G(18),ei("function initialize()\n","{",'\nvar geometry = new BoxBufferGeometry(1, 1, 1);\nvar material = program.getMaterialByName("phong");\n\nfor(var x = 0; x < 200; x++)\n',"{","\n\tfor(var z = 0; z < 200; z++)\n\t","{","\n\t\tvar cube = new Mesh(geometry, material);\n\t\tcube.position.set(x, Math.floor(Math.cos(x / 25) * 5 + Math.cos(z / 20 * Math.sin(x / 100) * 2) * 3), z);\n\t\tscene.add(cube);\n\t","}","\n","}","\n","}",""),G(10),ei("function initialize()\n","{","\nvar geometry = new Geometry();\nvar cube = new BoxGeometry(1, 1, 1);\nvar matrix = new Matrix4();\n\nfor(var x = 0; x < 200; x++)\n","{","\n\tfor(var z = 0; z < 200; z++)\n\t","{","\n\t\tmatrix.makeTranslation(x, heightFunction(x, z), z);\n\t\tgeometry.merge(cube, matrix);\n\t","}","\n","}",'\n\nvar material = program.getMaterialByName("phong");\nvar mesh = new Mesh(geometry, material);\nscene.add(mesh);\n',"}",""))},dependencies:[lt],encapsulation:2})}}return e})()}],EB=["canvas"],CB=["bar"];function _B(e,t){if(1&e){const n=To();f(0,"div",11),kr("click",function(){return wo(n),Do(no().app.toggleVR())}),A(1,"img",12),d()}}function IB(e,t){if(1&e){const n=To();f(0,"div",13),kr("click",function(){return wo(n),Do(no().app.toggleAR())}),A(1,"img",14),d()}}const SB=[{path:"example",component:(()=>{class e{ngOnInit(){try{const n=location.search.substring(1).split("&");if(n.length>0){let r=unescape(n[0].split("=")[1]).replace(new RegExp('"',"g"),"");this.app=new Nunu.App(this.canvas.nativeElement),this.app.loadRunProgram(r,void 0,(o,i)=>{this.bar.nativeElement.style.width=o+"%"})}}catch{alert("Error loading the application, check the file path.")}}ngAfterViewChecked(){this.app.resize()}ngOnDestroy(){this.app.exit()}toggleVR(){this.app.vrAvailable()&&this.app.toggleVR()}toggleFullscreen(){this.app.toggleFullscreen()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["example-page"]],viewQuery:function(r,o){if(1&r&&(Mo(EB,7),Mo(CB,7)),2&r){let i;ro(i=oo())&&(o.canvas=i.first),ro(i=oo())&&(o.bar=i.first)}},standalone:!0,features:[Je],decls:11,vars:2,consts:[["bar",""],["canvas",""],["oncontextmenu","return false;"],[2,"position","absolute","z-index","10000","right","30px","bottom","30px",3,"click"],["src","assets/icons/fullscreen.png","onmouseenter","this.style.opacity = 1.0;","onmouseleave","this.style.opacity=0.4;",2,"position","absolute","cursor","pointer","opacity","0.4","width","25px","height","25px"],[2,"position","absolute","z-index","10000","right","70px","bottom","30px"],[2,"position","absolute","z-index","10000","right","110px","bottom","30px"],[2,"position","absolute","width","50%","left","25%","top","35%"],[2,"position","absolute","width","100%","height","7%","left","0%","top","120%","border-style","solid","border-color","#FFFFFF","border-width","2px"],["id","bar",2,"position","absolute","width","0%","height","100%","left","0%","top","0%","background-color","#FFFFFF"],[2,"position","absolute","width","100%","height","100%","top","0px","left","0px"],[2,"position","absolute","z-index","10000","right","70px","bottom","30px",3,"click"],["src","assets/icons/vr.png","onmouseenter","this.style.opacity = 1.0;","onmouseleave","this.style.opacity=0.4;",2,"position","absolute","cursor","pointer","opacity","0.4","width","25px","height","25px"],[2,"position","absolute","z-index","10000","right","110px","bottom","30px",3,"click"],["src","assets/icons/ar.png","onmouseenter","this.style.opacity = 1.0;","onmouseleave","this.style.opacity=0.4;",2,"position","absolute","cursor","pointer","opacity","0.4","width","25px","height","25px"]],template:function(r,o){if(1&r){const i=To();f(0,"div",2)(1,"div",3),kr("click",function(){return wo(i),Do(o.app.toggleFullscreen())}),A(2,"img",4),d(),_s(3,_B,2,0,"div",5)(4,IB,2,0,"div",6),f(5,"div",7)(6,"div",8,0),A(8,"div",9),d()(),A(9,"canvas",10,1),d()}2&r&&(G(3),Xo(o.app.vrAvailable()?3:-1),G(),Xo(o.app.arAvailable()?4:-1))},encapsulation:2})}}return e})()},{path:"",component:lB,children:[{path:"",component:oB},{path:"download",component:iB},{path:"learn",component:fB}].concat(DB)}];let TS=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Qi({type:e})}static{this.\u0275inj=ai({imports:[_S.forRoot(SB),_S]})}}return e})(),TB=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["app-page"]],standalone:!0,features:[Je],decls:1,vars:0,template:function(r,o){1&r&&A(0,"router-outlet")},dependencies:[Td],encapsulation:2})}}return e})();$e(935),yt().registerLanguage("javascript",gn()),yt().registerLanguage("xml",_n()),yt().registerLanguage("python",mn()),yt().initHighlightingOnLoad(),function L2(e,t){zP({rootComponent:e,...J_(t)})}(TB,{providers:[Fm($2,TS)]})},958:At=>{function Mt(T){Object.freeze(T);var B="function"==typeof T;return Object.getOwnPropertyNames(T).forEach(function(X){Object.hasOwnProperty.call(T,X)&&null!==T[X]&&("object"==typeof T[X]||"function"==typeof T[X])&&(!B||"caller"!==X&&"callee"!==X&&"arguments"!==X)&&!Object.isFrozen(T[X])&&Mt(T[X])}),T}class $e{constructor(B){void 0===B.data&&(B.data={}),this.data=B.data}ignoreMatch(){this.ignore=!0}}function zt(T){return T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function yt(T,...B){var X={};for(const Ve in T)X[Ve]=T[Ve];return B.forEach(function(Ve){for(const je in Ve)X[je]=Ve[je]}),X}function on(T){return T.nodeName.toLowerCase()}var mn=Object.freeze({__proto__:null,escapeHTML:zt,inherit:yt,nodeStream:function gn(T){var B=[];return function X(Ve,je){for(var Ge=Ve.firstChild;Ge;Ge=Ge.nextSibling)3===Ge.nodeType?je+=Ge.nodeValue.length:1===Ge.nodeType&&(B.push({event:"start",offset:je,node:Ge}),je=X(Ge,je),on(Ge).match(/br|hr|img|input/)||B.push({event:"stop",offset:je,node:Ge}));return je}(T,0),B},mergeStreams:function tn(T,B,X){var Ve=0,je="",Ge=[];function cn(){return T.length&&B.length?T[0].offset!==B[0].offset?T[0].offset<B[0].offset?T:B:"start"===B[0].event?T:B:T.length?T:B}function W(b){je+="<"+on(b)+[].map.call(b.attributes,function R(w){return" "+w.nodeName+'="'+zt(w.value)+'"'}).join("")+">"}function Ee(b){je+="</"+on(b)+">"}function ae(b){("start"===b.event?W:Ee)(b.node)}for(;T.length||B.length;){var v=cn();if(je+=zt(X.substring(Ve,v[0].offset)),Ve=v[0].offset,v===T){Ge.reverse().forEach(Ee);do{ae(v.splice(0,1)[0]),v=cn()}while(v===T&&v.length&&v[0].offset===Ve);Ge.reverse().forEach(W)}else"start"===v[0].event?Ge.push(v[0].node):Ge.pop(),ae(v.splice(0,1)[0])}return je+zt(X.substr(Ve))}});const _n=T=>!!T.kind;class In{constructor(B,X){this.buffer="",this.classPrefix=X.classPrefix,B.walk(this)}addText(B){this.buffer+=zt(B)}openNode(B){if(!_n(B))return;let X=B.kind;B.sublanguage||(X=`${this.classPrefix}${X}`),this.span(X)}closeNode(B){_n(B)&&(this.buffer+="</span>")}value(){return this.buffer}span(B){this.buffer+=`<span class="${B}">`}}class ze{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(B){this.top.children.push(B)}openNode(B){const X={kind:B,children:[]};this.add(X),this.stack.push(X)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(B){return this.constructor._walk(B,this.rootNode)}static _walk(B,X){return"string"==typeof X?B.addText(X):X.children&&(B.openNode(X),X.children.forEach(Ve=>this._walk(B,Ve)),B.closeNode(X)),B}static _collapse(B){"string"!=typeof B&&B.children&&(B.children.every(X=>"string"==typeof X)?B.children=[B.children.join("")]:B.children.forEach(X=>{ze._collapse(X)}))}}class Gt extends ze{constructor(B){super(),this.options=B}addKeyword(B,X){""!==B&&(this.openNode(X),this.addText(B),this.closeNode())}addText(B){""!==B&&this.add(B)}addSublanguage(B,X){const Ve=B.root;Ve.kind=X,Ve.sublanguage=!0,this.add(Ve)}toHTML(){return new In(this,this.options).value()}finalize(){return!0}}function Ot(T){return T?"string"==typeof T?T:T.source:null}const yn="[a-zA-Z]\\w*",ut="[a-zA-Z_]\\w*",Er="\\b\\d+(\\.\\d+)?",ar="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Vr="\\b(0b[01]+)",sn={begin:"\\\\[\\s\\S]",relevance:0},Cr={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[sn]},po={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[sn]},Tn={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},cr=function(T,B,X={}){var Ve=yt({className:"comment",begin:T,end:B,contains:[]},X);return Ve.contains.push(Tn),Ve.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),Ve},lr=cr("//","$"),Un=cr("/\\*","\\*/"),Hn=cr("#","$");var Ur=Object.freeze({__proto__:null,IDENT_RE:yn,UNDERSCORE_IDENT_RE:ut,NUMBER_RE:Er,C_NUMBER_RE:ar,BINARY_NUMBER_RE:Vr,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(T={})=>{const B=/^#![ ]*\//;return T.binary&&(T.begin=function fe(...T){return T.map(X=>Ot(X)).join("")}(B,/.*\b/,T.binary,/\b.*/)),yt({className:"meta",begin:B,end:/$/,relevance:0,"on:begin":(X,Ve)=>{0!==X.index&&Ve.ignoreMatch()}},T)},BACKSLASH_ESCAPE:sn,APOS_STRING_MODE:Cr,QUOTE_STRING_MODE:po,PHRASAL_WORDS_MODE:Tn,COMMENT:cr,C_LINE_COMMENT_MODE:lr,C_BLOCK_COMMENT_MODE:Un,HASH_COMMENT_MODE:Hn,NUMBER_MODE:{className:"number",begin:Er,relevance:0},C_NUMBER_MODE:{className:"number",begin:ar,relevance:0},BINARY_NUMBER_MODE:{className:"number",begin:Vr,relevance:0},CSS_NUMBER_MODE:{className:"number",begin:Er+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},REGEXP_MODE:{begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[sn,{begin:/\[/,end:/\]/,relevance:0,contains:[sn]}]}]},TITLE_MODE:{className:"title",begin:yn,relevance:0},UNDERSCORE_TITLE_MODE:{className:"title",begin:ut,relevance:0},METHOD_GUARD:{begin:"\\.\\s*"+ut,relevance:0},END_SAME_AS_BEGIN:function(T){return Object.assign(T,{"on:begin":(B,X)=>{X.data._beginMatch=B[1]},"on:end":(B,X)=>{X.data._beginMatch!==B[1]&&X.ignoreMatch()}})}}),zi="of and for in not or if then".split(" ");function Jn(T){function B(W,Ee){return new RegExp(Ot(W),"m"+(T.case_insensitive?"i":"")+(Ee?"g":""))}class X{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Ee,ae){ae.position=this.position++,this.matchIndexes[this.matchAt]=ae,this.regexes.push([ae,Ee]),this.matchAt+=function Dr(T){return new RegExp(T.toString()+"|").exec("").length-1}(Ee)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const Ee=this.regexes.map(ae=>ae[1]);this.matcherRe=B(function Sn(T,B="|"){for(var X=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,Ve=0,je="",Ge=0;Ge<T.length;Ge++){var cn=Ve+=1,W=Ot(T[Ge]);for(Ge>0&&(je+=B),je+="(";W.length>0;){var Ee=X.exec(W);if(null==Ee){je+=W;break}je+=W.substring(0,Ee.index),W=W.substring(Ee.index+Ee[0].length),"\\"===Ee[0][0]&&Ee[1]?je+="\\"+String(Number(Ee[1])+cn):(je+=Ee[0],"("===Ee[0]&&Ve++)}je+=")"}return je}(Ee),!0),this.lastIndex=0}exec(Ee){this.matcherRe.lastIndex=this.lastIndex;const ae=this.matcherRe.exec(Ee);if(!ae)return null;const v=ae.findIndex((R,w)=>w>0&&void 0!==R),b=this.matchIndexes[v];return ae.splice(0,v),Object.assign(ae,b)}}class Ve{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Ee){if(this.multiRegexes[Ee])return this.multiRegexes[Ee];const ae=new X;return this.rules.slice(Ee).forEach(([v,b])=>ae.addRule(v,b)),ae.compile(),this.multiRegexes[Ee]=ae,ae}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(Ee,ae){this.rules.push([Ee,ae]),"begin"===ae.type&&this.count++}exec(Ee){const ae=this.getMatcher(this.regexIndex);ae.lastIndex=this.lastIndex;let v=ae.exec(Ee);if(this.resumingScanAtSamePosition()&&(!v||v.index!==this.lastIndex)){const b=this.getMatcher(0);b.lastIndex=this.lastIndex+1,v=b.exec(Ee)}return v&&(this.regexIndex+=v.position+1,this.regexIndex===this.count&&this.considerAll()),v}}function Ge(W,Ee){("."===W.input[W.index-1]||"."===W.input[W.index+W[0].length])&&Ee.ignoreMatch()}if(T.contains&&T.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return function cn(W,Ee){const ae=W;if(W.compiled)return ae;W.compiled=!0,W.__beforeBegin=null,W.keywords=W.keywords||W.beginKeywords;let v=null;if("object"==typeof W.keywords&&(v=W.keywords.$pattern,delete W.keywords.$pattern),W.keywords&&(W.keywords=function la(T,B){var X={};return"string"==typeof T?Ve("keyword",T):Object.keys(T).forEach(function(je){Ve(je,T[je])}),X;function Ve(je,Ge){B&&(Ge=Ge.toLowerCase()),Ge.split(" ").forEach(function(cn){var W=cn.split("|");X[W[0]]=[je,Gi(W[0],W[1])]})}}(W.keywords,T.case_insensitive)),W.lexemes&&v)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return ae.keywordPatternRe=B(W.lexemes||v||/\w+/,!0),Ee&&(W.beginKeywords&&(W.begin="\\b("+W.beginKeywords.split(" ").join("|")+")(?=\\b|\\s)",W.__beforeBegin=Ge),W.begin||(W.begin=/\B|\b/),ae.beginRe=B(W.begin),W.endSameAsBegin&&(W.end=W.begin),!W.end&&!W.endsWithParent&&(W.end=/\B|\b/),W.end&&(ae.endRe=B(W.end)),ae.terminator_end=Ot(W.end)||"",W.endsWithParent&&Ee.terminator_end&&(ae.terminator_end+=(W.end?"|":"")+Ee.terminator_end)),W.illegal&&(ae.illegalRe=B(W.illegal)),void 0===W.relevance&&(W.relevance=1),W.contains||(W.contains=[]),W.contains=[].concat(...W.contains.map(function(b){return function Mn(T){return T.variants&&!T.cached_variants&&(T.cached_variants=T.variants.map(function(B){return yt(T,{variants:null},B)})),T.cached_variants?T.cached_variants:ca(T)?yt(T,{starts:T.starts?yt(T.starts):null}):Object.isFrozen(T)?yt(T):T}("self"===b?W:b)})),W.contains.forEach(function(b){cn(b,ae)}),W.starts&&cn(W.starts,Ee),ae.matcher=function je(W){const Ee=new Ve;return W.contains.forEach(ae=>Ee.addRule(ae.begin,{rule:ae,type:"begin"})),W.terminator_end&&Ee.addRule(W.terminator_end,{type:"end"}),W.illegal&&Ee.addRule(W.illegal,{type:"illegal"}),Ee}(ae),ae}(T)}function ca(T){return!!T&&(T.endsWithParent||ca(T.starts))}function Gi(T,B){return B?Number(B):function ua(T){return zi.includes(T.toLowerCase())}(T)?0:1}const Wi={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!hljs.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,zt(this.code);let T;return this.autoDetect?(T=hljs.highlightAuto(this.code),this.detectedLanguage=T.language):(T=hljs.highlight(this.language,this.code,this.ignoreIllegals),this.detectectLanguage=this.language),T.value},autoDetect(){return!this.language||function fa(T){return!(!T&&""!==T)}(this.autodetect)},ignoreIllegals:()=>!0},render(T){return T("pre",{},[T("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},Kc={install(T){T.component("highlightjs",Wi)}},Fo=zt,go=yt,{nodeStream:Hr,mergeStreams:ht}=mn,Lo=Symbol("nomatch");var jo=function(T){var B=[],X=Object.create(null),Ve=Object.create(null),je=[],Ge=!0,cn=/(^(<[^>]+>|\t|)+|\n)/gm,W="Could not find the language '{}', did you forget to load/include a language module?";const Ee={disableAutodetect:!0,name:"Plain text",contains:[]};var ae={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:Gt};function v(F){return ae.noHighlightRe.test(F)}function R(F,ie,K,q){var Q={code:ie,language:F};J("before:highlight",Q);var pe=Q.result?Q.result:w(Q.language,Q.code,K,q);return pe.code=Q.code,J("after:highlight",pe),pe}function w(F,ie,K,q){var Q=ie;function pe(V,L){var O=gt.case_insensitive?L[0].toLowerCase():L[0];return Object.prototype.hasOwnProperty.call(V.keywords,O)&&V.keywords[O]}function Te(){null!=we.subLanguage?function te(){if(""!==j){var V=null;if("string"==typeof we.subLanguage){if(!X[we.subLanguage])return void tt.addText(j);V=w(we.subLanguage,j,!0,qt[we.subLanguage]),qt[we.subLanguage]=V.top}else V=$(j,we.subLanguage.length?we.subLanguage:null);we.relevance>0&&(U+=V.relevance),tt.addSublanguage(V.emitter,V.language)}}():function re(){if(!we.keywords)return void tt.addText(j);let V=0;we.keywordPatternRe.lastIndex=0;let L=we.keywordPatternRe.exec(j),O="";for(;L;){O+=j.substring(V,L.index);const le=pe(we,L);if(le){const[Y,Ke]=le;tt.addText(O),O="",U+=Ke,tt.addKeyword(L[0],Y)}else O+=L[0];V=we.keywordPatternRe.lastIndex,L=we.keywordPatternRe.exec(j)}O+=j.substr(V),tt.addText(O)}(),j=""}function Me(V){return V.className&&tt.openNode(V.className),we=Object.create(V,{parent:{value:we}})}function Ct(V,L,O){let le=function Ue(T,B){var X=T&&T.exec(B);return X&&0===X.index}(V.endRe,O);if(le){if(V["on:end"]){const Y=new $e(V);V["on:end"](L,Y),Y.ignore&&(le=!1)}if(le){for(;V.endsParent&&V.parent;)V=V.parent;return V}}if(V.endsWithParent)return Ct(V.parent,L,O)}function ke(V){return 0===we.matcher.regexIndex?(j+=V[0],1):(Z=!0,0)}function D(V){var L=V[0],O=Q.substr(V.index),le=Ct(we,V,O);if(!le)return Lo;var Y=we;Y.skip?j+=L:(Y.returnEnd||Y.excludeEnd||(j+=L),Te(),Y.excludeEnd&&(j=L));do{we.className&&tt.closeNode(),!we.skip&&!we.subLanguage&&(U+=we.relevance),we=we.parent}while(we!==le.parent);return le.starts&&(le.endSameAsBegin&&(le.starts.endRe=le.endRe),Me(le.starts)),Y.returnEnd?0:L.length}var ue={};function _e(V,L){var O=L&&L[0];if(j+=V,null==O)return Te(),0;if("begin"===ue.type&&"end"===L.type&&ue.index===L.index&&""===O){if(j+=Q.slice(L.index,L.index+1),!Ge){const Y=new Error("0 width match regex");throw Y.languageName=F,Y.badRule=ue.rule,Y}return 1}if(ue=L,"begin"===L.type)return function C(V){var L=V[0],O=V.rule;const le=new $e(O),Y=[O.__beforeBegin,O["on:begin"]];for(const Ke of Y)if(Ke&&(Ke(V,le),le.ignore))return ke(L);return O&&O.endSameAsBegin&&(O.endRe=function be(T){return new RegExp(T.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}(L)),O.skip?j+=L:(O.excludeBegin&&(j+=L),Te(),!O.returnBegin&&!O.excludeBegin&&(j=L)),Me(O),O.returnBegin?0:L.length}(L);if("illegal"===L.type&&!K){const Y=new Error('Illegal lexeme "'+O+'" for mode "'+(we.className||"<unnamed>")+'"');throw Y.mode=we,Y}if("end"===L.type){var le=D(L);if(le!==Lo)return le}if("illegal"===L.type&&""===O)return 1;if(z>1e5&&z>3*L.index)throw new Error("potential infinite loop, way more iterations than matches");return j+=O,O.length}var gt=it(F);if(!gt)throw console.error(W.replace("{}",F)),new Error('Unknown language: "'+F+'"');var We=Jn(gt),kt="",we=q||We,qt={},tt=new ae.__emitter(ae);!function E(){for(var V=[],L=we;L!==gt;L=L.parent)L.className&&V.unshift(L.className);V.forEach(O=>tt.openNode(O))}();var j="",U=0,I=0,z=0,Z=!1;try{for(we.matcher.considerAll();;){z++,Z?Z=!1:we.matcher.considerAll(),we.matcher.lastIndex=I;const V=we.matcher.exec(Q);if(!V)break;const O=_e(Q.substring(I,V.index),V);I=V.index+O}return _e(Q.substr(I)),tt.closeAllNodes(),tt.finalize(),kt=tt.toHTML(),{relevance:U,value:kt,language:F,illegal:!1,emitter:tt,top:we}}catch(V){if(V.message&&V.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:V.message,context:Q.slice(I-100,I+100),mode:V.mode},sofar:kt,relevance:0,value:Fo(Q),emitter:tt};if(Ge)return{illegal:!1,relevance:0,value:Fo(Q),emitter:tt,language:F,top:we,errorRaised:V};throw V}}function $(F,ie){ie=ie||ae.languages||Object.keys(X);var K=function N(F){const ie={relevance:0,emitter:new ae.__emitter(ae),value:Fo(F),illegal:!1,top:Ee};return ie.emitter.addText(F),ie}(F),q=K;return ie.filter(it).filter(vt).forEach(function(Q){var pe=w(Q,F,!1);pe.language=Q,pe.relevance>q.relevance&&(q=pe),pe.relevance>K.relevance&&(q=K,K=pe)}),q.language&&(K.second_best=q),K}function ce(F){return ae.tabReplace||ae.useBR?F.replace(cn,ie=>"\n"===ie?ae.useBR?"<br>":ie:ae.tabReplace?ie.replace(/\t/g,ae.tabReplace):ie):F}function he(F){let ie=null;const K=function b(F){var ie=F.className+" ";const K=ae.languageDetectRe.exec(ie+=F.parentNode?F.parentNode.className:"");if(K){var q=it(K[1]);return q||(console.warn(W.replace("{}",K[1])),console.warn("Falling back to no-highlight mode for this block.",F)),q?K[1]:"no-highlight"}return ie.split(/\s+/).find(Q=>v(Q)||it(Q))}(F);if(v(K))return;J("before:highlightBlock",{block:F,language:K}),ae.useBR?(ie=document.createElement("div"),ie.innerHTML=F.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n")):ie=F;const q=ie.textContent,Q=K?R(K,q,!0):$(q),pe=Hr(ie);if(pe.length){const re=document.createElement("div");re.innerHTML=Q.value,Q.value=ht(pe,Hr(re),q)}Q.value=ce(Q.value),J("after:highlightBlock",{block:F,result:Q}),F.innerHTML=Q.value,F.className=function se(F,ie,K){var q=ie?Ve[ie]:K,Q=[F.trim()];return F.match(/\bhljs\b/)||Q.push("hljs"),F.includes(q)||Q.push(q),Q.join(" ").trim()}(F.className,K,Q.language),F.result={language:Q.language,re:Q.relevance,relavance:Q.relevance},Q.second_best&&(F.second_best={language:Q.second_best.language,re:Q.second_best.relevance,relavance:Q.second_best.relevance})}const ne=()=>{if(!ne.called){ne.called=!0;var F=document.querySelectorAll("pre code");B.forEach.call(F,he)}};function it(F){return F=(F||"").toLowerCase(),X[F]||X[Ve[F]]}function Pt(F,{languageName:ie}){"string"==typeof F&&(F=[F]),F.forEach(K=>{Ve[K]=ie})}function vt(F){var ie=it(F);return ie&&!ie.disableAutodetect}function J(F,ie){var K=F;je.forEach(function(q){q[K]&&q[K](ie)})}Object.assign(T,{highlight:R,highlightAuto:$,fixMarkup:function et(F){return console.warn("fixMarkup is deprecated and will be removed entirely in v11.0"),console.warn("Please see https://github.com/highlightjs/highlight.js/issues/2534"),ce(F)},highlightBlock:he,configure:function Ce(F){F.useBR&&(console.warn("'useBR' option is deprecated and will be removed entirely in v11.0"),console.warn("Please see https://github.com/highlightjs/highlight.js/issues/2559")),ae=go(ae,F)},initHighlighting:ne,initHighlightingOnLoad:function Ie(){window.addEventListener("DOMContentLoaded",ne,!1)},registerLanguage:function Le(F,ie){var K=null;try{K=ie(T)}catch(q){if(console.error("Language definition for '{}' could not be registered.".replace("{}",F)),!Ge)throw q;console.error(q),K=Ee}K.name||(K.name=F),X[F]=K,K.rawDefinition=ie.bind(null,T),K.aliases&&Pt(K.aliases,{languageName:F})},listLanguages:function ot(){return Object.keys(X)},getLanguage:it,registerAliases:Pt,requireLanguage:function dt(F){var ie=it(F);if(ie)return ie;throw new Error("The '{}' language is required, but not loaded.".replace("{}",F))},autoDetection:vt,inherit:go,addPlugin:function ee(F){je.push(F)},vuePlugin:Kc}),T.debugMode=function(){Ge=!1},T.safeMode=function(){Ge=!0},T.versionString="10.3.1";for(const F in Ur)"object"==typeof Ur[F]&&Mt(Ur[F]);return Object.assign(T,Ur),T}({});At.exports=jo},458:At=>{const Mt="[A-Za-z$_][0-9A-Za-z$_]*",$e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],zt=["true","false","null","undefined","NaN","Infinity"],mn=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);function _n(be){return ze("(?=",be,")")}function In(be){return ze("(",be,")?")}function ze(...be){return be.map(fe=>function nn(be){return be?"string"==typeof be?be:be.source:null}(fe)).join("")}At.exports=function Gt(be){const fe=Mt,Ue={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Et,Wt)=>{const an=Et[0].length+Et.index,Po=Et.input[an];"<"!==Po?">"===Po&&(((Et,{after:Wt})=>{const an=Et[0].replace("<","</");return-1!==Et.input.indexOf(an,Wt)})(Et,{after:an})||Wt.ignoreMatch()):Wt.ignoreMatch()}},Sn={$pattern:Mt,keyword:$e.join(" "),literal:zt.join(" "),built_in:mn.join(" ")},yn=(Et,Wt)=>`\\b0[${Et}][${Wt}]([${Wt}_]*[${Wt}])?n?`,ut=/[1-9]([0-9_]*\d)?/,Er=/\d([0-9_]*\d)?/,ar=ze(/[eE][+-]?/,Er),Vr={className:"number",variants:[{begin:yn("bB","01")},{begin:yn("oO","0-7")},{begin:yn("xX","0-9a-fA-F")},{begin:ze(/\b/,ut,"n")},{begin:ze(/(\b0)?\./,Er,In(ar))},{begin:ze(/\b/,ut,In(ze(/\./,In(Er))),In(ar))},{begin:/\b0[\.n]?/}],relevance:0},Qn={className:"subst",begin:"\\$\\{",end:"\\}",keywords:Sn,contains:[]},Br={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[be.BACKSLASH_ESCAPE,Qn],subLanguage:"xml"}},sn={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[be.BACKSLASH_ESCAPE,Qn],subLanguage:"css"}},Cr={className:"string",begin:"`",end:"`",contains:[be.BACKSLASH_ESCAPE,Qn]},Tn={className:"comment",variants:[be.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:fe+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),be.C_BLOCK_COMMENT_MODE,be.C_LINE_COMMENT_MODE]},cr=[be.APOS_STRING_MODE,be.QUOTE_STRING_MODE,Br,sn,Cr,Vr,be.REGEXP_MODE];Qn.contains=cr.concat({begin:/{/,end:/}/,keywords:Sn,contains:["self"].concat(cr)});const lr=[].concat(Tn,Qn.contains),Un=lr.concat([{begin:/\(/,end:/\)/,keywords:Sn,contains:["self"].concat(lr)}]),Hn={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:Sn,contains:Un};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:Sn,exports:{PARAMS_CONTAINS:Un},illegal:/#(?![$_A-z])/,contains:[be.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},be.APOS_STRING_MODE,be.QUOTE_STRING_MODE,Br,sn,Cr,Tn,Vr,{begin:ze(/[{,\n]\s*/,_n(ze(/(\/\/.*$)*/,/(\/\*(.|\n)*\*\/)*/,/\s*/,fe+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:fe+_n("\\s*:"),relevance:0}]},{begin:"("+be.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[Tn,be.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\))*[^()]*\\))*[^()]*\\)|"+be.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:be.UNDERSCORE_IDENT_RE},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:Sn,contains:Un}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:"<>",end:"</>"},{begin:Ue.begin,"on:begin":Ue.isTrulyOpeningTag,end:Ue.end}],subLanguage:"xml",contains:[{begin:Ue.begin,end:Ue.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:Sn,contains:["self",be.inherit(be.TITLE_MODE,{begin:fe}),Hn],illegal:/%/},{className:"function",begin:be.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\))*[^()]*\\))*[^()]*\\)\\s*{",returnBegin:!0,contains:[Hn,be.inherit(be.TITLE_MODE,{begin:fe})]},{variants:[{begin:"\\."+fe},{begin:"\\$"+fe}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},be.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[\{;]/,excludeEnd:!0,contains:[be.inherit(be.TITLE_MODE,{begin:fe}),"self",Hn]},{begin:"(get|set)\\s+(?="+fe+"\\()",end:/{/,keywords:"get set",contains:[be.inherit(be.TITLE_MODE,{begin:fe}),{begin:/\(\)/},Hn]},{begin:/\$[(.]/}]}}},51:At=>{At.exports=function Mt($e){const gn={keyword:["and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","","from","global","if","import","in","is","lambda","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"].join(" "),built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"].join(" "),literal:["__debug__","Ellipsis","False","None","NotImplemented","True"].join(" ")},tn={className:"meta",begin:/^(>>>|\.\.\.) /},mn={className:"subst",begin:/\{/,end:/\}/,keywords:gn,illegal:/#/},nn={begin:/\{\{/,relevance:0},_n={className:"string",contains:[$e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[$e.BACKSLASH_ESCAPE,tn],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[$e.BACKSLASH_ESCAPE,tn],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[$e.BACKSLASH_ESCAPE,tn,nn,mn]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[$e.BACKSLASH_ESCAPE,tn,nn,mn]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[$e.BACKSLASH_ESCAPE,nn,mn]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[$e.BACKSLASH_ESCAPE,nn,mn]},$e.APOS_STRING_MODE,$e.QUOTE_STRING_MODE]},In={className:"number",relevance:0,variants:[{begin:$e.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:$e.C_NUMBER_RE+"[lLjJ]?"}]},ze={className:"params",variants:[{begin:/\(\s*\)/,skip:!0,className:null},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:gn,contains:["self",tn,In,_n,$e.HASH_COMMENT_MODE]}]};return mn.contains=[_n,In,tn],{name:"Python",aliases:["py","gyp","ipython"],keywords:gn,illegal:/(<\/|->|\?)|=>/,contains:[tn,In,{beginKeywords:"if",relevance:0},_n,$e.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[$e.UNDERSCORE_TITLE_MODE,ze,{begin:/->/,endsWithParent:!0,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}},428:At=>{At.exports=function Mt($e){var yt={className:"symbol",begin:"&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;"},on={begin:"\\s",contains:[{className:"meta-keyword",begin:"#?[a-z_][a-z1-9_-]+",illegal:"\\n"}]},gn=$e.inherit(on,{begin:"\\(",end:"\\)"}),tn=$e.inherit($e.APOS_STRING_MODE,{className:"meta-string"}),mn=$e.inherit($e.QUOTE_STRING_MODE,{className:"meta-string"}),nn={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[yt]},{begin:/'/,end:/'/,contains:[yt]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<![a-z]",end:">",relevance:10,contains:[on,mn,tn,gn,{begin:"\\[",end:"\\]",contains:[{className:"meta",begin:"<![a-z]",end:">",contains:[on,gn,mn,tn]}]}]},$e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},yt,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:"<style(?=\\s|>)",end:">",keywords:{name:"style"},contains:[nn],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[nn],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},nn]}]}}},935:()=>{"use strict";const At=globalThis;function Mt(v){return(At.__Zone_symbol_prefix||"__zone_symbol__")+v}const yt=Object.getOwnPropertyDescriptor,on=Object.defineProperty,gn=Object.getPrototypeOf,tn=Object.create,mn=Array.prototype.slice,nn="addEventListener",_n="removeEventListener",In=Mt(nn),ze=Mt(_n),Gt="true",be="false",Ot=Mt("");function fe(v,b){return Zone.current.wrap(v,b)}function Dr(v,b,R,w,N){return Zone.current.scheduleMacroTask(v,b,R,w,N)}const Ue=Mt,Sn=typeof window<"u",yn=Sn?window:void 0,ut=Sn&&yn||globalThis,Er="removeAttribute";function ar(v,b){for(let R=v.length-1;R>=0;R--)"function"==typeof v[R]&&(v[R]=fe(v[R],b+"_"+R));return v}function Qn(v){return!v||!1!==v.writable&&!("function"==typeof v.get&&typeof v.set>"u")}const Br=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,sn=!("nw"in ut)&&typeof ut.process<"u"&&"[object process]"===ut.process.toString(),Cr=!sn&&!Br&&!(!Sn||!yn.HTMLElement),po=typeof ut.process<"u"&&"[object process]"===ut.process.toString()&&!Br&&!(!Sn||!yn.HTMLElement),Tn={},cr=Ue("enable_beforeunload"),lr=function(v){if(!(v=v||ut.event))return;let b=Tn[v.type];b||(b=Tn[v.type]=Ue("ON_PROPERTY"+v.type));const R=this||v.target||ut,w=R[b];let N;return Cr&&R===yn&&"error"===v.type?(N=w&&w.call(this,v.message,v.filename,v.lineno,v.colno,v.error),!0===N&&v.preventDefault()):(N=w&&w.apply(this,arguments),"beforeunload"===v.type&&ut[cr]&&"string"==typeof N?v.returnValue=N:null!=N&&!N&&v.preventDefault()),N};function Un(v,b,R){let w=yt(v,b);if(!w&&R&&yt(R,b)&&(w={enumerable:!0,configurable:!0}),!w||!w.configurable)return;const N=Ue("on"+b+"patched");if(v.hasOwnProperty(N)&&v[N])return;delete w.writable,delete w.value;const $=w.get,ce=w.set,se=b.slice(2);let he=Tn[se];he||(he=Tn[se]=Ue("ON_PROPERTY"+se)),w.set=function(Ce){let ne=this;!ne&&v===ut&&(ne=ut),ne&&("function"==typeof ne[he]&&ne.removeEventListener(se,lr),ce&&ce.call(ne,null),ne[he]=Ce,"function"==typeof Ce&&ne.addEventListener(se,lr,!1))},w.get=function(){let Ce=this;if(!Ce&&v===ut&&(Ce=ut),!Ce)return null;const ne=Ce[he];if(ne)return ne;if($){let Ie=$.call(this);if(Ie)return w.set.call(this,Ie),"function"==typeof Ce[Er]&&Ce.removeAttribute(b),Ie}return null},on(v,b,w),v[N]=!0}function Hn(v,b,R){if(b)for(let w=0;w<b.length;w++)Un(v,"on"+b[w],R);else{const w=[];for(const N in v)"on"==N.slice(0,2)&&w.push(N);for(let N=0;N<w.length;N++)Un(v,w[N],R)}}const Et=Ue("originalInstance");function Wt(v){const b=ut[v];if(!b)return;ut[Ue(v)]=b,ut[v]=function(){const N=ar(arguments,v);switch(N.length){case 0:this[Et]=new b;break;case 1:this[Et]=new b(N[0]);break;case 2:this[Et]=new b(N[0],N[1]);break;case 3:this[Et]=new b(N[0],N[1],N[2]);break;case 4:this[Et]=new b(N[0],N[1],N[2],N[3]);break;default:throw new Error("Arg list too long.")}},ur(ut[v],b);const R=new b(function(){});let w;for(w in R)"XMLHttpRequest"===v&&"responseBlob"===w||function(N){"function"==typeof R[N]?ut[v].prototype[N]=function(){return this[Et][N].apply(this[Et],arguments)}:on(ut[v].prototype,N,{set:function($){"function"==typeof $?(this[Et][N]=fe($,v+"."+N),ur(this[Et][N],$)):this[Et][N]=$},get:function(){return this[Et][N]}})}(w);for(w in b)"prototype"!==w&&b.hasOwnProperty(w)&&(ut[v][w]=b[w])}function an(v,b,R){let w=v;for(;w&&!w.hasOwnProperty(b);)w=gn(w);!w&&v[b]&&(w=v);const N=Ue(b);let $=null;if(w&&(!($=w[N])||!w.hasOwnProperty(N))&&($=w[N]=w[b],Qn(w&&yt(w,b)))){const se=R($,N,b);w[b]=function(){return se(this,arguments)},ur(w[b],$)}return $}function Po(v,b,R){let w=null;function N($){const ce=$.data;return ce.args[ce.cbIdx]=function(){$.invoke.apply(this,arguments)},w.apply(ce.target,ce.args),$}w=an(v,b,$=>function(ce,se){const he=R(ce,se);return he.cbIdx>=0&&"function"==typeof se[he.cbIdx]?Dr(he.name,se[he.cbIdx],he,N):$.apply(ce,se)})}function ur(v,b){v[Ue("OriginalDelegate")]=b}let $i=!1,ii=!1;function aa(){if($i)return ii;$i=!0;try{const v=yn.navigator.userAgent;(-1!==v.indexOf("MSIE ")||-1!==v.indexOf("Trident/")||-1!==v.indexOf("Edge/"))&&(ii=!0)}catch{}return ii}function Ur(v){return"function"==typeof v}function zi(v){return"number"==typeof v}let Jn=!1;if(typeof window<"u")try{const v=Object.defineProperty({},"passive",{get:function(){Jn=!0}});window.addEventListener("test",v,v),window.removeEventListener("test",v,v)}catch{Jn=!1}const ca={useG:!0},Mn={},la={},Gi=new RegExp("^"+Ot+"(\\w+)(true|false)$"),ua=Ue("propagationStopped");function da(v,b){const R=(b?b(v):v)+be,w=(b?b(v):v)+Gt,N=Ot+R,$=Ot+w;Mn[v]={},Mn[v][be]=N,Mn[v][Gt]=$}function fa(v,b,R,w){const N=w&&w.add||nn,$=w&&w.rm||_n,ce=w&&w.listeners||"eventListeners",se=w&&w.rmAll||"removeAllListeners",he=Ue(N),Ce="."+N+":",ne="prependListener",Ie="."+ne+":",Le=function(ee,J,et){if(ee.isRemoved)return;const F=ee.callback;let ie;"object"==typeof F&&F.handleEvent&&(ee.callback=q=>F.handleEvent(q),ee.originalDelegate=F);try{ee.invoke(ee,J,[et])}catch(q){ie=q}const K=ee.options;return K&&"object"==typeof K&&K.once&&J[$].call(J,et.type,ee.originalDelegate?ee.originalDelegate:ee.callback,K),ie};function ot(ee,J,et){if(!(J=J||v.event))return;const F=ee||J.target||v,ie=F[Mn[J.type][et?Gt:be]];if(ie){const K=[];if(1===ie.length){const q=Le(ie[0],F,J);q&&K.push(q)}else{const q=ie.slice();for(let Q=0;Q<q.length&&(!J||!0!==J[ua]);Q++){const pe=Le(q[Q],F,J);pe&&K.push(pe)}}if(1===K.length)throw K[0];for(let q=0;q<K.length;q++){const Q=K[q];b.nativeScheduleMicroTask(()=>{throw Q})}}}const dt=function(ee){return ot(this,ee,!1)},it=function(ee){return ot(this,ee,!0)};function Pt(ee,J){if(!ee)return!1;let et=!0;J&&void 0!==J.useG&&(et=J.useG);const F=J&&J.vh;let ie=!0;J&&void 0!==J.chkDup&&(ie=J.chkDup);let K=!1;J&&void 0!==J.rt&&(K=J.rt);let q=ee;for(;q&&!q.hasOwnProperty(N);)q=gn(q);if(!q&&ee[N]&&(q=ee),!q||q[he])return!1;const Q=J&&J.eventNameToString,pe={},re=q[he]=q[N],te=q[Ue($)]=q[$],Te=q[Ue(ce)]=q[ce],Me=q[Ue(se)]=q[se];let Ct;J&&J.prepend&&(Ct=q[Ue(J.prepend)]=q[J.prepend]);const gt=et?function(I){if(!pe.isExisting)return re.call(pe.target,pe.eventName,pe.capture?it:dt,pe.options)}:function(I){return re.call(pe.target,pe.eventName,I.invoke,pe.options)},We=et?function(I){if(!I.isRemoved){const z=Mn[I.eventName];let Z;z&&(Z=z[I.capture?Gt:be]);const V=Z&&I.target[Z];if(V)for(let L=0;L<V.length;L++)if(V[L]===I){V.splice(L,1),I.isRemoved=!0,I.removeAbortListener&&(I.removeAbortListener(),I.removeAbortListener=null),0===V.length&&(I.allRemoved=!0,I.target[Z]=null);break}}if(I.allRemoved)return te.call(I.target,I.eventName,I.capture?it:dt,I.options)}:function(I){return te.call(I.target,I.eventName,I.invoke,I.options)},we=J&&J.diff?J.diff:function(I,z){const Z=typeof z;return"function"===Z&&I.callback===z||"object"===Z&&I.originalDelegate===z},qt=Zone[Ue("UNPATCHED_EVENTS")],tt=v[Ue("PASSIVE_EVENTS")],U=function(I,z,Z,V,L=!1,O=!1){return function(){const le=this||v;let Y=arguments[0];J&&J.transferEventName&&(Y=J.transferEventName(Y));let Ke=arguments[1];if(!Ke)return I.apply(this,arguments);if(sn&&"uncaughtException"===Y)return I.apply(this,arguments);let bt=!1;if("function"!=typeof Ke){if(!Ke.handleEvent)return I.apply(this,arguments);bt=!0}if(F&&!F(I,Ke,le,arguments))return;const $r=Jn&&!!tt&&-1!==tt.indexOf(Y),$n=function j(I){if("object"==typeof I&&null!==I){const z={...I};return I.signal&&(z.signal=I.signal),z}return I}(function ke(I,z){return!Jn&&"object"==typeof I&&I?!!I.capture:Jn&&z?"boolean"==typeof I?{capture:I,passive:!0}:I?"object"==typeof I&&!1!==I.passive?{...I,passive:!0}:I:{passive:!0}:I}(arguments[2],$r)),ye=$n?.signal;if(ye?.aborted)return;if(qt)for(let fr=0;fr<qt.length;fr++)if(Y===qt[fr])return $r?I.call(le,Y,Ke,$n):I.apply(this,arguments);const Vo=!!$n&&("boolean"==typeof $n||$n.capture),vn=!(!$n||"object"!=typeof $n)&&$n.once,hm=Zone.current;let ha=Mn[Y];ha||(da(Y,Q),ha=Mn[Y]);const Pd=ha[Vo?Gt:be];let pa,xn=le[Pd],Fd=!1;if(xn){if(Fd=!0,ie)for(let fr=0;fr<xn.length;fr++)if(we(xn[fr],Ke))return}else xn=le[Pd]=[];const Ld=le.constructor.name,jd=la[Ld];jd&&(pa=jd[Y]),pa||(pa=Ld+z+(Q?Q(Y):Y)),pe.options=$n,vn&&(pe.options.once=!1),pe.target=le,pe.capture=Vo,pe.eventName=Y,pe.isExisting=Fd;const si=et?ca:void 0;si&&(si.taskData=pe),ye&&(pe.options.signal=void 0);const dr=hm.scheduleEventTask(pa,Ke,si,Z,V);if(ye){pe.options.signal=ye;const fr=()=>dr.zone.cancelTask(dr);I.call(ye,"abort",fr,{once:!0}),dr.removeAbortListener=()=>ye.removeEventListener("abort",fr)}return pe.target=null,si&&(si.taskData=null),vn&&(pe.options.once=!0),!Jn&&"boolean"==typeof dr.options||(dr.options=$n),dr.target=le,dr.capture=Vo,dr.eventName=Y,bt&&(dr.originalDelegate=Ke),O?xn.unshift(dr):xn.push(dr),L?le:void 0}};return q[N]=U(re,Ce,gt,We,K),Ct&&(q[ne]=U(Ct,Ie,function(I){return Ct.call(pe.target,pe.eventName,I.invoke,pe.options)},We,K,!0)),q[$]=function(){const I=this||v;let z=arguments[0];J&&J.transferEventName&&(z=J.transferEventName(z));const Z=arguments[2],V=!!Z&&("boolean"==typeof Z||Z.capture),L=arguments[1];if(!L)return te.apply(this,arguments);if(F&&!F(te,L,I,arguments))return;const O=Mn[z];let le;O&&(le=O[V?Gt:be]);const Y=le&&I[le];if(Y)for(let Ke=0;Ke<Y.length;Ke++){const bt=Y[Ke];if(we(bt,L))return Y.splice(Ke,1),bt.isRemoved=!0,0!==Y.length||(bt.allRemoved=!0,I[le]=null,V||"string"!=typeof z)||(I[Ot+"ON_PROPERTY"+z]=null),bt.zone.cancelTask(bt),K?I:void 0}return te.apply(this,arguments)},q[ce]=function(){const I=this||v;let z=arguments[0];J&&J.transferEventName&&(z=J.transferEventName(z));const Z=[],V=Wi(I,Q?Q(z):z);for(let L=0;L<V.length;L++){const O=V[L];Z.push(O.originalDelegate?O.originalDelegate:O.callback)}return Z},q[se]=function(){const I=this||v;let z=arguments[0];if(z){J&&J.transferEventName&&(z=J.transferEventName(z));const Z=Mn[z];if(Z){const O=I[Z[be]],le=I[Z[Gt]];if(O){const Y=O.slice();for(let Ke=0;Ke<Y.length;Ke++){const bt=Y[Ke];this[$].call(this,z,bt.originalDelegate?bt.originalDelegate:bt.callback,bt.options)}}if(le){const Y=le.slice();for(let Ke=0;Ke<Y.length;Ke++){const bt=Y[Ke];this[$].call(this,z,bt.originalDelegate?bt.originalDelegate:bt.callback,bt.options)}}}}else{const Z=Object.keys(I);for(let V=0;V<Z.length;V++){const O=Gi.exec(Z[V]);let le=O&&O[1];le&&"removeListener"!==le&&this[se].call(this,le)}this[se].call(this,"removeListener")}if(K)return this},ur(q[N],re),ur(q[$],te),Me&&ur(q[se],Me),Te&&ur(q[ce],Te),!0}let vt=[];for(let ee=0;ee<R.length;ee++)vt[ee]=Pt(R[ee],w);return vt}function Wi(v,b){if(!b){const $=[];for(let ce in v){const se=Gi.exec(ce);let he=se&&se[1];if(he&&(!b||he===b)){const Ce=v[ce];if(Ce)for(let ne=0;ne<Ce.length;ne++)$.push(Ce[ne])}}return $}let R=Mn[b];R||(da(b),R=Mn[b]);const w=v[R[be]],N=v[R[Gt]];return w?N?w.concat(N):w.slice():N?N.slice():[]}function Kc(v,b){const R=v.Event;R&&R.prototype&&b.patchMethod(R.prototype,"stopImmediatePropagation",w=>function(N,$){N[ua]=!0,w&&w.apply(N,$)})}const go=Ue("zoneTask");function Hr(v,b,R,w){let N=null,$=null;R+=w;const ce={};function se(Ce){const ne=Ce.data;ne.args[0]=function(){return Ce.invoke.apply(this,arguments)};const Ie=N.apply(v,ne.args);return zi(Ie)?ne.handleId=Ie:(ne.handle=Ie,ne.isRefreshable=Ur(Ie.refresh)),Ce}function he(Ce){const{handle:ne,handleId:Ie}=Ce.data;return $.call(v,ne??Ie)}N=an(v,b+=w,Ce=>function(ne,Ie){if(Ur(Ie[0])){const Le={isRefreshable:!1,isPeriodic:"Interval"===w,delay:"Timeout"===w||"Interval"===w?Ie[1]||0:void 0,args:Ie},ot=Ie[0];Ie[0]=function(){try{return ot.apply(this,arguments)}finally{const{handle:et,handleId:F,isPeriodic:ie,isRefreshable:K}=Le;!ie&&!K&&(F?delete ce[F]:et&&(et[go]=null))}};const dt=Dr(b,Ie[0],Le,se,he);if(!dt)return dt;const{handleId:it,handle:Pt,isRefreshable:vt,isPeriodic:ee}=dt.data;if(it)ce[it]=dt;else if(Pt&&(Pt[go]=dt,vt&&!ee)){const J=Pt.refresh;Pt.refresh=function(){const{zone:et,state:F}=dt;return"notScheduled"===F?(dt._state="scheduled",et._updateTaskCount(dt,1)):"running"===F&&(dt._state="scheduling"),J.call(this)}}return Pt??it??dt}return Ce.apply(v,Ie)}),$=an(v,R,Ce=>function(ne,Ie){const Le=Ie[0];let ot;zi(Le)?(ot=ce[Le],delete ce[Le]):(ot=Le?.[go],ot?Le[go]=null:ot=Le),ot?.type?ot.cancelFn&&ot.zone.cancelTask(ot):Ce.apply(v,Ie)})}function jo(v,b,R){if(!R||0===R.length)return b;const w=R.filter($=>$.target===v);if(!w||0===w.length)return b;const N=w[0].ignoreProperties;return b.filter($=>-1===N.indexOf($))}function T(v,b,R,w){v&&Hn(v,jo(v,b,R),w)}function B(v){return Object.getOwnPropertyNames(v).filter(b=>b.startsWith("on")&&b.length>2).map(b=>b.substring(2))}function cn(v,b,R,w,N){const $=Zone.__symbol__(w);if(b[$])return;const ce=b[$]=b[w];b[w]=function(se,he,Ce){return he&&he.prototype&&N.forEach(function(ne){const Ie=`${R}.${w}::`+ne,Le=he.prototype;try{if(Le.hasOwnProperty(ne)){const ot=v.ObjectGetOwnPropertyDescriptor(Le,ne);ot&&ot.value?(ot.value=v.wrapWithCurrentZone(ot.value,Ie),v._redefineProperty(he.prototype,ne,ot)):Le[ne]&&(Le[ne]=v.wrapWithCurrentZone(Le[ne],Ie))}else Le[ne]&&(Le[ne]=v.wrapWithCurrentZone(Le[ne],Ie))}catch{}}),ce.call(b,se,he,Ce)},v.attachOriginToPatched(b[w],ce)}const ae=function zt(){const v=globalThis,b=!0===v[Mt("forceDuplicateZoneCheck")];if(v.Zone&&(b||"function"!=typeof v.Zone.__symbol__))throw new Error("Zone already loaded.");return v.Zone??=function $e(){const v=At.performance;function b(ke){v&&v.mark&&v.mark(ke)}function R(ke,C){v&&v.measure&&v.measure(ke,C)}b("Zone");let w=(()=>{class ke{static{this.__symbol__=Mt}static assertZonePatched(){if(At.Promise!==pe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let D=ke.current;for(;D.parent;)D=D.parent;return D}static get current(){return te.zone}static get currentTask(){return Te}static __load_patch(D,E,ue=!1){if(pe.hasOwnProperty(D)){const _e=!0===At[Mt("forceDuplicateZoneCheck")];if(!ue&&_e)throw Error("Already loaded patch: "+D)}else if(!At["__Zone_disable_"+D]){const _e="Zone:"+D;b(_e),pe[D]=E(At,ke,re),R(_e,_e)}}get parent(){return this._parent}get name(){return this._name}constructor(D,E){this._parent=D,this._name=E?E.name||"unnamed":"<root>",this._properties=E&&E.properties||{},this._zoneDelegate=new $(this,this._parent&&this._parent._zoneDelegate,E)}get(D){const E=this.getZoneWith(D);if(E)return E._properties[D]}getZoneWith(D){let E=this;for(;E;){if(E._properties.hasOwnProperty(D))return E;E=E._parent}return null}fork(D){if(!D)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,D)}wrap(D,E){if("function"!=typeof D)throw new Error("Expecting function got: "+D);const ue=this._zoneDelegate.intercept(this,D,E),_e=this;return function(){return _e.runGuarded(ue,this,arguments,E)}}run(D,E,ue,_e){te={parent:te,zone:this};try{return this._zoneDelegate.invoke(this,D,E,ue,_e)}finally{te=te.parent}}runGuarded(D,E=null,ue,_e){te={parent:te,zone:this};try{try{return this._zoneDelegate.invoke(this,D,E,ue,_e)}catch(gt){if(this._zoneDelegate.handleError(this,gt))throw gt}}finally{te=te.parent}}runTask(D,E,ue){if(D.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(D.zone||Pt).name+"; Execution: "+this.name+")");const _e=D,{type:gt,data:{isPeriodic:We=!1,isRefreshable:kt=!1}={}}=D;if(D.state===vt&&(gt===Q||gt===q))return;const we=D.state!=et;we&&_e._transitionTo(et,J);const qt=Te;Te=_e,te={parent:te,zone:this};try{gt==q&&D.data&&!We&&!kt&&(D.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,_e,E,ue)}catch(tt){if(this._zoneDelegate.handleError(this,tt))throw tt}}finally{const tt=D.state;if(tt!==vt&&tt!==ie)if(gt==Q||We||kt&&tt===ee)we&&_e._transitionTo(J,et,ee);else{const j=_e._zoneDelegates;this._updateTaskCount(_e,-1),we&&_e._transitionTo(vt,et,vt),kt&&(_e._zoneDelegates=j)}te=te.parent,Te=qt}}scheduleTask(D){if(D.zone&&D.zone!==this){let ue=this;for(;ue;){if(ue===D.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${D.zone.name}`);ue=ue.parent}}D._transitionTo(ee,vt);const E=[];D._zoneDelegates=E,D._zone=this;try{D=this._zoneDelegate.scheduleTask(this,D)}catch(ue){throw D._transitionTo(ie,ee,vt),this._zoneDelegate.handleError(this,ue),ue}return D._zoneDelegates===E&&this._updateTaskCount(D,1),D.state==ee&&D._transitionTo(J,ee),D}scheduleMicroTask(D,E,ue,_e){return this.scheduleTask(new ce(K,D,E,ue,_e,void 0))}scheduleMacroTask(D,E,ue,_e,gt){return this.scheduleTask(new ce(q,D,E,ue,_e,gt))}scheduleEventTask(D,E,ue,_e,gt){return this.scheduleTask(new ce(Q,D,E,ue,_e,gt))}cancelTask(D){if(D.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(D.zone||Pt).name+"; Execution: "+this.name+")");if(D.state===J||D.state===et){D._transitionTo(F,J,et);try{this._zoneDelegate.cancelTask(this,D)}catch(E){throw D._transitionTo(ie,F),this._zoneDelegate.handleError(this,E),E}return this._updateTaskCount(D,-1),D._transitionTo(vt,F),D.runCount=-1,D}}_updateTaskCount(D,E){const ue=D._zoneDelegates;-1==E&&(D._zoneDelegates=null);for(let _e=0;_e<ue.length;_e++)ue[_e]._updateTaskCount(D.type,E)}}return ke})();const N={name:"",onHasTask:(ke,C,D,E)=>ke.hasTask(D,E),onScheduleTask:(ke,C,D,E)=>ke.scheduleTask(D,E),onInvokeTask:(ke,C,D,E,ue,_e)=>ke.invokeTask(D,E,ue,_e),onCancelTask:(ke,C,D,E)=>ke.cancelTask(D,E)};class ${get zone(){return this._zone}constructor(C,D,E){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=C,this._parentDelegate=D,this._forkZS=E&&(E&&E.onFork?E:D._forkZS),this._forkDlgt=E&&(E.onFork?D:D._forkDlgt),this._forkCurrZone=E&&(E.onFork?this._zone:D._forkCurrZone),this._interceptZS=E&&(E.onIntercept?E:D._interceptZS),this._interceptDlgt=E&&(E.onIntercept?D:D._interceptDlgt),this._interceptCurrZone=E&&(E.onIntercept?this._zone:D._interceptCurrZone),this._invokeZS=E&&(E.onInvoke?E:D._invokeZS),this._invokeDlgt=E&&(E.onInvoke?D:D._invokeDlgt),this._invokeCurrZone=E&&(E.onInvoke?this._zone:D._invokeCurrZone),this._handleErrorZS=E&&(E.onHandleError?E:D._handleErrorZS),this._handleErrorDlgt=E&&(E.onHandleError?D:D._handleErrorDlgt),this._handleErrorCurrZone=E&&(E.onHandleError?this._zone:D._handleErrorCurrZone),this._scheduleTaskZS=E&&(E.onScheduleTask?E:D._scheduleTaskZS),this._scheduleTaskDlgt=E&&(E.onScheduleTask?D:D._scheduleTaskDlgt),this._scheduleTaskCurrZone=E&&(E.onScheduleTask?this._zone:D._scheduleTaskCurrZone),this._invokeTaskZS=E&&(E.onInvokeTask?E:D._invokeTaskZS),this._invokeTaskDlgt=E&&(E.onInvokeTask?D:D._invokeTaskDlgt),this._invokeTaskCurrZone=E&&(E.onInvokeTask?this._zone:D._invokeTaskCurrZone),this._cancelTaskZS=E&&(E.onCancelTask?E:D._cancelTaskZS),this._cancelTaskDlgt=E&&(E.onCancelTask?D:D._cancelTaskDlgt),this._cancelTaskCurrZone=E&&(E.onCancelTask?this._zone:D._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const ue=E&&E.onHasTask;(ue||D&&D._hasTaskZS)&&(this._hasTaskZS=ue?E:N,this._hasTaskDlgt=D,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,E.onScheduleTask||(this._scheduleTaskZS=N,this._scheduleTaskDlgt=D,this._scheduleTaskCurrZone=this._zone),E.onInvokeTask||(this._invokeTaskZS=N,this._invokeTaskDlgt=D,this._invokeTaskCurrZone=this._zone),E.onCancelTask||(this._cancelTaskZS=N,this._cancelTaskDlgt=D,this._cancelTaskCurrZone=this._zone))}fork(C,D){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,C,D):new w(C,D)}intercept(C,D,E){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,C,D,E):D}invoke(C,D,E,ue,_e){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,C,D,E,ue,_e):D.apply(E,ue)}handleError(C,D){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,C,D)}scheduleTask(C,D){let E=D;if(this._scheduleTaskZS)this._hasTaskZS&&E._zoneDelegates.push(this._hasTaskDlgtOwner),E=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,C,D),E||(E=D);else if(D.scheduleFn)D.scheduleFn(D);else{if(D.type!=K)throw new Error("Task is missing scheduleFn.");dt(D)}return E}invokeTask(C,D,E,ue){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,C,D,E,ue):D.callback.apply(E,ue)}cancelTask(C,D){let E;if(this._cancelTaskZS)E=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,C,D);else{if(!D.cancelFn)throw Error("Task is not cancelable");E=D.cancelFn(D)}return E}hasTask(C,D){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,C,D)}catch(E){this.handleError(C,E)}}_updateTaskCount(C,D){const E=this._taskCounts,ue=E[C],_e=E[C]=ue+D;if(_e<0)throw new Error("More tasks executed then were scheduled.");0!=ue&&0!=_e||this.hasTask(this._zone,{microTask:E.microTask>0,macroTask:E.macroTask>0,eventTask:E.eventTask>0,change:C})}}class ce{constructor(C,D,E,ue,_e,gt){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=C,this.source=D,this.data=ue,this.scheduleFn=_e,this.cancelFn=gt,!E)throw new Error("callback is not defined");this.callback=E;const We=this;this.invoke=C===Q&&ue&&ue.useG?ce.invokeTask:function(){return ce.invokeTask.call(At,We,this,arguments)}}static invokeTask(C,D,E){C||(C=this),Me++;try{return C.runCount++,C.zone.runTask(C,D,E)}finally{1==Me&&it(),Me--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(vt,ee)}_transitionTo(C,D,E){if(this._state!==D&&this._state!==E)throw new Error(`${this.type} '${this.source}': can not transition to '${C}', expecting state '${D}'${E?" or '"+E+"'":""}, was '${this._state}'.`);this._state=C,C==vt&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const se=Mt("setTimeout"),he=Mt("Promise"),Ce=Mt("then");let Le,ne=[],Ie=!1;function ot(ke){if(Le||At[he]&&(Le=At[he].resolve(0)),Le){let C=Le[Ce];C||(C=Le.then),C.call(Le,ke)}else At[se](ke,0)}function dt(ke){0===Me&&0===ne.length&&ot(it),ke&&ne.push(ke)}function it(){if(!Ie){for(Ie=!0;ne.length;){const ke=ne;ne=[];for(let C=0;C<ke.length;C++){const D=ke[C];try{D.zone.runTask(D,null,null)}catch(E){re.onUnhandledError(E)}}}re.microtaskDrainDone(),Ie=!1}}const Pt={name:"NO ZONE"},vt="notScheduled",ee="scheduling",J="scheduled",et="running",F="canceling",ie="unknown",K="microTask",q="macroTask",Q="eventTask",pe={},re={symbol:Mt,currentZoneFrame:()=>te,onUnhandledError:Ct,microtaskDrainDone:Ct,scheduleMicroTask:dt,showUncaughtError:()=>!w[Mt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Ct,patchMethod:()=>Ct,bindArguments:()=>[],patchThen:()=>Ct,patchMacroTask:()=>Ct,patchEventPrototype:()=>Ct,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Ct,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Ct,wrapWithCurrentZone:()=>Ct,filterProperties:()=>[],attachOriginToPatched:()=>Ct,_redefineProperty:()=>Ct,patchCallbacks:()=>Ct,nativeScheduleMicroTask:ot};let te={parent:null,zone:new w(null,null)},Te=null,Me=0;function Ct(){}return R("Zone","Zone"),w}(),v.Zone}();(function Ee(v){(function je(v){v.__load_patch("ZoneAwarePromise",(b,R,w)=>{const N=Object.getOwnPropertyDescriptor,$=Object.defineProperty,se=w.symbol,he=[],Ce=!1!==b[se("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],ne=se("Promise"),Ie=se("then"),Le="__creationTrace__";w.onUnhandledError=j=>{if(w.showUncaughtError()){const U=j&&j.rejection;U?console.error("Unhandled Promise rejection:",U instanceof Error?U.message:U,"; Zone:",j.zone.name,"; Task:",j.task&&j.task.source,"; Value:",U,U instanceof Error?U.stack:void 0):console.error(j)}},w.microtaskDrainDone=()=>{for(;he.length;){const j=he.shift();try{j.zone.runGuarded(()=>{throw j.throwOriginal?j.rejection:j})}catch(U){dt(U)}}};const ot=se("unhandledPromiseRejectionHandler");function dt(j){w.onUnhandledError(j);try{const U=R[ot];"function"==typeof U&&U.call(this,j)}catch{}}function it(j){return j&&j.then}function Pt(j){return j}function vt(j){return We.reject(j)}const ee=se("state"),J=se("value"),et=se("finally"),F=se("parentPromiseValue"),ie=se("parentPromiseState"),K="Promise.then",q=null,Q=!0,pe=!1,re=0;function te(j,U){return I=>{try{ke(j,U,I)}catch(z){ke(j,!1,z)}}}const Te=function(){let j=!1;return function(I){return function(){j||(j=!0,I.apply(null,arguments))}}},Me="Promise resolved with itself",Ct=se("currentTaskTrace");function ke(j,U,I){const z=Te();if(j===I)throw new TypeError(Me);if(j[ee]===q){let Z=null;try{("object"==typeof I||"function"==typeof I)&&(Z=I&&I.then)}catch(V){return z(()=>{ke(j,!1,V)})(),j}if(U!==pe&&I instanceof We&&I.hasOwnProperty(ee)&&I.hasOwnProperty(J)&&I[ee]!==q)D(I),ke(j,I[ee],I[J]);else if(U!==pe&&"function"==typeof Z)try{Z.call(I,z(te(j,U)),z(te(j,!1)))}catch(V){z(()=>{ke(j,!1,V)})()}else{j[ee]=U;const V=j[J];if(j[J]=I,j[et]===et&&U===Q&&(j[ee]=j[ie],j[J]=j[F]),U===pe&&I instanceof Error){const L=R.currentTask&&R.currentTask.data&&R.currentTask.data[Le];L&&$(I,Ct,{configurable:!0,enumerable:!1,writable:!0,value:L})}for(let L=0;L<V.length;)E(j,V[L++],V[L++],V[L++],V[L++]);if(0==V.length&&U==pe){j[ee]=re;let L=I;try{throw new Error("Uncaught (in promise): "+function ce(j){return j&&j.toString===Object.prototype.toString?(j.constructor&&j.constructor.name||"")+": "+JSON.stringify(j):j?j.toString():Object.prototype.toString.call(j)}(I)+(I&&I.stack?"\n"+I.stack:""))}catch(O){L=O}Ce&&(L.throwOriginal=!0),L.rejection=I,L.promise=j,L.zone=R.current,L.task=R.currentTask,he.push(L),w.scheduleMicroTask()}}}return j}const C=se("rejectionHandledHandler");function D(j){if(j[ee]===re){try{const U=R[C];U&&"function"==typeof U&&U.call(this,{rejection:j[J],promise:j})}catch{}j[ee]=pe;for(let U=0;U<he.length;U++)j===he[U].promise&&he.splice(U,1)}}function E(j,U,I,z,Z){D(j);const V=j[ee],L=V?"function"==typeof z?z:Pt:"function"==typeof Z?Z:vt;U.scheduleMicroTask(K,()=>{try{const O=j[J],le=!!I&&et===I[et];le&&(I[F]=O,I[ie]=V);const Y=U.run(L,void 0,le&&L!==vt&&L!==Pt?[]:[O]);ke(I,!0,Y)}catch(O){ke(I,!1,O)}},I)}const _e=function(){},gt=b.AggregateError;class We{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(U){return U instanceof We?U:ke(new this(null),Q,U)}static reject(U){return ke(new this(null),pe,U)}static withResolvers(){const U={};return U.promise=new We((I,z)=>{U.resolve=I,U.reject=z}),U}static any(U){if(!U||"function"!=typeof U[Symbol.iterator])return Promise.reject(new gt([],"All promises were rejected"));const I=[];let z=0;try{for(let L of U)z++,I.push(We.resolve(L))}catch{return Promise.reject(new gt([],"All promises were rejected"))}if(0===z)return Promise.reject(new gt([],"All promises were rejected"));let Z=!1;const V=[];return new We((L,O)=>{for(let le=0;le<I.length;le++)I[le].then(Y=>{Z||(Z=!0,L(Y))},Y=>{V.push(Y),z--,0===z&&(Z=!0,O(new gt(V,"All promises were rejected")))})})}static race(U){let I,z,Z=new this((O,le)=>{I=O,z=le});function V(O){I(O)}function L(O){z(O)}for(let O of U)it(O)||(O=this.resolve(O)),O.then(V,L);return Z}static all(U){return We.allWithCallback(U)}static allSettled(U){return(this&&this.prototype instanceof We?this:We).allWithCallback(U,{thenCallback:z=>({status:"fulfilled",value:z}),errorCallback:z=>({status:"rejected",reason:z})})}static allWithCallback(U,I){let z,Z,V=new this((Y,Ke)=>{z=Y,Z=Ke}),L=2,O=0;const le=[];for(let Y of U){it(Y)||(Y=this.resolve(Y));const Ke=O;try{Y.then(bt=>{le[Ke]=I?I.thenCallback(bt):bt,L--,0===L&&z(le)},bt=>{I?(le[Ke]=I.errorCallback(bt),L--,0===L&&z(le)):Z(bt)})}catch(bt){Z(bt)}L++,O++}return L-=2,0===L&&z(le),V}constructor(U){const I=this;if(!(I instanceof We))throw new Error("Must be an instanceof Promise.");I[ee]=q,I[J]=[];try{const z=Te();U&&U(z(te(I,Q)),z(te(I,pe)))}catch(z){ke(I,!1,z)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return We}then(U,I){let z=this.constructor?.[Symbol.species];(!z||"function"!=typeof z)&&(z=this.constructor||We);const Z=new z(_e),V=R.current;return this[ee]==q?this[J].push(V,Z,U,I):E(this,V,Z,U,I),Z}catch(U){return this.then(null,U)}finally(U){let I=this.constructor?.[Symbol.species];(!I||"function"!=typeof I)&&(I=We);const z=new I(_e);z[et]=et;const Z=R.current;return this[ee]==q?this[J].push(Z,z,U,U):E(this,Z,z,U,U),z}}We.resolve=We.resolve,We.reject=We.reject,We.race=We.race,We.all=We.all;const kt=b[ne]=b.Promise;b.Promise=We;const we=se("thenPatched");function qt(j){const U=j.prototype,I=N(U,"then");if(I&&(!1===I.writable||!I.configurable))return;const z=U.then;U[Ie]=z,j.prototype.then=function(Z,V){return new We((O,le)=>{z.call(this,O,le)}).then(Z,V)},j[we]=!0}return w.patchThen=qt,kt&&(qt(kt),an(b,"fetch",j=>function tt(j){return function(U,I){let z=j.apply(U,I);if(z instanceof We)return z;let Z=z.constructor;return Z[we]||qt(Z),z}}(j))),Promise[R.__symbol__("uncaughtPromiseErrors")]=he,We})})(v),function Ge(v){v.__load_patch("toString",b=>{const R=Function.prototype.toString,w=Ue("OriginalDelegate"),N=Ue("Promise"),$=Ue("Error"),ce=function(){if("function"==typeof this){const ne=this[w];if(ne)return"function"==typeof ne?R.call(ne):Object.prototype.toString.call(ne);if(this===Promise){const Ie=b[N];if(Ie)return R.call(Ie)}if(this===Error){const Ie=b[$];if(Ie)return R.call(Ie)}}return R.call(this)};ce[w]=R,Function.prototype.toString=ce;const se=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":se.call(this)}})}(v),function W(v){v.__load_patch("util",(b,R,w)=>{const N=B(b);w.patchOnProperties=Hn,w.patchMethod=an,w.bindArguments=ar,w.patchMacroTask=Po;const $=R.__symbol__("BLACK_LISTED_EVENTS"),ce=R.__symbol__("UNPATCHED_EVENTS");b[ce]&&(b[$]=b[ce]),b[$]&&(R[$]=R[ce]=b[$]),w.patchEventPrototype=Kc,w.patchEventTarget=fa,w.isIEOrEdge=aa,w.ObjectDefineProperty=on,w.ObjectGetOwnPropertyDescriptor=yt,w.ObjectCreate=tn,w.ArraySlice=mn,w.patchClass=Wt,w.wrapWithCurrentZone=fe,w.filterProperties=jo,w.attachOriginToPatched=ur,w._redefineProperty=Object.defineProperty,w.patchCallbacks=cn,w.getGlobalObjects=()=>({globalSources:la,zoneSymbolEventNames:Mn,eventNames:N,isBrowser:Cr,isMix:po,isNode:sn,TRUE_STR:Gt,FALSE_STR:be,ZONE_SYMBOL_PREFIX:Ot,ADD_EVENT_LISTENER_STR:nn,REMOVE_EVENT_LISTENER_STR:_n})})}(v)})(ae),function Ve(v){v.__load_patch("legacy",b=>{const R=b[v.__symbol__("legacyPatch")];R&&R()}),v.__load_patch("timers",b=>{const R="set",w="clear";Hr(b,R,w,"Timeout"),Hr(b,R,w,"Interval"),Hr(b,R,w,"Immediate")}),v.__load_patch("requestAnimationFrame",b=>{Hr(b,"request","cancel","AnimationFrame"),Hr(b,"mozRequest","mozCancel","AnimationFrame"),Hr(b,"webkitRequest","webkitCancel","AnimationFrame")}),v.__load_patch("blocking",(b,R)=>{const w=["alert","prompt","confirm"];for(let N=0;N<w.length;N++)an(b,w[N],(ce,se,he)=>function(Ce,ne){return R.current.run(ce,b,ne,he)})}),v.__load_patch("EventTarget",(b,R,w)=>{(function qi(v,b){b.patchEventPrototype(v,b)})(b,w),function Lo(v,b){if(Zone[b.symbol("patchEventTarget")])return;const{eventNames:R,zoneSymbolEventNames:w,TRUE_STR:N,FALSE_STR:$,ZONE_SYMBOL_PREFIX:ce}=b.getGlobalObjects();for(let he=0;he<R.length;he++){const Ce=R[he],Le=ce+(Ce+$),ot=ce+(Ce+N);w[Ce]={},w[Ce][$]=Le,w[Ce][N]=ot}const se=v.EventTarget;se&&se.prototype&&b.patchEventTarget(v,b,[se&&se.prototype])}(b,w);const N=b.XMLHttpRequestEventTarget;N&&N.prototype&&w.patchEventTarget(b,w,[N.prototype])}),v.__load_patch("MutationObserver",(b,R,w)=>{Wt("MutationObserver"),Wt("WebKitMutationObserver")}),v.__load_patch("IntersectionObserver",(b,R,w)=>{Wt("IntersectionObserver")}),v.__load_patch("FileReader",(b,R,w)=>{Wt("FileReader")}),v.__load_patch("on_property",(b,R,w)=>{!function X(v,b){if(sn&&!po||Zone[v.symbol("patchEvents")])return;const R=b.__Zone_ignore_on_properties;let w=[];if(Cr){const N=window;w=w.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const $=function Yc(){try{const v=yn.navigator.userAgent;if(-1!==v.indexOf("MSIE ")||-1!==v.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:N,ignoreProperties:["error"]}]:[];T(N,B(N),R&&R.concat($),gn(N))}w=w.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let N=0;N<w.length;N++){const $=b[w[N]];$&&$.prototype&&T($.prototype,B($.prototype),R)}}(w,b)}),v.__load_patch("customElements",(b,R,w)=>{!function ht(v,b){const{isBrowser:R,isMix:w}=b.getGlobalObjects();(R||w)&&v.customElements&&"customElements"in v&&b.patchCallbacks(b,v.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(b,w)}),v.__load_patch("XHR",(b,R)=>{!function Ce(ne){const Ie=ne.XMLHttpRequest;if(!Ie)return;const Le=Ie.prototype;let dt=Le[In],it=Le[ze];if(!dt){const re=ne.XMLHttpRequestEventTarget;if(re){const te=re.prototype;dt=te[In],it=te[ze]}}const Pt="readystatechange",vt="scheduled";function ee(re){const te=re.data,Te=te.target;Te[ce]=!1,Te[he]=!1;const Me=Te[$];dt||(dt=Te[In],it=Te[ze]),Me&&it.call(Te,Pt,Me);const Ct=Te[$]=()=>{if(Te.readyState===Te.DONE)if(!te.aborted&&Te[ce]&&re.state===vt){const C=Te[R.__symbol__("loadfalse")];if(0!==Te.status&&C&&C.length>0){const D=re.invoke;re.invoke=function(){const E=Te[R.__symbol__("loadfalse")];for(let ue=0;ue<E.length;ue++)E[ue]===re&&E.splice(ue,1);!te.aborted&&re.state===vt&&D.call(re)},C.push(re)}else re.invoke()}else!te.aborted&&!1===Te[ce]&&(Te[he]=!0)};return dt.call(Te,Pt,Ct),Te[w]||(Te[w]=re),Q.apply(Te,te.args),Te[ce]=!0,re}function J(){}function et(re){const te=re.data;return te.aborted=!0,pe.apply(te.target,te.args)}const F=an(Le,"open",()=>function(re,te){return re[N]=0==te[2],re[se]=te[1],F.apply(re,te)}),K=Ue("fetchTaskAborting"),q=Ue("fetchTaskScheduling"),Q=an(Le,"send",()=>function(re,te){if(!0===R.current[q]||re[N])return Q.apply(re,te);{const Te={target:re,url:re[se],isPeriodic:!1,args:te,aborted:!1},Me=Dr("XMLHttpRequest.send",J,Te,ee,et);re&&!0===re[he]&&!Te.aborted&&Me.state===vt&&Me.invoke()}}),pe=an(Le,"abort",()=>function(re,te){const Te=function ot(re){return re[w]}(re);if(Te&&"string"==typeof Te.type){if(null==Te.cancelFn||Te.data&&Te.data.aborted)return;Te.zone.cancelTask(Te)}else if(!0===R.current[K])return pe.apply(re,te)})}(b);const w=Ue("xhrTask"),N=Ue("xhrSync"),$=Ue("xhrListener"),ce=Ue("xhrScheduled"),se=Ue("xhrURL"),he=Ue("xhrErrorBeforeScheduled")}),v.__load_patch("geolocation",b=>{b.navigator&&b.navigator.geolocation&&function Vr(v,b){const R=v.constructor.name;for(let w=0;w<b.length;w++){const N=b[w],$=v[N];if($){if(!Qn(yt(v,N)))continue;v[N]=(se=>{const he=function(){return se.apply(this,ar(arguments,R+"."+N))};return ur(he,se),he})($)}}}(b.navigator.geolocation,["getCurrentPosition","watchPosition"])}),v.__load_patch("PromiseRejectionEvent",(b,R)=>{function w(N){return function($){Wi(b,N).forEach(se=>{const he=b.PromiseRejectionEvent;if(he){const Ce=new he(N,{promise:$.promise,reason:$.rejection});se.invoke(Ce)}})}}b.PromiseRejectionEvent&&(R[Ue("unhandledPromiseRejectionHandler")]=w("unhandledrejection"),R[Ue("rejectionHandledHandler")]=w("rejectionhandled"))}),v.__load_patch("queueMicrotask",(b,R,w)=>{!function Fo(v,b){b.patchMethod(v,"queueMicrotask",R=>function(w,N){Zone.current.scheduleMicroTask("queueMicrotask",N[0])})}(b,w)})}(ae)}},At=>{At(At.s=523)}]);